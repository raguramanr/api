<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>LoadImage.tcl</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#LoadImage.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<p><strong>LoadImage.tcl</strong>&nbsp;&nbsp;<span class="filetype-link">(<a href="LoadImage.tcl-annot.html">annotations</a> | <a href="LoadImage.tcl.txt">original source</a>)</span>
</p>
<pre class="src-code">
<span class="comment-line">#!/usr/bin/tclsh</span>

package require Tclx


<strong><a name="::::print_usage_6">proc <a href="LoadImage.tcl-annot.html#::::print_usage">::::print_usage</a></a></strong> {} {
   <span class="comment-line"># EY-03-06-2007: Changed usage info for new Panther platform.</span>
   puts &#34;\r&#34;
   puts {Usage: LoadImage.tcl -cfg &lt;cfg.cfg&gt; -i386ImagePath &lt;path to i386 image&gt; -marinerImagePath &lt;path to mariner image&gt; -aspenImagePath &lt;path to aspen image&gt; -cougarImagePath &lt;path to cougar image&gt; -viperImagePath &lt;path to viper image&gt; -jaguarImagePath &lt;path to jaguar image&gt; -olympicImagePath &lt;path to olympic image&gt; -pantherImagePath &lt;path to panther image&gt; -voyagerImagePath &lt;path to voyager image&gt; -x650ImagePath &lt;path to x650 image&gt; -x480ImagePath &lt;path to x480 image&gt; -NWIImagePath &lt;path to NWI image&gt; -everestImagePath &lt;path to everest image&gt; -bootrom &lt;bootrom&gt;}
   puts {      [&lt;cfg&gt;]: f48_std.cfg}
   puts {      [&lt;i386ImagePath&gt;]: ./exosi386.xos}
   puts {      [&lt;marinerImagePath&gt;]: ./exosmariner.xos}
   puts {      [&lt;aspenImagePath&gt;]: ./exosaspen.xos}
   puts {      [&lt;cougarImagePath&gt;]: ./exoscougar.xos}
   puts {      [&lt;viperImagePath&gt;]: ./exosviper.xos}
   puts {      [&lt;jaguarImagePath&gt;]: ./exosjaguar.xos}
   puts {      [&lt;olympicImagePath&gt;]: ./exosolympic.xos}
   puts {      [&lt;pantherImagePath&gt;]: ./exospanther.xos}
   puts {      [&lt;voyagerImagePath&gt;]: ./exosvoyager.xos}
   puts {      [&lt;x650ImagePath&gt;]: ./exosx650.xos}
   puts {      [&lt;x480ImagePath&gt;]: ./exosx480.xos}
   puts {      [&lt;NWIImagePath&gt;]: ./exosNWI.xos}
   puts {      [&lt;everestImagePath&gt;]: ./exoseverest.xos}
   puts {         (Script verifies the platform before download image)}
   puts {      [&lt;bootrom&gt;]: bootver (assume in root of your location share)}
   puts {          }
   puts {         (Typical Usage:) }
   puts {      (./LoadImage.tcl -cfg exos1243.cfg -i386ImagePath ./exosI386.xos) }
   puts &#34;\r&#34;
}

set tftpServerLogin       &#34;extreme&#34;
set tftpServerPasswd      &#34;extreme&#34;
set tftpServerTftpboot    &#34;/usr/tftpboot&#34;

   <span class="comment-line"># checking command parameters</span>
   if {$argc&lt;2} {
      puts &#34;Not enough parameters&#34;
      <a name="::::print_usage(1)"><a href="./summarize.tcl.html#::::print_usage_2">::::print_usage</a></a>
      exit
   }
   
   set LIB_PATH &#34;../Lib&#34;
   lappend auto_path $LIB_PATH

   source ../Lib/parse_args.tcl
   source ../Lib/mainLib.tcl

<span class="comment-line">##################################################################################</span>
<span class="comment-line">#  Parse Main Args</span>
<span class="comment-line">##################################################################################</span>
   <span class="comment-line"># EY-03-06-2007: Added image path variable for Panther platform.</span>
   <a name="::parse_args(1)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> LoadCode $argv {
      cfg     &#34;NULL&#34;
      i386ImagePath	&#34;NULL&#34;
      marinerImagePath	&#34;NULL&#34;
      aspenImagePath	&#34;NULL&#34;
      aspennapaImagePath &#34;NULL&#34;
      cougarImagePath	&#34;NULL&#34;
      viperImagePath   &#34;NULL&#34;
      jaguarImagePath	&#34;NULL&#34;
      olympicImagePath	&#34;NULL&#34;
      pantherImagePath  &#34;NULL&#34;
      voyagerImagePath  &#34;NULL&#34;
      x650ImagePath &#34;NULL&#34;
      x480ImagePath &#34;NULL&#34;
      NWIImagePath &#34;NULL&#34;
      everestImagePath &#34;NULL&#34;
      bootrom &#34;NULL&#34;
      in      &#34;sc&#34;
      unc     &#34;no&#34;
   }
   set module &#34;DownloadImage&#34;

   <a name="::::gen_index(1)"><a href="./summarize.tcl.html#::::gen_index_76">::::gen_index</a></a> &#34;../Lib&#34;
<span class="comment-line">##################################################################################</span>
<span class="comment-line">#  Source the config file</span>
<span class="comment-line">##################################################################################</span>
       set sourceFile &#34;&#34;
       if [catch {source &#34;../main/cfg/common.cfg&#34;} rea] {
          puts &#34;*** WARNING: Unable to source common.cfg:$rea............... ***&#34;
          puts &#34;*** WARNING: Application level variables may not be defined. ***&#34;
          exit -1
       }

      if {$cfg != &#34;null&#34;} {
          set sourceFile $cfg
          if {([regexp -nocase &#34;^short&#34; $sourceFile]&amp;&amp;[regexp -nocase {/} $sourceFile]) || \
              [regexp -nocase &#34;^pt&#34; $sourceFile]} {
             set sourceFile [format %s/%s/%s $regType $module $sourceFile]
             set sourceFile [string trim $sourceFile];
             puts &#34;Using config file: ($sourceFile)&#34;
          } elseif {![regexp -nocase &#34;^cfg&#34; $sourceFile] &amp;&amp; ![regexp -nocase {/} $sourceFile]} {
             if {[file exists $sourceFile]==0} {
                set sourceFile [format %s/%s cfg $sourceFile]
                set sourceFile [string trim $sourceFile];
                puts &#34;Using config file: ($sourceFile)&#34;
             }
          }
      }
      if {[file exists $sourceFile] == 0} {
         puts &#34;Cannot find config file: $sourceFile\n&#34;
         exit
      }
      catch {source $sourceFile} reason


<span class="comment-line">############################################################</span>
<span class="comment-line"># Expect Hacks</span>
<span class="comment-line">############################################################</span>

<span class="comment-line"># This is necessary to get an absolute path for logging</span>
set REG_PATH [pwd]
set imageNotFound 0
set romNotFound 0

<span class="comment-line">#load {expect52.dll}</span>
if {$tcl_platform(platform) == &#34;windows&#34;} {
  load &#34;expect52.dll&#34;
} else {
  <span class="comment-line">#load &#34;/usr/lib/libexpect.so&#34;</span>
  <span class="comment-line">#load [file join $env(HOME) &#34;ixia/lib/libdp40.so&#34;]</span>
	load [lindex [glob &#34;/usr/lib/libexpect*so*&#34;] 0]
}

log_user 0

if {$tcl_platform(platform) == &#34;windows&#34;} {
	lappend auto_path &#34;C:/Program Files/Ixia/TclScripts/Lib/ixTcl1.0&#34;
} else {
  lappend auto_path [file join $env(HOME) &#34;ixia/lib/mpexpr-1.0&#34;]
  lappend auto_path [file join $env(HOME) &#34;ixia/lib/ixTcl1.0&#34;]
  lappend auto_path [file join $env(HOME) &#34;ixia/lib/dp4.0&#34;]
}

set auto_path [linsert $auto_path 0 . ]

if {![file isdirectory Report]} {
	file mkdir Report
}
if {![file isdirectory Result]} {
	file mkdir Result
}
if {![file isdirectory Tmp]} {
	file mkdir Tmp
}

if {![file isdirectory Log]} {
	file mkdir Log
}


<a name="::::gen_index(2)"><a href="./summarize.tcl.html#::::gen_index_76">::::gen_index</a></a> .



<span class="comment-line">############################################################</span>

set tStartTime [clock seconds]
set tStartDate [clock format [clock seconds] -format &#34;%Y-%m-%d %I.%M.%S%p&#34;]
set passCount       0
set failCount       0
set skipCount       0
set testDuration    0
set testHour        0
set testMin         0
set testSec         0
set resultDir       &#34;NULL&#34;
set skipCopy        1
set DUT(bug)        1
set DUT(LoadImage)  1


<span class="comment-line">#  set numDUT 1</span>
<span class="comment-line">#   while { [info exists DUT${numDUT}_CONNECT] } {</span>
<span class="comment-line">#      incr numDUT 1</span>
<span class="comment-line">#   }</span>
<span class="comment-line">#incr numDUT -1</span>
set numDUT  1

<span class="comment-line">#####################  Get code from image location to tftpserver#####</span>
<span class="comment-line">## Note: the tftp would fail if tftp server is not setup properly.</span>
<span class="comment-line">## To setup your tftp server correctly, visit:http://exosautoweb/document.htm</span>
<span class="comment-line">##############################################################################</span>
<span class="comment-line">##############################################################################</span>
set i386TftpFile &#34;NULL&#34;
set marinerTftpFile &#34;NULL&#34;
set aspenTftpFile &#34;NULL&#34;
set aspennapaTftpFile &#34;NULL&#34;
set cougarTftpFile &#34;NULL&#34;
set viperTftpFile &#34;NULL&#34;
set jaguarTftpFile &#34;NULL&#34;
set olympicTftpFile &#34;NULL&#34;
<span class="comment-line"># EY-03-06-2007: Added TFTP file variable for Panther platform.</span>
set pantherTftpFile &#34;NULL&#34;
set voyagerTftpFile &#34;NULL&#34;
set x650TftpFile &#34;NULL&#34;
set x480TftpFile &#34;NULL&#34;
set NWITftpFile &#34;NULL&#34;
set everestTftpFile &#34;NULL&#34;
set i386Md5Sum 0
set marinerMd5Sum 0
set aspenMd5Sum 0
set aspennapaMd5Sum 0
set cougarMd5Sum 0
set viperMd5Sum 0
set jaguarMd5Sum 0
set olympicMd5Sum 0
<span class="comment-line"># EY-03-06-2007: Added MD5 sum result variable for Panther platform.</span>
set pantherMd5Sum 0
set voyagerMd5Sum 0
set x650Md5Sum 0
set x480Md5Sum 0
set NWIMd5Sum 0
set everestMd5Sum 0
if {[string compare $i386ImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $i386ImagePath]} {
     set tftpFile [file tail $i386ImagePath]
     set pid [pid]
     set i386TftpFile [format %d%di386%s $pid $tStartTime $tftpFile]
     set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
     puts $fd_out &#34;put $i386ImagePath $i386TftpFile&#34;
     puts $fd_out &#34;quit&#34;
     close $fd_out
     set i386Md5Sum [lindex [exec /usr/bin/md5sum $i386ImagePath] 0]
     foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $i386ImagePath onto tftp Server $TFTPServerIP as $i386TftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;i386ImagePath $i386ImagePath does not exist&#34;
     exit -1
   }
}


if {[string compare $marinerImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $marinerImagePath]} {
      set tftpFile [file tail $marinerImagePath]
      set pid [pid]
      set marinerTftpFile [format %d%dmariner%s $pid $tStartTime $tftpFile]
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $marinerImagePath $marinerTftpFile&#34;
      puts $fd_out &#34;quit&#34;
      close $fd_out
      set marinerMd5Sum [lindex [exec /usr/bin/md5sum $marinerImagePath] 0]
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $marinerImagePath onto tftp Server $TFTPServerIP as $marinerTftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;marinerImagePath $marinerImagePath does not exist&#34;
     exit -1
   }
}

if {[string compare $aspenImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $aspenImagePath]} {
      set tftpFile [file tail $aspenImagePath]
      set pid [pid]
      set aspenTftpFile [format %d%daspen%s $pid $tStartTime $tftpFile]
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $aspenImagePath $aspenTftpFile&#34;
      puts $fd_out &#34;quit&#34;
      close $fd_out
      set aspenMd5Sum [lindex [exec /usr/bin/md5sum $aspenImagePath] 0]
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $aspenImagePath onto tftp Server $TFTPServerIP as $aspenTftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;aspenImagePath $aspenImagePath does not exist&#34;
     exit -1
   }
}

if {[string compare $aspennapaImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $aspennapaImagePath]} {
      set tftpFile [file tail $aspennapaImagePath]
      set pid [pid]
      set aspennapaTftpFile [format %d%daspennapa%s $pid $tStartTime $tftpFile]
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $aspennapaImagePath $aspennapaTftpFile&#34;
      puts $fd_out &#34;quit&#34;
      close $fd_out
      set aspennapaMd5Sum [lindex [exec /usr/bin/md5sum $aspennapaImagePath] 0]
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $aspennapaImagePath onto tftp Server $TFTPServerIP as $aspennapaTftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;aspennapaImagePath $aspennapaImagePath does not exist&#34;
     exit -1
   }
}

if {[string compare $cougarImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $cougarImagePath]} {
      set tftpFile [file tail $cougarImagePath]
      set pid [pid]
      set cougarTftpFile [format %d%dcougar%s $pid $tStartTime $tftpFile]
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $cougarImagePath $cougarTftpFile&#34;
      puts $fd_out &#34;quit&#34;
      close $fd_out
      set cougarMd5Sum [lindex [exec /usr/bin/md5sum $cougarImagePath] 0]
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $cougarImagePath onto tftp Server $TFTPServerIP as $cougarTftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;cougarImagePath $cougarImagePath does not exist&#34;
     exit -1
   }
}

if {[string compare $viperImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $viperImagePath]} {
      set tftpFile [file tail $viperImagePath]
      set pid [pid]
      set viperTftpFile [format %d%dviper%s $pid $tStartTime $tftpFile]
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $viperImagePath $viperTftpFile&#34;
      puts $fd_out &#34;quit&#34;
      close $fd_out
      set viperMd5Sum [lindex [exec /usr/bin/md5sum $viperImagePath] 0]
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $viperImagePath onto tftp Server $TFTPServerIP as $viperTftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;viperImagePath $viperImagePath does not exist&#34;
     exit -1
   }
}

if {[string compare $olympicImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $olympicImagePath]} {
      set tftpFile [file tail $olympicImagePath]
      set pid [pid]
      set olympicTftpFile [format %d%dolympic%s $pid $tStartTime $tftpFile]
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $olympicImagePath $olympicTftpFile&#34;
      puts $fd_out &#34;quit&#34;
      close $fd_out
      set olympicMd5Sum [lindex [exec /usr/bin/md5sum $olympicImagePath] 0]
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $olympicImagePath onto tftp Server $TFTPServerIP as $olympicTftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;olympicImagePath $olympicImagePath does not exist&#34;
     exit -1
   }
}

if {[string compare $jaguarImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $jaguarImagePath]} {
      set tftpFile [file tail $jaguarImagePath]
      set pid [pid]
      set jaguarTftpFile [format %d%djaguar%s $pid $tStartTime $tftpFile]
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $jaguarImagePath $jaguarTftpFile&#34;
      puts $fd_out &#34;quit&#34;
      close $fd_out
      set jaguarMd5Sum [lindex [exec /usr/bin/md5sum $jaguarImagePath] 0]
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $jaguarImagePath onto tftp Server $TFTPServerIP as $jaguarTftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;jaguarImagePath $jaguarImagePath does not exist&#34;
     exit -1
   }
}

<span class="comment-line"># EY-03-06-2007: Added code to check for Panther image and put it on TFTP</span>
<span class="comment-line"># server.</span>
if {[string compare $pantherImagePath &#34;NULL&#34;] != 0} {
   if {[file exists $pantherImagePath]} {
      set tftpFile [file tail $pantherImagePath];
      set pid [pid];
      set pantherTftpFile [format %d%dpanther%s $pid $tStartTime $tftpFile];
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $pantherImagePath $pantherTftpFile&#34;;
      puts $fd_out &#34;quit&#34;;
      close $fd_out;
      set pantherMd5Sum [lindex [exec /usr/bin/md5sum $pantherImagePath] 0];
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $pantherImagePath onto tftp Server $TFTPServerIP as $pantherTftpFile&#34;;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;;
           exit -1;
        }
     }
     file delete &#34;./Tmp/tmp_$pid$tStartTime&#34;;
   } else {
     puts &#34;pantherImagePath $pantherImagePath does not exist&#34;;
     exit -1;
   }
}
if {[string compare $voyagerImagePath &#34;NULL&#34;] != 0} {
   if {[file exists $voyagerImagePath]} {
      set tftpFile [file tail $voyagerImagePath];
      set pid [pid];
      set voyagerTftpFile [format %d%dvoyager%s $pid $tStartTime $tftpFile];
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $voyagerImagePath $voyagerTftpFile&#34;;
      puts $fd_out &#34;quit&#34;;
      close $fd_out;
      set voyagerMd5Sum [lindex [exec /usr/bin/md5sum $voyagerImagePath] 0];
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $voyagerImagePath onto tftp Server $TFTPServerIP as $voyagerTftpFile&#34;;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;;
           exit -1;
        }
     }
     file delete &#34;./Tmp/tmp_$pid$tStartTime&#34;;
   } else {
     puts &#34;voyagerImagePath $voyagerImagePath does not exist&#34;;
     exit -1;
   }
}
if {[string compare $x650ImagePath &#34;NULL&#34;] != 0} {
   if {[file exists $x650ImagePath]} {
      set tftpFile [file tail $x650ImagePath];
      set pid [pid];
      set x650TftpFile [format %d%dx650%s $pid $tStartTime $tftpFile];
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $x650ImagePath $x650TftpFile&#34;;
      puts $fd_out &#34;quit&#34;;
      close $fd_out;
      set x650Md5Sum [lindex [exec /usr/bin/md5sum $x650ImagePath] 0];
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $x650ImagePath onto tftp Server $TFTPServerIP as $x650TftpFile&#34;;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;;
           exit -1;
        }
     }
     file delete &#34;./Tmp/tmp_$pid$tStartTime&#34;;
   } else {
     puts &#34;x650ImagePath $x650ImagePath does not exist&#34;;
     exit -1;
   }
}

if {[string compare $x480ImagePath &#34;NULL&#34;] != 0} {
   if {[file exists $x480ImagePath]} {
      set tftpFile [file tail $x480ImagePath];
      set pid [pid];
      set x480TftpFile [format %d%dx480%s $pid $tStartTime $tftpFile];
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $x480ImagePath $x480TftpFile&#34;;
      puts $fd_out &#34;quit&#34;;
      close $fd_out;
      set x480Md5Sum [lindex [exec /usr/bin/md5sum $x480ImagePath] 0];
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $x480ImagePath onto tftp Server $TFTPServerIP as $x480TftpFile&#34;;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;;
           exit -1;
        }
     }
     file delete &#34;./Tmp/tmp_$pid$tStartTime&#34;;
   } else {
     puts &#34;x480ImagePath $x480ImagePath does not exist&#34;;
     exit -1;
   }
}

if {[string compare $NWIImagePath &#34;NULL&#34;] != 0} {
   if {[file exists $NWIImagePath]} {
      set tftpFile [file tail $NWIImagePath];
      set pid [pid];
      set NWITftpFile [format %d%dNWI%s $pid $tStartTime $tftpFile];
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $NWIImagePath $NWITftpFile&#34;;
      puts $fd_out &#34;quit&#34;;
      close $fd_out;
      set NWIMd5Sum [lindex [exec /usr/bin/md5sum $NWIImagePath] 0];
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $NWIImagePath onto tftp Server $TFTPServerIP as $NWITftpFile&#34;;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;;
           exit -1;
        }
     }
     file delete &#34;./Tmp/tmp_$pid$tStartTime&#34;;
   } else {
     puts &#34;NWIImagePath $NWIImagePath does not exist&#34;;
     exit -1;
   }
}

if {[string compare $everestImagePath &#34;NULL&#34;]!=0} {
   if {[file exists $everestImagePath]} {
      set tftpFile [file tail $everestImagePath]
      set pid [pid]
      set everestTftpFile [format %d%deverest%s $pid $tStartTime $tftpFile]
      set fd_out [open &#34;Tmp/tmp_$pid$tStartTime&#34; &#34;w&#34;];
      puts $fd_out &#34;put $everestImagePath $everestTftpFile&#34;
      puts $fd_out &#34;quit&#34;
      close $fd_out
      set everestMd5Sum [lindex [exec /usr/bin/md5sum $everestImagePath] 0]
      foreach TFTPServerIP $tftpServerList {
        puts &#34;Putting $everestImagePath onto tftp Server $TFTPServerIP as $everestTftpFile&#34;
        if {[catch {exec /usr/bin/tftp $TFTPServerIP &lt; ./Tmp/tmp_$pid$tStartTime} reason]} {
           puts &#34;error: $reason&#34;
           exit -1
        }
     }
     file delete ./Tmp/tmp_$pid$tStartTime
   } else {
     puts &#34;everestImagePath $everestImagePath does not exist&#34;
     exit -1
   }
}





<span class="comment-line">##############################################################################</span>
<span class="comment-line">##  Get information about the DUT</span>
<span class="comment-line">##############################################################################</span>
set fd_res [<a name="::open_result_file(1)"><a href="./result.tcl.html#::open_result_file_276">::open_result_file</a></a> &#34;setup&#34;]

while { [info exists DUT${numDUT}_CONNECT] } {
   set connect [set DUT${numDUT}_CONNECT]
   set script [set DUT${numDUT}_SETUP]
   lappend connectList $connect
   lappend scriptList $script
   puts &#34;***** DUT${numDUT}_CONNECT=$connect ***** &#34;
   puts &#34;***** numDUT=$numDUT ***** &#34;
   incr numDUT 1
}
incr numDUT -1
set stat [<a name="::::RunSetupScript(1)"><a href="./swConf.tcl.html#::::RunSetupScript_225">::::RunSetupScript</a></a> $connectList $scriptList -at download -dut $numDUT]
if { [regexp -nocase &#34;DUT&#34; $stat] } {
    set dutnumber [string range $stat 0 3]
    <a name="::result_error(1)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Could not Login properly to $dutnumber&#34;
} else {
   <a name="::result_ok(1)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully performed setup on all DUT's&#34;
}
unset connectList
unset scriptList

<span class="comment-line">#</span>
<span class="comment-line"># EY-04-04-2013: Check return value from get_DUTs_info.</span>
if {[set rc [<a name="::::get_DUTs_info(1)"><a href="./swConf.tcl.html#::::get_DUTs_info_881">::::get_DUTs_info</a></a>]] != 0} {
    <a name="::result_error(2)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error $rc while calling get_DUTs_info.&#34;;
    <a name="::close_result_file(1)"><a href="./result.tcl.html#::close_result_file_363">::close_result_file</a></a>;
    return -1;
}
set fd_res [<a name="::open_result_file(2)"><a href="./result.tcl.html#::open_result_file_276">::open_result_file</a></a> &#34;loadimage&#34;]
puts $fd_res &#34;Using config file: $sourceFile&#34;
<span class="comment-line"># check md5sum of the files on tftp servers for corruption</span>
<span class="comment-line"># EY-03-06-2007: Added checks for Panther image.</span>
if {[string compare $i386TftpFile &#34;NULL&#34;]!=0 || \
    [string compare $marinerTftpFile &#34;NULL&#34;]!=0 || \
    [string compare $aspenTftpFile &#34;NULL&#34;]!=0 || \
    [string compare $aspennapaTftpFile &#34;NULL&#34;]!=0 || \
    [string compare $olympicTftpFile &#34;NULL&#34;]!=0 || \
    [string compare $jaguarTftpFile &#34;NULL&#34;]!=0 || \
    [string compare $cougarTftpFile &#34;NULL&#34;]!=0 || \
    [string compare $viperTftpFile &#34;NULL&#34;]!=0 || \
    [string compare $pantherTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $voyagerTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $x650TftpFile &#34;NULL&#34;] != 0 || \
    [string compare $x480TftpFile &#34;NULL&#34;] != 0 || \
    [string compare $NWITftpFile &#34;NULL&#34;] != 0 || \
    [string compare $everestTftpFile &#34;NULL&#34;] != 0 } {
   <a name="::result_debug(1)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local i386 md5sum $i386Md5Sum&#34;
   <a name="::result_debug(2)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local mariner md5sum $marinerMd5Sum&#34;
   <a name="::result_debug(3)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local aspen md5sum $aspenMd5Sum&#34;
   <a name="::result_debug(4)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local aspennapa md5sum $aspennapaMd5Sum&#34;
   <a name="::result_debug(5)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local cougar md5sum $cougarMd5Sum&#34;
   <a name="::result_debug(6)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local viper md5sum $viperMd5Sum&#34;
   <a name="::result_debug(7)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local olympic md5sum $olympicMd5Sum&#34;
   <a name="::result_debug(8)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local jaguar md5sum $jaguarMd5Sum&#34;
   <a name="::result_debug(9)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local panther md5sum $pantherMd5Sum&#34;;
   <a name="::result_debug(10)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local voyager md5sum $voyagerMd5Sum&#34;;
   <a name="::result_debug(11)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local x650 md5sum $x650Md5Sum&#34;;
   <a name="::result_debug(12)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local x480 md5sum $x480Md5Sum&#34;;
   <a name="::result_debug(13)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local NWI md5sum $NWIMd5Sum&#34;;
   <a name="::result_debug(14)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the local everest md5sum $everestMd5Sum&#34;;
   set i386Buf 0
   set marinerBuf 0
   set aspenBuf 0
   set aspennapaBuf 0
   set cougarBuf 0
   set viperBuf 0
   set jaguarBuf 0
   set olympicBuf 0
   set voyagerBuf 0
   <span class="comment-line"># EY-03-06-2007: Added buffer variable for new Panther platform.</span>
   set pantherBuf 0
   set x650Buf 0
   set x480Buf 0
   set NWIBuf 0
   set everestBuf 0
   foreach TFTPServerIP $tftpServerList {
      puts &#34;Checking the md5sum of image file on tftp server...&#34;
      <a name="::login_linux(1)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
      <span class="comment-line">#exp_internal 1</span>
      if {[string compare $i386TftpFile &#34;NULL&#34;]!=0} {
         set i386Buf [<a name="::linuxSendACmd(1)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$i386TftpFile&#34;]
         <a name="::result_debug(15)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The i386 md5sum on $TFTPServerIP $i386Buf&#34;
      }
      if {[string compare $marinerTftpFile &#34;NULL&#34;]!=0} {
         set marinerBuf [<a name="::linuxSendACmd(2)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$marinerTftpFile&#34;]
         <a name="::result_debug(16)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The marinerBuf md5sum on $TFTPServerIP $marinerBuf&#34;
      }
      if {[string compare $aspenTftpFile &#34;NULL&#34;]!=0} {
         set aspenBuf [<a name="::linuxSendACmd(3)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$aspenTftpFile&#34;]
         <a name="::result_debug(17)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The aspenBuf md5sum on $TFTPServerIP $aspenBuf&#34;
      }
      if {[string compare $aspennapaTftpFile &#34;NULL&#34;]!=0} {
         set aspennapaBuf [<a name="::linuxSendACmd(4)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$aspennapaTftpFile&#34;]
         <a name="::result_debug(18)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The aspennapaBuf md5sum on $TFTPServerIP $aspennapaBuf&#34;
      }
      if {[string compare $cougarTftpFile &#34;NULL&#34;]!=0} {
         set cougarBuf [<a name="::linuxSendACmd(5)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$cougarTftpFile&#34;]
         <a name="::result_debug(19)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The cougarBuf md5sum on $TFTPServerIP $cougarBuf&#34;
      }
      if {[string compare $viperTftpFile &#34;NULL&#34;]!=0} {
         set viperBuf [<a name="::linuxSendACmd(6)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$viperTftpFile&#34;]
         <a name="::result_debug(20)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The viperBuf md5sum on $TFTPServerIP $viperBuf&#34;
      }
      if {[string compare $olympicTftpFile &#34;NULL&#34;]!=0} {
         set olympicBuf [<a name="::linuxSendACmd(7)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$olympicTftpFile&#34;]
         set olympicBuf [<a name="::linuxSendACmd(8)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$olympicTftpFile&#34;]
         <a name="::result_debug(21)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The olympicBuf md5sum on $TFTPServerIP $olympicBuf&#34;
      }
      if {[string compare $jaguarTftpFile &#34;NULL&#34;]!=0} {
         set jaguarBuf [<a name="::linuxSendACmd(9)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$jaguarTftpFile&#34;]
         <a name="::result_debug(22)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The jaguarBuf md5sum on $TFTPServerIP $jaguarBuf&#34;
      }
      <span class="comment-line"># EY-03-06-2007: Added code to compute MD5 sum for new Panther platform image.</span>
      if {[string compare $pantherTftpFile &#34;NULL&#34;]!=0} {
         set pantherBuf [<a name="::linuxSendACmd(10)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$pantherTftpFile&#34;]
         <a name="::result_debug(23)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The pantherBuf md5sum on $TFTPServerIP $pantherBuf&#34;
      }
      if {[string compare $voyagerTftpFile &#34;NULL&#34;]!=0} {
         set voyagerBuf [<a name="::linuxSendACmd(11)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$voyagerTftpFile&#34;]
         <a name="::result_debug(24)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The voyagerBuf md5sum on $TFTPServerIP $voyagerBuf&#34;
      }
      if {[string compare $x650TftpFile &#34;NULL&#34;]!=0} {
         set x650Buf [<a name="::SendACmd(1)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$x650TftpFile&#34; &#34;NULL&#34; &#34;NULL&#34; &#34;true&#34; 1]
         <a name="::result_debug(25)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The x650Buf md5sum on $TFTPServerIP $x650Buf&#34;
      }
      if {[string compare $x480TftpFile &#34;NULL&#34;]!=0} {
         set x480Buf [<a name="::SendACmd(2)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$x480TftpFile&#34; &#34;NULL&#34; &#34;NULL&#34; &#34;true&#34; 1]
         <a name="::result_debug(26)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The x480Buf md5sum on $TFTPServerIP $x480Buf&#34;
      }
      if {[string compare $NWITftpFile &#34;NULL&#34;]!=0} {
         set NWIBuf [<a name="::SendACmd(3)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$NWITftpFile&#34; &#34;NULL&#34; &#34;NULL&#34; &#34;true&#34; 1]
         <a name="::result_debug(27)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The NWIBuf md5sum on $TFTPServerIP $NWIBuf&#34;
      }
      if {[string compare $everestTftpFile &#34;NULL&#34;]!=0} {
         set everestBuf [<a name="::linuxSendACmd(12)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$everestTftpFile&#34;]
         <a name="::result_debug(28)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The everestBuf md5sum on $TFTPServerIP $everestBuf&#34;
      }
      if {[string compare $i386TftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $i386Md5Sum $i386Buf]==1} {
         <a name="::result_ok(2)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched i386 md5sum on two locations&#34;
      } else {
         <a name="::result_error(3)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching i386 md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(2)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(4)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$i386TftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $marinerTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $marinerMd5Sum $marinerBuf]==1} {
         <a name="::result_ok(3)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched mariner md5sum on two locations&#34;
      } else {
         <a name="::result_error(4)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching mariner md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(3)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(5)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$marinerTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $aspenTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $aspenMd5Sum $aspenBuf]==1} {
         <a name="::result_ok(4)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched aspen md5sum on two locations&#34;
      } else {
         <a name="::result_error(5)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching aspen md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(4)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(6)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$aspenTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $aspennapaTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $aspennapaMd5Sum $aspennapaBuf]==1} {
         <a name="::result_ok(5)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched aspennapa md5sum on two locations&#34;
      } else {
         <a name="::result_error(6)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching aspennapa md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(5)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(7)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$aspenTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $cougarTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $cougarMd5Sum $cougarBuf]==1} {
         <a name="::result_ok(6)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched cougar md5sum on two locations&#34;
      } else {
         <a name="::result_error(7)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching cougar md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(6)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(8)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$cougarTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $viperTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $viperMd5Sum $viperBuf]==1} {
         <a name="::result_ok(7)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched viper md5sum on two locations&#34;
      } else {
         <a name="::result_error(8)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching viper md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(7)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(9)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$viperTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $olympicTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $olympicMd5Sum $olympicBuf]==1} {
         <a name="::result_ok(8)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched olympic md5sum on two locations&#34;
      } else {
         <a name="::result_error(9)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching olympic md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(8)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(10)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$olympcTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $jaguarTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $jaguarMd5Sum $jaguarBuf]==1} {
         <a name="::result_ok(9)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched jaguar md5sum on two locations&#34;
      } else {
         <a name="::result_error(10)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching jaguar md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(9)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(11)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$jaguarTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      <span class="comment-line"># EY-03-06-2007: Added code to check MD5 sum of new Panther image.</span>
      if {[string compare $pantherTftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $pantherMd5Sum $pantherBuf] == 1} {
            <a name="::result_ok(10)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched panther md5sum on two locations&#34;;
         } else {
            <a name="::result_error(11)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching panther md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(10)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(12)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$pantherTftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $voyagerTftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $voyagerMd5Sum $voyagerBuf] == 1} {
            <a name="::result_ok(11)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched voyager md5sum on two locations&#34;;
         } else {
            <a name="::result_error(12)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching voyager md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(11)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(13)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$voyagerTftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $x650TftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $x650Md5Sum $x650Buf] == 1} {
            <a name="::result_ok(12)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched x650 md5sum on two locations&#34;;
         } else {
            <a name="::result_error(13)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching x650 md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(12)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(14)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$x650TftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $x480TftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $x480Md5Sum $x480Buf] == 1} {
            <a name="::result_ok(13)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched x480 md5sum on two locations&#34;;
         } else {
            <a name="::result_error(14)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching x480 md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(13)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(15)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$x480TftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $NWITftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $NWIMd5Sum $NWIBuf] == 1} {
            <a name="::result_ok(14)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched NWI md5sum on two locations&#34;;
         } else {
            <a name="::result_error(15)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching NWI md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(14)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(16)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$NWITftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $everestTftpFile &#34;NULL&#34;]!=0} {
         if {[regexp -all $everestMd5Sum $everestBuf]==1} {
            <a name="::result_ok(15)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched everest md5sum on two locations&#34;
         } else {
            <a name="::result_error(16)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching everest md5sum on two locations&#34;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(15)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
            <a name="::SendACmd(17)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$everestTftpFile&#34; NULL NULL true 1
            exit -1
         }
      }
   }
} else {
   <a name="::result_error(17)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error: No image specified&#34;
   exit -1
}


<span class="comment-line">##############################################################################</span>
<span class="comment-line">#  Open Result file after get_DUT_info</span>
<span class="comment-line">##############################################################################</span>
    ;<span class="comment-line"># create the report directory</span>
    set optionalPath &#34;&#34;
    <a name="::create_report_directory(1)"><a href="./result.tcl.html#::create_report_directory_890">::create_report_directory</a></a> yes $optionalPath

if {$imageNotFound||$romNotFound} {
   set dlOK 1
} else {
   <span class="comment-line"># EY-03-06-2007: Added Panther image path to download list.</span>
   puts &#34;DownLdCode $i386TftpFile $marinerTftpFile $aspenTftpFile $aspennapaTftpFile $cougarTftpFile $viperTftpFile $olympicTftpFile $jaguarTftpFile $pantherTftpFile $voyagerTftpFile $x650TftpFile $x480TftpFile $NWITftpFile $everestTftpFile $bootrom $unc $fd_res&#34;

   set dlOK [<a name="::DownLdCode(1)"><a href="./downLoadCode.tcl.html#::DownLdCode_329">::DownLdCode</a></a> $i386TftpFile $marinerTftpFile $aspenTftpFile $aspennapaTftpFile $cougarTftpFile $viperTftpFile $olympicTftpFile $jaguarTftpFile $pantherTftpFile $voyagerTftpFile $x650TftpFile $x480TftpFile $NWITftpFile $everestTftpFile $bootrom $unc $fd_res]
}

<span class="comment-line"># EY-03-06-2007: Added check for Panther TFTP file.</span>
if {[string compare $i386TftpFile &#34;NULL&#34;] != 0 || \
    [string compare $marinerTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $aspenTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $aspennapaTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $olympicTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $jaguarTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $cougarTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $viperTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $pantherTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $voyagerTftpFile &#34;NULL&#34;] != 0 || \
    [string compare $x650TftpFile &#34;NULL&#34;] != 0  || \
    [string compare $x480TftpFile &#34;NULL&#34;] != 0 || \
    [string compare $NWITftpFile &#34;NULL&#34;] != 0 || \
    [string compare $everestTftpFile &#34;NULL&#34;] != 0 } {
   set i386Buf 0
   set marinerBuf 0
   set aspenBuf 0
   set aspennapaBuf 0
   set cougarBuf 0
   set viperBuf 0
   set jaguarBuf 0
   set olympicBuf 0
   <span class="comment-line"># EY-03-06-2007: Added buffer variable for new Panther platform.</span>
   set pantherBuf 0;
   set voyagerBuf 0;
   set x650Buf 0;
   set x480Buf 0;
   set NWIBuf 0;
   set everestBuf 0;
   foreach TFTPServerIP $tftpServerList {
      puts &#34;Checking the md5sum of image file on tftp server...&#34;
      <a name="::login_linux(16)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
      if {[string compare $i386TftpFile &#34;NULL&#34;]!=0} {
         set i386Buf [<a name="::linuxSendACmd(13)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$i386TftpFile&#34;]
         <a name="::result_debug(29)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The i386 md5sum on $TFTPServerIP $i386Buf&#34;
      }
      if {[string compare $marinerTftpFile &#34;NULL&#34;]!=0} {
         set marinerBuf [<a name="::linuxSendACmd(14)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$marinerTftpFile&#34;]
         <a name="::result_debug(30)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The marinerBuf md5sum on $TFTPServerIP $marinerBuf&#34;
      }
      if {[string compare $aspenTftpFile &#34;NULL&#34;]!=0} {
         set aspenBuf [<a name="::linuxSendACmd(15)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$aspenTftpFile&#34;]
         <a name="::result_debug(31)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The aspenBuf md5sum on $TFTPServerIP $aspenBuf&#34;
      }
      if {[string compare $aspennapaTftpFile &#34;NULL&#34;]!=0} {
         set aspennapaBuf [<a name="::linuxSendACmd(16)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$aspennapaTftpFile&#34;]
         <a name="::result_debug(32)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The aspennapaBuf md5sum on $TFTPServerIP $aspennapaBuf&#34;
      }
      if {[string compare $cougarTftpFile &#34;NULL&#34;]!=0} {
         set cougarBuf [<a name="::linuxSendACmd(17)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$cougarTftpFile&#34;]
         <a name="::result_debug(33)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The cougarBuf md5sum on $TFTPServerIP $cougarBuf&#34;
      }
      if {[string compare $viperTftpFile &#34;NULL&#34;]!=0} {
         set viperBuf [<a name="::linuxSendACmd(18)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$viperTftpFile&#34;]
         <a name="::result_debug(34)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The viperBuf md5sum on $TFTPServerIP $viperBuf&#34;
      }
      if {[string compare $olympicTftpFile &#34;NULL&#34;]!=0} {
         set olympicBuf [<a name="::linuxSendACmd(19)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$olympicTftpFile&#34;]
         set olympicBuf [<a name="::linuxSendACmd(20)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$olympicTftpFile&#34;]
         <a name="::result_debug(35)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The olympicBuf md5sum on $TFTPServerIP $olympicBuf&#34;
      }
      if {[string compare $jaguarTftpFile &#34;NULL&#34;]!=0} {
         set jaguarBuf [<a name="::linuxSendACmd(21)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$jaguarTftpFile&#34;]
         <a name="::result_debug(36)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The jaguarBuf md5sum on $TFTPServerIP $jaguarBuf&#34;
      }
      <span class="comment-line"># EY-03-06-2007: Added code to compute MD5 sum for new Panther platform image.</span>
      if {[string compare $pantherTftpFile &#34;NULL&#34;] != 0} {
         set pantherBuf [<a name="::linuxSendACmd(22)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$pantherTftpFile&#34;];
         <a name="::result_debug(37)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The pantherBuf md5sum on $TFTPServerIP $pantherBuf&#34;;
      }
      if {[string compare $voyagerTftpFile &#34;NULL&#34;] != 0} {
         set voyagerBuf [<a name="::linuxSendACmd(23)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$voyagerTftpFile&#34;];
         <a name="::result_debug(38)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The voyagerBuf md5sum on $TFTPServerIP $voyagerBuf&#34;;
      }
      if {[string compare $x650TftpFile &#34;NULL&#34;] != 0} {
         set x650Buf [<a name="::SendACmd(18)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$x650TftpFile&#34; &#34;NULL&#34; &#34;NULL&#34; &#34;true&#34; 1];
         <a name="::result_debug(39)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The x650Buf md5sum on $TFTPServerIP $x650Buf&#34;;
      }
      if {[string compare $x480TftpFile &#34;NULL&#34;] != 0} {
         set x480Buf [<a name="::SendACmd(19)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$x480TftpFile&#34; &#34;NULL&#34; &#34;NULL&#34; &#34;true&#34; 1];
         <a name="::result_debug(40)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The x480Buf md5sum on $TFTPServerIP $x480Buf&#34;;
      }
      if {[string compare $NWITftpFile &#34;NULL&#34;] != 0} {
         set NWIBuf [<a name="::SendACmd(20)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$NWITftpFile&#34; &#34;NULL&#34; &#34;NULL&#34; &#34;true&#34; 1];
         <a name="::result_debug(41)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The NWIBuf md5sum on $TFTPServerIP $NWIBuf&#34;;
      }
      if {[string compare $everestTftpFile &#34;NULL&#34;]!=0} {
         set everestBuf [<a name="::linuxSendACmd(24)"><a href="./linux.tcl.html#::linuxSendACmd_268">::linuxSendACmd</a></a> &#34;/usr/bin/md5sum $tftpServerTftpboot/$everestTftpFile&#34;]
         <a name="::result_debug(42)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;The everestBuf md5sum on $TFTPServerIP $everestBuf&#34;
      }
      if {[string compare $i386TftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $i386Md5Sum $i386Buf]==1} {
         <a name="::result_ok(16)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched i386 md5sum on two locations&#34;
      } else {
         <a name="::result_error(18)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching i386 md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(17)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(21)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$i386TftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $marinerTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $marinerMd5Sum $marinerBuf]==1} {
         <a name="::result_ok(17)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched mariner md5sum on two locations&#34;
      } else {
         <a name="::result_error(19)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching mariner md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(18)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(22)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$marinerTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $aspenTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $aspenMd5Sum $aspenBuf]==1} {
         <a name="::result_ok(18)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched aspen md5sum on two locations&#34;
      } else {
         <a name="::result_error(20)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching aspen md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(19)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(23)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$aspenTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $aspennapaTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $aspennapaMd5Sum $aspennapaBuf]==1} {
         <a name="::result_ok(19)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched aspennapa md5sum on two locations&#34;
      } else {
         <a name="::result_error(21)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching aspennapa md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(20)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(24)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$aspennapaTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $cougarTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $cougarMd5Sum $cougarBuf]==1} {
         <a name="::result_ok(20)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched cougar md5sum on two locations&#34;
      } else {
         <a name="::result_error(22)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching cougar md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(21)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(25)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$cougarTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $viperTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $viperMd5Sum $viperBuf]==1} {
         <a name="::result_ok(21)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched viper md5sum on two locations&#34;
      } else {
         <a name="::result_error(23)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching viper md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(22)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(26)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$viperTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $olympicTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $olympicMd5Sum $olympicBuf]==1} {
         <a name="::result_ok(22)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched olympic md5sum on two locations&#34;
      } else {
         <a name="::result_error(24)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching olympic md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(23)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(27)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$olympicTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      if {[string compare $jaguarTftpFile &#34;NULL&#34;]!=0} {
      if {[regexp -all $jaguarMd5Sum $jaguarBuf]==1} {
         <a name="::result_ok(23)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched jaguar md5sum on two locations&#34;
      } else {
         <a name="::result_error(25)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching jaguar md5sum on two locations&#34;
         <span class="comment-line"># Remove files from tftp before exit</span>
         <a name="::login_linux(24)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
         <a name="::SendACmd(28)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$jaguarTftpFile&#34; NULL NULL true 1
         exit -1
      }
      }
      <span class="comment-line"># EY-03-06-2007: Added code to check MD5 sum of new Panther image.</span>
      if {[string compare $pantherTftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $pantherMd5Sum $pantherBuf] == 1} {
            <a name="::result_ok(24)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched panther md5sum on two locations&#34;;
         } else {
            <a name="::result_error(26)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching panther md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(25)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(29)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$pantherTftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $voyagerTftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $voyagerMd5Sum $voyagerBuf] == 1} {
            <a name="::result_ok(25)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched voyager md5sum on two locations&#34;;
         } else {
            <a name="::result_error(27)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching voyager md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(26)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(30)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$voyagerTftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $x650TftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $x650Md5Sum $x650Buf] == 1} {
            <a name="::result_ok(26)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched x650 md5sum on two locations&#34;;
         } else {
            <a name="::result_error(28)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching x650 md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(27)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(31)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$x650TftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $x480TftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $x480Md5Sum $x480Buf] == 1} {
            <a name="::result_ok(27)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched x480 md5sum on two locations&#34;;
         } else {
            <a name="::result_error(29)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching x480 md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(28)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(32)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$x480TftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $NWITftpFile &#34;NULL&#34;] != 0} {
         if {[regexp -all $NWIMd5Sum $NWIBuf] == 1} {
            <a name="::result_ok(28)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched NWI md5sum on two locations&#34;;
         } else {
            <a name="::result_error(30)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching NWI md5sum on two locations&#34;;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(29)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd;
            <a name="::SendACmd(33)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$NWITftpFile&#34; NULL NULL true 1;
            exit -1;
         }
      }
      if {[string compare $everestTftpFile &#34;NULL&#34;]!=0} {
         if {[regexp -all $everestMd5Sum $everestBuf]==1} {
            <a name="::result_ok(29)"><a href="./lconsoles.tcl.html#::result_ok_9">::result_ok</a></a> &#34;Successfully matched everest md5sum on two locations&#34;
         } else {
            <a name="::result_error(31)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Error matching everest md5sum on two locations&#34;
            <span class="comment-line"># Remove files from tftp before exit</span>
            <a name="::login_linux(30)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
            <a name="::SendACmd(34)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$everestTftpFile&#34; NULL NULL true 1
            exit -1
         }
      }

   }
}

set tEndTime [clock seconds]
set testDuration [expr $tEndTime-$tStartTime]
set testSec  [expr $testDuration % 60]
set testMin  [expr $testDuration / 60]
set testHour [expr $testMin / 60]
set testMin  [expr $testMin % 60]

  
   <span class="comment-line"># Remove files from tftp before exit</span>
   foreach TFTPServerIP $tftpServerList {
      <a name="::login_linux(31)"><a href="./linux.tcl.html#::login_linux_16">::login_linux</a></a> $TFTPServerIP $tftpServerLogin $tftpServerPasswd
      catch {<a name="::SendACmd(35)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$i386TftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(36)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$marinerTftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(37)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$aspenTftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(38)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$aspennapaTftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(39)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$cougarTftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(40)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$viperTftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(41)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$olympicTftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(42)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$jaguarTftpFile&#34; NULL NULL true 1}
      <span class="comment-line"># EY-03-06-2007: Cleanup image for new Panther platform.</span>
      catch {<a name="::SendACmd(43)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$pantherTftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(44)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$voyagerTftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(45)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$x650TftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(46)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$x480TftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(47)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$NWITftpFile&#34; NULL NULL true 1}
      catch {<a name="::SendACmd(48)"><a href="./SendSwCmd.tcl.html#::SendACmd_157">::SendACmd</a></a> &#34;/bin/rm $tftpServerTftpboot/$everestTftpFile&#34; NULL NULL true 1}

   }

   <a name="::close_result_file(2)"><a href="./result.tcl.html#::close_result_file_363">::close_result_file</a></a>

   <span class="comment-line">#move the complete result directory to report directory</span>
   <a name="::move_result_directory(1)"><a href="./result.tcl.html#::move_result_directory_1006">::move_result_directory</a></a>

puts &#34;\n\n*** Time for Downloading Code = $testDuration seconds&#34;
puts &#34;***    ( $testHour hours, $testMin minutes, $testSec seconds )\n\n&#34;

puts stderr $dlOK
flush stderr

exit $dlOK
</pre>
<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
