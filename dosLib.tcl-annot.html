<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>dosLib.tcl annotations</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#dosLib.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<h2><a href="dosLib.tcl.html">dosLib.tcl</a> Annotations</h2>
Created from <strong><code>/root/automation/Lib/dosLib.tcl</strong></code>
<hr>

<table class="proc-summary">
<tr>
<!-- -------------------- PROCEDURE SUMMARY -------------------- -->
<th><a name="proc_summary">Procedure Summary</a></th>
</tr>
<tr><td><code><a href="#::::CheckAclMonitor">::::CheckAclMonitor</a> { acl }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::CheckRatesAndCounts">::::CheckRatesAndCounts</a> {  }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::ChecktNetTask">::::ChecktNetTask</a> { low high }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::CheckWithOSPF">::::CheckWithOSPF</a> { dutMac }</code><p class="summary">#################################################################
 Procedure Name: CheckWithOSPF
 Description:
       This proc is used to config OSPF on the DUTs.</p></td></tr>
<tr><td><code><a href="#::::cleanOsConf">::::cleanOsConf</a> {  }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::configDosNetwork">::::configDosNetwork</a> {  }</code><p class="summary">#################################################################
 Procedure Name: ConfigDosNetwork
 Description:
       This proc is used to config the Dos networks according to the
       following topology drawings.</p></td></tr>
<tr><td><code><a href="#::::disableCPUDosProtect">::::disableCPUDosProtect</a> { dut }</code><p class="summary">#################################################################
 Procedure Name: disableCPUDosProtect
 Description:
       This proc is used to config cpu-dos-protect parameters to 
       default and then disable cpu-dos-protect
 Input args: dut - the DUT number
 Output args: None
 Typical usage:
       disableCPUDosProtect 1
 Category: Dos
#################################################################</p></td></tr>
<tr><td><code><a href="#::::enableCPUDosProtect">::::enableCPUDosProtect</a> { dut {alert default} {notify default} }</code><p class="summary">#################################################################
 Procedure Name: enableCPUDosProtect
 Description:
       This proc is used to enable cpu-dos-protect on a DUT.</p></td></tr>
<tr><td><code><a href="#::::getCmdOutput">::::getCmdOutput</a> { command task }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::killOldAttacks">::::killOldAttacks</a> {  }</code><p class="summary">###############################################################################
 Procedure Name: killOldAttacks
 Description:
       This proc is used to kill all dos attacks to the DUTs
       It's for cleaning up and attack processes left by previous tests.</p></td></tr>
<tr><td><code><a href="#::::loginDosServer">::::loginDosServer</a> {  }</code><p class="summary">#################################################################
 Procedure Name: loginDosServer
 Description:
       This proc is used to login to the DosServer using globally
       defined user id and password.</p></td></tr>
<tr><td><code><a href="#::::loginDosSwitch">::::loginDosSwitch</a> {  }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::setupOSPFVlans">::::setupOSPFVlans</a> { DUT1Vlan1_IP DUT1vlan1_2_IP DUT2vlan1_2_IP DUT2vlan2_IP }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::unconfigDosNetwork">::::unconfigDosNetwork</a> {  }</code><p class="summary">###############################################################################
 Procedure Name: unconfigDosNetwork
 Description:
       This proc is used to unconfig the DOS topology
 Input args: None
 Output args: None
 Typical usage:
      unconfigDosNetwork
 Category: Dos
#################################################################</p></td></tr>
<tr><td><code><a href="#::::verifyDosProtect">::::verifyDosProtect</a> { args }</code><p class="summary">#################################################################
 Procedure Name: verifyDosProtect
 Description:
       This proc is used to verify dos-protection
 Input args: testNo - test number
             checkFor - acl  - verify ACL is created
                        noAcl - verify no ACL is created
                        notice - verify notify-threshold is reached
                        noNotice - verify notify-threshold is not reached
              port    - the port # in show log output
              srcIp   - SRCIP address in show log output
              destIp  - DESTIP address in show log output
              proto   - PROTO protocol type in show log output
 Output args: None
 Typical usage:
     verifyDosProtect -checkFor "acl notice"
 Category: Dos
#################################################################</p></td></tr>
<tr><td><code><a href="#::::verifyTelnet">::::verifyTelnet</a> { destination }</code><p class="summary">experimental proc</p></td></tr>
</table>
<p>
<!-- -------------------- PROCEDURE DETAIL -------------------- -->
<table class="proc-details">
<tr>
  <th><a name="proc_detail">Procedure Detail</a></th>
</tr>
</table>
<h3  class="details-header"><a name="::::CheckAclMonitor">::::CheckAclMonitor</a></h3>
<pre class="details-procdef">proc  ::::CheckAclMonitor { acl }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::CheckAclMonitor_286">dosLib.tcl, line 286</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckRatesAndCounts">::::CheckRatesAndCounts</a></h3>
<pre class="details-procdef">proc  ::::CheckRatesAndCounts {  }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::CheckRatesAndCounts_443">dosLib.tcl, line 443</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::ChecktNetTask">::::ChecktNetTask</a></h3>
<pre class="details-procdef">proc  ::::ChecktNetTask { low high }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::ChecktNetTask_255">dosLib.tcl, line 255</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckWithOSPF">::::CheckWithOSPF</a></h3>
<pre class="details-procdef">proc  ::::CheckWithOSPF { dutMac }</pre>
<dl  class="details-desc">
<dd>#################################################################
 Procedure Name: CheckWithOSPF
 Description:
       This proc is used to config OSPF on the DUTs.
 Input args: dutMac - Mac address of DUT
 Output args: None
 Typical usage:
       CheckWithOSPF
 Category: Dos
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::CheckWithOSPF_410">dosLib.tcl, line 410</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cleanOsConf">::::cleanOsConf</a></h3>
<pre class="details-procdef">proc  ::::cleanOsConf {  }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::cleanOsConf_70">dosLib.tcl, line 70</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::configDosNetwork">::::configDosNetwork</a></h3>
<pre class="details-procdef">proc  ::::configDosNetwork {  }</pre>
<dl  class="details-desc">
<dd>#################################################################
 Procedure Name: ConfigDosNetwork
 Description:
       This proc is used to config the Dos networks according to the
       following topology drawings. The dosSwitch is used to isolate DOS 
       attack traffic from the rest of the regression testbeds. 

       Topology 1 is used if we are testing a blade type that cannot
       be directly connected with the dosSwitch. e.g. we want to test
       G48X such that attack is coming into this blade, but we run out of 
       fiber port on the dosSwitch.
 
       Topology 2 is used if the blade type under test can be directly
       connected to the dosSwitch. or in case of PC as the DUT2, the PC
       cannot route DOS traffic fast enough to trigger dos protection. We
       want to connect DUT1 directly to dosSwitch.

 Topology 1
 ===========

       DOS attack traffic is routed by dosSwitch to DUT2 then to DUT1

       Note that this topology exist together with the OSPF topology
       but we are using a different trunk here between DUT1 and DUT2
 EXOS note:
       Note that in EW the DOS switch is connected to DUT1 and DUT2 is under
       attack. In EXOS we connect the DOS switch to DUT2  and DUT1 is under
       attack. This is because in EXOS testbeds DUT1 and DUT2 can be different
       platforms(e.g. DUT1 is Mariner and DUT2 is PC ). DUT1 is the platform
       that we want to test. We also want the attack traffic coming in from
       the trunk between DUT1 and 2 (e.g g60T, g60X etc) so the correct blade
       is under attack.


           network
            |
        +-----------------+
        |  eth0           |
        | DOS  Server     |
        |  eth1           |
        +-----------------+
        123.123.1.4
            |
            | 
     $dosSwitchPortToDosServer 123.123.1.3
        +-----------------+
        |                 |
        |   DOS switch    |
        |                 |
        +-----------------+
      $dosSwitchPortToDut  124.124.$testbedId.3
            |
            |
      $dutDosPort(2) 124.124.$testbedId.2
        +-----------------+
        |                 |
        |       DUT2      |
        |                 |
        +-----------------+
    125.125.$testbedId.2
            |
            |
      $dutDosPort(1) 125.125.$testbedId.1
        +-----------------+
        |                 |
        |       DUT1      |
        |                 |
        +-----------------+

 Topology 2
 ==========
           network
            |
        +-----------------+
        |  eth0           |
        | DOS  Server     |
        |  eth1           |
        +-----------------+
        123.123.1.4
            |
            | 
     $dosSwitchPortToDosServer 123.123.1.3
        +-----------------+
        |                 |
        |   DOS switch    |
        |                 |
        +-----------------+
      $dosSwitchPortToDut  124.124.$testbedId.3
            |
            |
      $dutDosPort(1) 124.124.$testbedId.1
        +-----------------+
        |                 |
        |       DUT1      |
        |                 |
        +-----------------+


 Input args: dosTopology  1 - use topology 1
                          2 - use topology 2 
 Output args: None
 Typical usage:
       configDosNetwork
 Category: Dos
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::configDosNetwork_587">dosLib.tcl, line 587</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::disableCPUDosProtect">::::disableCPUDosProtect</a></h3>
<pre class="details-procdef">proc  ::::disableCPUDosProtect { dut }</pre>
<dl  class="details-desc">
<dd>#################################################################
 Procedure Name: disableCPUDosProtect
 Description:
       This proc is used to config cpu-dos-protect parameters to 
       default and then disable cpu-dos-protect
 Input args: dut - the DUT number
 Output args: None
 Typical usage:
       disableCPUDosProtect 1
 Category: Dos
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::disableCPUDosProtect_61">dosLib.tcl, line 61</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::enableCPUDosProtect">::::enableCPUDosProtect</a></h3>
<pre class="details-procdef">proc  ::::enableCPUDosProtect { dut {alert default} {notify default} }</pre>
<dl  class="details-desc">
<dd>#################################################################
 Procedure Name: enableCPUDosProtect
 Description:
       This proc is used to enable cpu-dos-protect on a DUT.
 Input args: dut - the DUT number
             alert - alert-threshold to configure
             notify - notify-threshold to configure
 Output args: None
 Typical usage:
       enableCPUDosProtect 1
 Category: Dos
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::enableCPUDosProtect_100">dosLib.tcl, line 100</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::getCmdOutput">::::getCmdOutput</a></h3>
<pre class="details-procdef">proc  ::::getCmdOutput { command task }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::getCmdOutput_232">dosLib.tcl, line 232</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::killOldAttacks">::::killOldAttacks</a></h3>
<pre class="details-procdef">proc  ::::killOldAttacks {  }</pre>
<dl  class="details-desc">
<dd>###############################################################################
 Procedure Name: killOldAttacks
 Description:
       This proc is used to kill all dos attacks to the DUTs
       It's for cleaning up and attack processes left by previous tests.
 Input args: None
 Output args: None
 Typical usage:
      killOldAttacks
 Category: Dos
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::killOldAttacks_760">dosLib.tcl, line 760</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::loginDosServer">::::loginDosServer</a></h3>
<pre class="details-procdef">proc  ::::loginDosServer {  }</pre>
<dl  class="details-desc">
<dd>#################################################################
 Procedure Name: loginDosServer
 Description:
       This proc is used to login to the DosServer using globally
       defined user id and password.
 Input args: None
 Output args: None
 Typical usage:
       loginDosServer
 Category: Dos
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::loginDosServer_13">dosLib.tcl, line 13</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::loginDosSwitch">::::loginDosSwitch</a></h3>
<pre class="details-procdef">proc  ::::loginDosSwitch {  }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::loginDosSwitch_43">dosLib.tcl, line 43</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::setupOSPFVlans">::::setupOSPFVlans</a></h3>
<pre class="details-procdef">proc  ::::setupOSPFVlans { DUT1Vlan1_IP DUT1vlan1_2_IP DUT2vlan1_2_IP DUT2vlan2_IP }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::setupOSPFVlans_381">dosLib.tcl, line 381</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::unconfigDosNetwork">::::unconfigDosNetwork</a></h3>
<pre class="details-procdef">proc  ::::unconfigDosNetwork {  }</pre>
<dl  class="details-desc">
<dd>###############################################################################
 Procedure Name: unconfigDosNetwork
 Description:
       This proc is used to unconfig the DOS topology
 Input args: None
 Output args: None
 Typical usage:
      unconfigDosNetwork
 Category: Dos
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::unconfigDosNetwork_713">dosLib.tcl, line 713</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::verifyDosProtect">::::verifyDosProtect</a></h3>
<pre class="details-procdef">proc  ::::verifyDosProtect { args }</pre>
<dl  class="details-desc">
<dd>#################################################################
 Procedure Name: verifyDosProtect
 Description:
       This proc is used to verify dos-protection
 Input args: testNo - test number
             checkFor - acl  - verify ACL is created
                        noAcl - verify no ACL is created
                        notice - verify notify-threshold is reached
                        noNotice - verify notify-threshold is not reached
              port    - the port # in show log output
              srcIp   - SRCIP address in show log output
              destIp  - DESTIP address in show log output
              proto   - PROTO protocol type in show log output
 Output args: None
 Typical usage:
     verifyDosProtect -checkFor "acl notice"
 Category: Dos
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::verifyDosProtect_136">dosLib.tcl, line 136</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::verifyTelnet">::::verifyTelnet</a></h3>
<pre class="details-procdef">proc  ::::verifyTelnet { destination }</pre>
<dl  class="details-desc">
<dd>experimental proc
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="dosLib.tcl.html#::::verifyTelnet_321">dosLib.tcl, line 321</a></dd>
</dl></dd>
</dl>

<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
