<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>automate.tcl annotations</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#automate.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<h2><a href="automate.tcl.html">automate.tcl</a> Annotations</h2>
Created from <strong><code>/root/automation/main/automate.tcl</strong></code>
<hr>

<table class="proc-summary">
<tr>
<!-- -------------------- PROCEDURE SUMMARY -------------------- -->
<th><a name="proc_summary">Procedure Summary</a></th>
</tr>
<tr><td><code><a href="#::createRerunScript">::createRerunScript</a> { moduleNeedToRerun regType regSubType build platform blade cliFlag }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::createShortConfig">::createShortConfig</a> { fname mdule testCaseList btype build regPath }</code><p class="summary">###############################################################
  [createShortConfig]
 
  This proc as name implies creates the pt file on the fly
   
  Input Variables:
                fname
                mdule
                testCaseList
                btype - bladeType
                build

  Output Variables:
                none

  Return Value:
      - returns 1 if pt short file is already created or is now created
                0 in case of error
      
Usage:
            set rval [createShortConfig $cfgFile $module $testCaseListFailed 
                       $bladeType $buildName];

###############################################################</p></td></tr>
<tr><td><code><a href="#::genAutomateLine">::genAutomateLine</a> { regType regSubType build platform blade cliFlag }</code><p class="summary">Generates the automate.tcl line for the rerun BAT file.</p></td></tr>
<tr><td><code><a href="#::getDirName">::getDirName</a> { platform blade module build regType regSubType }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::getPDListFromPrevBuild">::getPDListFromPrevBuild</a> { testsList module plat blade build regType regSubType }</code><p class="summary">###############################################################
  [getPDListFromPrevBuild]
 
  Procedure to capture PDlist from 3 consecutive builds based on the testsList, module, plat, blade and regType.</p></td></tr>
<tr><td><code><a href="#::getPerfDataFromPrevBuild">::getPerfDataFromPrevBuild</a> { module plat blade build testNumber subtest }</code><p class="summary">##################################################################
 Get the performance data from previuos build.</p></td></tr>
<tr><td><code><a href="#::getTestCaseNumber">::getTestCaseNumber</a> { para }</code><p class="summary">###############################################################
  [getTestCaseNumber]
 
  This proc reads a para and returns a testcase number from its line.</p></td></tr>
<tr><td><code><a href="#::print_usage">::print_usage</a> {  }</code><p class="summary">###############################################################
  [print_usage]
 
  Prints the usage of utility in case any of the args are incorrect or insufficient
   
  Input Variables:
                none
  Output Variables:
                none

  Return Value:
      - none
      
Usage:
     print_usage

###############################################################</p></td></tr>
<tr><td><code><a href="#::putPerfTestResult">::putPerfTestResult</a> { module webFileName perfFileName platform bladeType buildName }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::SummarizeAllFailures">::SummarizeAllFailures</a> { buildName platform bladeType regType regSubType regressionModules fd {perfFileName {}} }</code><p class="summary">###############################################################
  [SummarizeAllFailures]
 
  Procedure to summarize all the Failures from report.txt files to a common summary file.
   
  Input Variables:
                buildName
                platform
                bladeType
                regType
                regSubType
                fd - file descriptor of the output file to write to
                perfFileName
  Output Variables:
                none

  Return Value:
      - returns 0 on failure or 1 on success
      
Usage:
 SummarizeAllFailures $build $platform $blade $regType $regSubType $fd

###############################################################</p></td></tr>
<tr><td><code><a href="#::TestsFromCfgFile">::TestsFromCfgFile</a> { mdule fname build fd regPath }</code><p class="summary">###############################################################
  [TestsFromCfgFile]
 
  This proc reads a complete config file and returns the list of
  tests from tests_to_run variable.</p></td></tr>
<tr><td><code><a href="#::updatePerfWebDataFile">::updatePerfWebDataFile</a> { {regType {}} build platform blade module tList testsRan }</code><p class="summary">QAD to support performance reports.</p></td></tr>
<tr><td><code><a href="#::updateWebDataFile">::updateWebDataFile</a> { {regType {}} regSubType build platform blade module tList bugList testsRan runOrRerun {execAllTime 0} }</code><p class="summary">###############################################################
  [updateWebDataFile]
 
  This is most crucial proc that writes result data to autoweb data files.</p></td></tr>
<tr><td><code><a href="#::validateArgsAutomate">::validateArgsAutomate</a> { argv p_regType p_regSubType p_build p_platform p_blade p_modules p_noconfig p_cliFlag }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::verifyPerfResult">::verifyPerfResult</a> { para fd testN }</code><p class="summary">Specifically used for performance</p></td></tr>
<tr><td><code><a href="#::verifyResult">::verifyResult</a> { para fd testN }</code><p class="summary">###############################################################
  [verifyResult]
 
  Procedure to check the para for testcase and supplies the caller return value in out variable testN
   
  Input Variables:
                para
                fd
  Output Variables:
                testN

  Return Value:
      - returns -1 on error or the failed test line on sucess
      
Usage:
            set fl [verifyResult $thisPara $fd tn]

###############################################################</p></td></tr>
<tr><td><code><a href="#::writeReleaseMasterFile">::writeReleaseMasterFile</a> { build plat }</code><p class="summary">###############################################################
  [writeReleaseMasterFile]
 
  Procedure that writes to autoweb about the release master check flag.</p></td></tr>
</table>
<p>
<!-- -------------------- PROCEDURE DETAIL -------------------- -->
<table class="proc-details">
<tr>
  <th><a name="proc_detail">Procedure Detail</a></th>
</tr>
</table>
<h3  class="details-header"><a name="::createRerunScript">::createRerunScript</a></h3>
<pre class="details-procdef">proc  ::createRerunScript { moduleNeedToRerun regType regSubType build platform blade cliFlag }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::createRerunScript_2140">automate.tcl, line 2140</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::createShortConfig">::createShortConfig</a></h3>
<pre class="details-procdef">proc  ::createShortConfig { fname mdule testCaseList btype build regPath }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [createShortConfig]
 
  This proc as name implies creates the pt file on the fly
   
  Input Variables:
                fname
                mdule
                testCaseList
                btype - bladeType
                build

  Output Variables:
                none

  Return Value:
      - returns 1 if pt short file is already created or is now created
                0 in case of error
      
Usage:
            set rval [createShortConfig $cfgFile $module $testCaseListFailed 
                       $bladeType $buildName];

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::createShortConfig_1967">automate.tcl, line 1967</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::genAutomateLine">::genAutomateLine</a></h3>
<pre class="details-procdef">proc  ::genAutomateLine { regType regSubType build platform blade cliFlag }</pre>
<dl  class="details-desc">
<dd>Generates the automate.tcl line for the rerun BAT file.
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::genAutomateLine_2114">automate.tcl, line 2114</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::getDirName">::getDirName</a></h3>
<pre class="details-procdef">proc  ::getDirName { platform blade module build regType regSubType }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::getDirName_1648">automate.tcl, line 1648</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::getPDListFromPrevBuild">::getPDListFromPrevBuild</a></h3>
<pre class="details-procdef">proc  ::getPDListFromPrevBuild { testsList module plat blade build regType regSubType }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [getPDListFromPrevBuild]
 
  Procedure to capture PDlist from 3 consecutive builds based on the testsList, module, plat, blade and regType.
   
  Input Variables:
                testsList
                module
                plat
                blade
                build
                regType
  Output Variables:
                none

  Return Value:
      - returns list of PDs for above criteria
      
Usage:
       set pdList [getPDListFromPrevBuild testCaseListFailed $module $platform $bladeType $buildHead $regType]

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::getPDListFromPrevBuild_770">automate.tcl, line 770</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::getPerfDataFromPrevBuild">::getPerfDataFromPrevBuild</a></h3>
<pre class="details-procdef">proc  ::getPerfDataFromPrevBuild { module plat blade build testNumber subtest }</pre>
<dl  class="details-desc">
<dd>##################################################################
 Get the performance data from previuos build.
 Currently not used..
##################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::getPerfDataFromPrevBuild_61">automate.tcl, line 61</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::getTestCaseNumber">::getTestCaseNumber</a></h3>
<pre class="details-procdef">proc  ::getTestCaseNumber { para }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [getTestCaseNumber]
 
  This proc reads a para and returns a testcase number from its line.
  a test number may start with a digit followed by any char.
   
  Input Variables:
                para

  Output Variables:
                none

  Return Value:
      - returns test number from the para or
                none in case of no test found
      
Usage:
            set tn [getTestCaseNumber $thisPara];

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::getTestCaseNumber_1731">automate.tcl, line 1731</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::print_usage">::print_usage</a></h3>
<pre class="details-procdef">proc  ::print_usage {  }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [print_usage]
 
  Prints the usage of utility in case any of the args are incorrect or insufficient
   
  Input Variables:
                none
  Output Variables:
                none

  Return Value:
      - none
      
Usage:
     print_usage

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::print_usage_34">automate.tcl, line 34</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::putPerfTestResult">::putPerfTestResult</a></h3>
<pre class="details-procdef">proc  ::putPerfTestResult { module webFileName perfFileName platform bladeType buildName }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::putPerfTestResult_147">automate.tcl, line 147</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::SummarizeAllFailures">::SummarizeAllFailures</a></h3>
<pre class="details-procdef">proc  ::SummarizeAllFailures { buildName platform bladeType regType regSubType regressionModules fd {perfFileName {}} }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [SummarizeAllFailures]
 
  Procedure to summarize all the Failures from report.txt files to a common summary file.
   
  Input Variables:
                buildName
                platform
                bladeType
                regType
                regSubType
                fd - file descriptor of the output file to write to
                perfFileName
  Output Variables:
                none

  Return Value:
      - returns 0 on failure or 1 on success
      
Usage:
 SummarizeAllFailures $build $platform $blade $regType $regSubType $fd

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::SummarizeAllFailures_236">automate.tcl, line 236</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::TestsFromCfgFile">::TestsFromCfgFile</a></h3>
<pre class="details-procdef">proc  ::TestsFromCfgFile { mdule fname build fd regPath }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [TestsFromCfgFile]
 
  This proc reads a complete config file and returns the list of
  tests from tests_to_run variable. This variable may be read
 directly from the config file or via a sourced file
   
  Input Variables:
                mdule
                fname
                build
                fd

  Output Variables:
                none

  Return Value:
      - returns tests list found in tests_to_run variable 
                0 in case of error
      
Usage:
      set testsFromCfgFile [TestsFromCfgFile $module $cfgFile $buildName $fd];

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::TestsFromCfgFile_1770">automate.tcl, line 1770</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::updatePerfWebDataFile">::updatePerfWebDataFile</a></h3>
<pre class="details-procdef">proc  ::updatePerfWebDataFile { {regType {}} build platform blade module tList testsRan }</pre>
<dl  class="details-desc">
<dd>QAD to support performance reports.  Integrate better with 
 proc updatePerfWebDataFile later. (APL)
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::updatePerfWebDataFile_1098">automate.tcl, line 1098</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::updateWebDataFile">::updateWebDataFile</a></h3>
<pre class="details-procdef">proc  ::updateWebDataFile { {regType {}} regSubType build platform blade module tList bugList testsRan runOrRerun {execAllTime 0} }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [updateWebDataFile]
 
  This is most crucial proc that writes result data to autoweb data files.
  controls multiple runs of automate.tcl by not updating appropriate flags, 
  maintaining up to date information. It supports this mechanism for any 
  number of runs of regression
   
  Input Variables:
                regType
                build
                platform
                blade
                module
                tList - tests list that failed
                bugList - bugs that were carried over from previous builds
                testsRan - tests that were run in a given file
                runOrRerun - flag that indicates if the regression was first 
                             run or rerun
                execAllTime - Time to execute all tests.  If "all" not run
                              this value is set to 0 

  Output Variables:
                none

  Return Value:
      - returns 0 on error or 
                  webFileName to which the data was written in success
      
Usage:
     set webFileName [updateWebDataFile $regType $buildName $platform $bladeType \
                       $module $testCaseListFailed $pdList $testsFromCfgFile \
                       $runOrRerun]   ;#run=1,rerun=2

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::updateWebDataFile_1199">automate.tcl, line 1199</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::validateArgsAutomate">::validateArgsAutomate</a></h3>
<pre class="details-procdef">proc  ::validateArgsAutomate { argv p_regType p_regSubType p_build p_platform p_blade p_modules p_noconfig p_cliFlag }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::validateArgsAutomate_2287">automate.tcl, line 2287</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::verifyPerfResult">::verifyPerfResult</a></h3>
<pre class="details-procdef">proc  ::verifyPerfResult { para fd testN }</pre>
<dl  class="details-desc">
<dd>Specifically used for performance
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::verifyPerfResult_984">automate.tcl, line 984</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::verifyResult">::verifyResult</a></h3>
<pre class="details-procdef">proc  ::verifyResult { para fd testN }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [verifyResult]
 
  Procedure to check the para for testcase and supplies the caller return value in out variable testN
   
  Input Variables:
                para
                fd
  Output Variables:
                testN

  Return Value:
      - returns -1 on error or the failed test line on sucess
      
Usage:
            set fl [verifyResult $thisPara $fd tn]

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::verifyResult_922">automate.tcl, line 922</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::writeReleaseMasterFile">::writeReleaseMasterFile</a></h3>
<pre class="details-procdef">proc  ::writeReleaseMasterFile { build plat }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [writeReleaseMasterFile]
 
  Procedure that writes to autoweb about the release master check flag. The file is
  empty if check passes, or contains FAILED if check fails
   
  Input Variables:
                build
                plat
  Output Variables:
                none

  Return Value:
      - returns 0 in case of error of not able to create a dir
      
Usage:
      writeReleaseMasterFile $buildName $platform

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="automate.tcl.html#::writeReleaseMasterFile_1061">automate.tcl, line 1061</a></dd>
</dl></dd>
</dl>

<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 16:57.</cite>
</div>

</body>
</html>
