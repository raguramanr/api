<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>mld.tcl</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#mld.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<p><strong>mld.tcl</strong>&nbsp;&nbsp;<span class="filetype-link">(<a href="mld.tcl-annot.html">annotations</a> | <a href="mld.tcl.txt">original source</a>)</span>
</p>
<pre class="src-code">

<span class="comment-line">################################################################## </span>
<span class="comment-line"># Procedure Name: startMLD</span>
<span class="comment-line">#   </span>
<span class="comment-line"># Description:  start the IGMP protocol server on the ixia</span>
<span class="comment-line">#              </span>
<span class="comment-line"># Input args: txPortIdList</span>
<span class="comment-line"># Output args: none</span>
<span class="comment-line"># Return value: none</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#      startDvmrp {1}</span>
<span class="comment-line">#</span>
<span class="comment-line"># Category Types (SetupSwitch,GetSwitchInfo,SendTraffic,CaptureTraffic,</span>
<span class="comment-line">#                 SetupTestTool,VerifySwitchOutput,Utility,VerifyTraffic)</span>
<span class="comment-line"># Category: SetupTestTool</span>
<span class="comment-line">##################################################################</span>
<strong><a name="::::startMLD_17">proc <a href="mld.tcl-annot.html#::::startMLD">::::startMLD</a></a></strong> {txPortIdList} {

   set pList &#34;&#34;
   global TrafficGen
   switch -exact -- $TrafficGen {
      ixia -
      ixvm {
   foreach txPortId $txPortIdList {
      <a name="::MapIxiaPortId(1)"><a href="./ePTPortMapping.tcl.html#::MapIxiaPortId_14">::MapIxiaPortId</a></a> $txPortId cha car por
      <a name="::result_debug(1)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;startMLD - Chas: $cha Card: $car Port: $por&#34;
      lappend pList &#34;$cha $car $por&#34;
   }
   
   if {[ixStartMld pList]} {
      error &#34;startMLD: ixStartMld  failed.&#34;
   }
}
      stc {
         set globalDeviceList &#34;&#34;
         foreach txPortId $txPortIdList {
            set txPortId [<a name="::hMapPortIdToSpirentPort(1)"><a href="./spirent.tcl.html#::hMapPortIdToSpirentPort_216">::hMapPortIdToSpirentPort</a></a> $txPortId]
            set deviceList [stc::get $txPortId -affiliationport-Sources]
            <a name="::result_debug(2)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;startMld: Device List - $deviceList&#34;
            set globalDeviceList [concat $globalDeviceList $deviceList]				
         }
         
         if {[catch {stc::perform DeviceStartCommand -DeviceList $globalDeviceList} retCode]} {
            error &#34;startMld: Spirent device start failed.&#34;
         } 
      }
   }   
}

<span class="comment-line">################################################################## </span>
<span class="comment-line"># Procedure Name: stopMld</span>
<span class="comment-line">#   </span>
<span class="comment-line"># Description:  stop the MLD protocol server on the ixia</span>
<span class="comment-line">#              </span>
<span class="comment-line"># Input args: txPortIdList</span>
<span class="comment-line"># Output args: none</span>
<span class="comment-line"># Return value: none</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#      stopDvmrp {1}</span>
<span class="comment-line">#</span>
<span class="comment-line"># Category Types (SetupSwitch,GetSwitchInfo,SendTraffic,CaptureTraffic,</span>
<span class="comment-line">#                 SetupTestTool,VerifySwitchOutput,Utility,VerifyTraffic)</span>
<span class="comment-line"># Category: SetupTestTool</span>
<span class="comment-line">##################################################################</span>
<strong><a name="::::stopMLD_65">proc <a href="mld.tcl-annot.html#::::stopMLD">::::stopMLD</a></a></strong> {txPortIdList} {

   set pList &#34;&#34;;
   global TrafficGen
   switch -exact -- $TrafficGen {
      ixia -
      ixvm {	
   foreach txPortId $txPortIdList {	
      <a name="::MapIxiaPortId(2)"><a href="./ePTPortMapping.tcl.html#::MapIxiaPortId_14">::MapIxiaPortId</a></a> $txPortId cha car por;
      <a name="::result_debug(3)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;StopMLD - Chas: $cha Card: $car Port: $por&#34;;
      lappend pList &#34;$cha $car $por&#34;;
   }
   
   if {[ixStopMld pList]} {
      error &#34;stopMLD: ixStopMld failed.&#34;
   }
}
      stc {
         
         set globalDeviceList &#34;&#34;
         foreach txPortId $txPortIdList {
            set txPortId [<a name="::hMapPortIdToSpirentPort(2)"><a href="./spirent.tcl.html#::hMapPortIdToSpirentPort_216">::hMapPortIdToSpirentPort</a></a> $txPortId]
            set deviceList [stc::get $txPortId -affiliationport-Sources]
            <a name="::result_debug(4)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;stopMld: Device List - $deviceList&#34;
            set globalDeviceList [concat $globalDeviceList $deviceList]				
         }
         
         if {[catch {stc::perform DeviceStopCommand -DeviceList $globalDeviceList} retCode]} {
            error &#34;stopMld: Spirent device start failed.&#34;
         } 
      }
   }
}


<span class="comment-line">################################################################## </span>
<span class="comment-line"># Procedure Name: cleanupMLD</span>
<span class="comment-line">#   </span>
<span class="comment-line"># Description:  cleanup the MLD protocol server on the ixia</span>
<span class="comment-line">#              </span>
<span class="comment-line"># Input args: txPortIdList, routerIp</span>
<span class="comment-line"># Output args: none</span>
<span class="comment-line"># Return value: none</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#      cleanupDvmrp {4}</span>
<span class="comment-line">#</span>
<span class="comment-line"># Category Types (SetupSwitch,GetSwitchInfo,SendTraffic,CaptureTraffic,</span>
<span class="comment-line">#                 SetupTestTool,VerifySwitchOutput,Utility,VerifyTraffic)</span>
<span class="comment-line"># Category: SetupTestTool</span>
<span class="comment-line">##################################################################</span>
<strong><a name="::::cleanupMLD_115">proc <a href="mld.tcl-annot.html#::::cleanupMLD">::::cleanupMLD</a></a></strong> {txPortIdList} {

   global TrafficGen
   
   switch -exact -- $TrafficGen {
      
      stc {
         if { [catch {
  foreach txPortId $txPortIdList {    
               set txPortId [<a name="::hMapPortIdToSpirentPort(3)"><a href="./spirent.tcl.html#::hMapPortIdToSpirentPort_216">::hMapPortIdToSpirentPort</a></a> $txPortId]
               foreach emulatedDevice [stc::get $txPortId -affiliationport-Sources] {
                  set ipv4If [stc::get $emulatedDevice -children-Ipv4If]
                  if {$ipv4If != &#34;&#34;} {
                     stc::delete $emulatedDevice							
                  }
               }
            }	
            
         } msg ] } {
            <a name="::result_error(1)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;cleanupMld : Failed to delete MLD configuration $msg&#34;
            return 0
         }			
         
      }
      
      ixia -
      ixvm {
         
  foreach txPortId $txPortIdList {    
    <span class="comment-line"># get the port information</span>
    <a name="::MapIxiaPortId(3)"><a href="./ePTPortMapping.tcl.html#::MapIxiaPortId_14">::MapIxiaPortId</a></a> $txPortId chas card port;
    set pl [list [list $chas $card $port]] 
    <a name="::result_debug(5)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;cleanupMLD - Chas: $chas Card: $card Port: $port&#34;;

    interfaceTable        select     $chas $card $port
    interfaceTable        clearAllInterfaces
    protocolServer 		  setDefault
    protocolServer config -enableMldService false
    ipAddressTable		  clear
    ipAddressTable		  setDefault
    ipAddressTableItem	  setDefault


      
    <a name="::mldServer(1)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>             setDefault
    <a name="::mldServer(2)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>             clearAllHosts
    mldGroupRange         setDefault
    mldHost               setDefault
    ipAddressTable        set $chas $card $port
 
    <a name="::mldServer(3)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>             set
    protocolServer write $chas $card $port

    <span class="comment-line"># Send to the hardware </span>
    <a name="::ixWritePortsToHardware(1)"><a href="./mapping.tcl.html#::ixWritePortsToHardware_145">::ixWritePortsToHardware</a></a> pl

  }      
}
   }
}

<span class="comment-line">################################################################## </span>
<span class="comment-line"># Procedure Name: setupMLDServer</span>
<span class="comment-line">#   </span>
<span class="comment-line"># Description:  setup the MLD protocol server on the ixia</span>
<span class="comment-line">#              </span>
<span class="comment-line"># Input args: </span>
<span class="comment-line">#		-reportMode: MLDReportToOneWhenQueried(0), MLDReportToAllWhenQueried(1),</span>
<span class="comment-line"># 		MLDReportToAllUnsolicited(2)</span>
<span class="comment-line"># Output args: none</span>
<span class="comment-line"># Return value: none</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#    setupMLDPeer -txPortId 1 \</span>
<span class="comment-line">#		-gatewayIp &#34;61.61.1.1&#34; -ipAddress &#34;61.1.1.10&#34; \</span>
<span class="comment-line">#		-numIpAddresses &#34;10&#34; -groupIpAddress &#34;224.0.1.100&#34; \</span>
<span class="comment-line">#		-numGroupIpAddress &#34;20&#34;</span>
<span class="comment-line">#</span>
<span class="comment-line"># Category Types (SetupSwitch,GetSwitchInfo,SendTraffic,CaptureTraffic,</span>
<span class="comment-line">#                 SetupTestTool,VerifySwitchOutput,Utility,VerifyTraffic)</span>
<span class="comment-line"># Category: SetupTestTool</span>
<span class="comment-line">##################################################################</span>
<strong><a name="::::setupMLDServer_196">proc <a href="mld.tcl-annot.html#::::setupMLDServer">::::setupMLDServer</a></a></strong> {args} {
   global TrafficGen
   <a name="::parse_args(1)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> setupMLDServer $args {
      gatewayIp &#34;3FFE:1:0:0:0:0:0:1&#34;
      ipV6Address &#34;3FFE:1:0:0:0:0:0:2&#34;
      subNetMask  &#34;64&#34;
      numHosts &#34;1&#34;
      tag &#34;none&#34;
      priority &#34;0&#34;
      groupIpFrom &#34;FF02:0:0:0:0:0:1:0&#34;
      groupCount &#34;1&#34;
      enablePacking &#34;false&#34;
      txPortId &#34;1&#34;
      repeatCount &#34;3&#34;
      reportFrequency &#34;120&#34;
      enUnSolicited &#34;false&#34;
      enSupReports &#34;false&#34;
      reportMode &#34;2&#34;	
      <a name="::version(1)"><a href="./ePTClient.tcl.html#::version_470">::version</a></a> &#34;2&#34;
   }

   switch -exact -- $TrafficGen {
      stc {
         puts &#34;[lindex [info level 0] 0] : $args&#34;
         set error_flag 0
         set txPortIdIndex $txPortId
         set txPortId [<a name="::hMapPortIdToSpirentPort(4)"><a href="./spirent.tcl.html#::hMapPortIdToSpirentPort_216">::hMapPortIdToSpirentPort</a></a> $txPortId]
         if {($tag == &#34;none&#34;) || !$tag} {
            array set cmdResults [<a name="::logcmd(1)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::perform DeviceCreateCommand -ParentList [<a name="::logcmd(2)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get system1 -children-project] -port $txPortId -IfStack &#34;Ipv6If EthIIIf&#34; -IfCount &#34;1 1&#34;]
            set deviceHndl $cmdResults(-ReturnList)
            <a name="::logcmd(3)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::config [<a name="::logcmd(4)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get $deviceHndl -children-Ipv6If] -Address 2011::1 -Gateway 2011::1 -PrefixLength 64
            <a name="::logcmd(5)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::create Ipv6If -under $deviceHndl -stackedonendpoint-Targets [lindex [<a name="::logcmd(6)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get $deviceHndl -children-EthIIIf] 0] \
               -toplevelif-Sources $deviceHndl -Address $ipV6Address -PrefixLength $subNetMask
         } else {
            array set cmdResults [<a name="::logcmd(7)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::perform DeviceCreateCommand -ParentList [<a name="::logcmd(8)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get system1 -children-project] -port $txPortId -IfStack &#34;Ipv6If VlanIf EthIIIf&#34; -IfCount &#34;1 1 1&#34;]
            set deviceHndl $cmdResults(-ReturnList)
            <a name="::logcmd(9)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::config [<a name="::logcmd(10)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get $deviceHndl -children-VlanIf] -VlanId $tag -priority $priority
            <a name="::logcmd(11)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::config [<a name="::logcmd(12)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get $deviceHndl -children-Ipv6If] -Address $ipV6Address -Gateway $gatewayIp -PrefixLength $subNetMask
            <a name="::logcmd(13)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::create Ipv6If -under $deviceHndl -stackedonendpoint-Targets [lindex [<a name="::logcmd(14)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get $deviceHndl -children-VlanIf] 0] -toplevelif-Sources $deviceHndl -Address FE80::$txPortIdIndex
            <a name="::logcmd(15)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::create Ipv6If -under $deviceHndl \
               -stackedonendpoint-Targets [lindex [<a name="::logcmd(16)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get $deviceHndl -children-EthIIIf] 0] \
               -toplevelif-Sources $deviceHndl -Address $linkLocalAddr
         }
         
         
         
         
         set mldAttrs &#34;-under $deviceHndl&#34;
         if {$version == &#34;1&#34;} {
            append mldAttrs &#34; -Version MLD_V1&#34;
         } elseif {$version == &#34;2&#34;} {
            append mldAttrs &#34; -Version MLD_V2&#34;
         } else {
            <a name="::result_error(2)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;setupIgmpServer: MLD version $version not supported for STC&#34;
         }
         if {$enablePacking != &#34;&#34;} {
            append mldAttrs &#34; -PackReports $enablePacking&#34;
         }
         if {$enablePacking != &#34;&#34;} {
            append mldAttrs &#34; -UnsolicitedReportInterval $reportFrequency&#34;
         }
         set ipv6Group [<a name="::logcmd(17)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::create Ipv6Group -under [<a name="::logcmd(18)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get system1 -children-project]]
         <a name="::logcmd(19)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::config [<a name="::logcmd(20)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get $ipv6Group -children-Ipv6NetworkBlock] -NetworkCount $groupCount -StartIpList $groupIpFrom
         
         set mldHostConfig [eval &#34;logcmd stc::create MldHostConfig [subst $mldAttrs]&#34;]
         if {$reportMode == &#34;1&#34;} {
            set mldGroupMemberShip [<a name="::logcmd(21)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::create MldGroupMembership -under $mldHostConfig -FilterMode &#34;INCLUDE&#34; -subscribedgroups-Targets $ipv6Group]
         } else {
            set mldGroupMemberShip [<a name="::logcmd(22)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::create MldGroupMembership -under $mldHostConfig -FilterMode &#34;EXCLUDE&#34; -subscribedgroups-Targets $ipv6Group]
         }
         <a name="::logcmd(23)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::config $mldHostConfig -usesif-Targets [<a name="::logcmd(24)"><a href="./spirent.tcl.html#::logcmd_26">::logcmd</a></a> stc::get $deviceHndl -children-Ipv6If]         
      }
      ixia -
      ixvm {   
   set error_flag 0
   
   <a name="::MapIxiaPortId(4)"><a href="./ePTPortMapping.tcl.html#::MapIxiaPortId_14">::MapIxiaPortId</a></a> $txPortId chas card port
   <a name="::result_debug(6)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;setupMLDServer: setting up MLD server on port $txPortId&#34;
   
   
   ipAddressTable               setDefault        


   interfaceTable               select            $chas $card $port
   interfaceTable               clearAllInterfaces


   interfaceEntry               clearAllItems     addressTypeIpV6
   interfaceEntry               clearAllItems     addressTypeIpV4
   interfaceIpV6         setDefault        
   <span class="comment-line">#interfaceIpV6        config       -maskWidth       64</span>
   interfaceIpV6         config       -maskWidth       $subNetMask
   interfaceIpV6         config       -ipAddress       $ipV6Address
   interfaceEntry               addItem           addressTypeIpV6
   
   interfaceEntry               setDefault        
   interfaceEntry               config            -enable                             true
   interfaceEntry               config            -description                        &#34;$card - $port MLD&#34;
   interfaceEntry               config            -macAddress                         &#34;00 00 11 11 11 11&#34;
   interfaceEntry               config            -eui64Id                            &#34;02 00 11 FF FE 11 11 11&#34;
   if {$tag == &#34;none&#34;} {
      interfaceEntry        config       -enableVlan                         false
      interfaceEntry        config       -vlanId                             0
      interfaceEntry        config       -vlanPriority                       0         
   } else {
      interfaceEntry        config       -enableVlan                         true
      interfaceEntry        config       -vlanId                             $tag
      interfaceEntry        config       -vlanPriority                       $priority
   }
   interfaceTable               addInterface      
   interfaceEntry               clearAllItems     addressTypeIpV6
   interfaceEntry               clearAllItems     addressTypeIpV4


   <a name="::mldServer(4)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>             select            $chas $card $port
   <a name="::mldServer(5)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>             clearAllHosts
   mldGroupRange         setDefault

   mldSourceRange config -sourceIpFrom 3ffe:200::1
   mldSourceRange config -count 1
   
   <span class="comment-line"># Add the source range to the group range</span>
   if [mldGroupRange addSourceRange source1] {
      <a name="::result_debug(7)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Can't add source range&#34;
   }
   mldGroupRange         config            -enable true
   mldHost               setDefault
   foreach groupAddr $groupIpFrom {
      <span class="comment-line">#mldGroupRange         config            -groupIpFrom                        &#34;FF02:0:0:0:0:0:1:0&#34;</span>
      mldGroupRange         config            -groupIpFrom                        $groupAddr
      <span class="comment-line">#mldGroupRange         config            -groupCount                         10</span>
      mldGroupRange         config            -groupCount                         $groupCount
      mldGroupRange         config            -incrementStep                      1
      <span class="comment-line">#mldGroupRange         config            -enablePacking                      false</span>
      mldGroupRange         config            -enablePacking                      $enablePacking
      mldGroupRange         config            -recordsPerFrame                    0
      mldGroupRange         config            -sourcesPerRecord                   0
      mldGroupRange         config            -sourceMode                         multicastSourceModeExclude
   }
   if {[mldHost               addGroupRange     groupRange1]} {
      set error_flag 1
      <a name="::result_debug(8)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;ERROR: Can't Add Group Range Item&#34;
   }
   
           
   mldHost               config            -enable                             true
   mldHost               config            -protocolInterfaceDescription       &#34;$card - $port MLD&#34;
   mldHost               config            -version                            mldVersion1
   mldHost               config            -enableRouterAlert                  true
   mldHost               config            -enableGeneralQuery                 true
   mldHost               config            -enableGroupSpecific                true
   mldHost               config            -enableUnsolicited                  $enUnSolicited
   mldHost               config            -enableSuppressReports              $enSupReports
   mldHost               config            -reportFrequency                    $reportFrequency
   mldHost               config            -enableImmediateResponse            false
      
   
   if {[<a name="::mldServer(6)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a> addHost host1]} {
      set error_flag 1
      <a name="::result_debug(9)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;ERROR: Can't Add MLD HOST Table Item&#34;
   }
   <a name="::mldServer(7)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>                    setDefault        
   <a name="::mldServer(8)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>                    config            -numGroups                          1
   <a name="::mldServer(9)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>                    config            -timePeriod                         50
   <a name="::mldServer(10)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>                    config            -mldv2ReportType                    143
   <a name="::mldServer(11)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a>                    config            -enableSendDoneOnStop               true

   if {[<a name="::mldServer(12)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a> set]} {
      set error_flag 1
      <a name="::result_debug(10)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;ERROR: Can't Set MLD Service&#34;
   }
   if {[<a name="::mldServer(13)"><a href="./spirent.tcl.html#::mldServer_1057">::mldServer</a></a> write]} {
      set error_flag 1
      <a name="::result_debug(11)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;ERROR: Can't Write MLD Service&#34;
   }


   protocolServer               config            -enableMldService                   true

   
   if [protocolServer set $chas $card $port] {
      set error_flag 1
      <a name="::result_debug(12)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;ERROR: Can't Set Protocol Server&#34;
   }
      
lappend                      portList          [list $chas $card $port]
<a name="::ixWritePortsToHardware(2)"><a href="./mapping.tcl.html#::ixWritePortsToHardware_145">::ixWritePortsToHardware</a></a>       portList          
<a name="::ixCheckLinkState(1)"><a href="./mapping.tcl.html#::ixCheckLinkState_160">::ixCheckLinkState</a></a>             portList   
      }
      
   }
    return $error_flag
}


<span class="comment-line">##################################################################</span>
<span class="comment-line"># Procedure Name: GetMLDMessage</span>
<span class="comment-line">#</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     This proc is used to get the MLD Messages from a frame received</span>
<span class="comment-line">#</span>
<span class="comment-line"># Input args: rawFrame</span>
<span class="comment-line"># Output args: None.</span>
<span class="comment-line"># Return value: MLD Messages in ixia raw frame format</span>
<span class="comment-line"># Typical usage:</span>
<span class="comment-line">#     set MLDMsg [GetMLDMessage $frame]</span>
<span class="comment-line">#</span>
<span class="comment-line"># Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,</span>
<span class="comment-line">#     VerifySwitchOutput,VerifyTraffic)</span>
<span class="comment-line"># Category: CaptureTraffic</span>
<span class="comment-line">##################################################################</span>
<strong><a name="::::GetMLDMessage_407">proc <a href="mld.tcl-annot.html#::::GetMLDMessage">::::GetMLDMessage</a></a></strong> {rawFrame} {

   <a name="::result_debug(13)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;rawFrame = $rawFrame&#34;
   set rtnMsg &#34;&#34;
   set type [string range $rawFrame 36 40]

   <span class="comment-line"># if tagged, get rid of type and tag field from 36 to 47</span>
   if {$type == &#34;81 00&#34;} {
     set leftRawFrame [string range $rawFrame 0 35]
     set rightRawFrame [string range $rawFrame 48 [string length $rawFrame]]
     set rawFrame [format &#34;%s%s&#34; $leftRawFrame $rightRawFrame]
   }

   set type [string range $rawFrame 36 40]
   <a name="::result_debug(14)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;the type $type&#34;
   if { $type == &#34;08 00&#34; } {
      set IpType [string range $rawFrame 69 70]
      if { $IpType == &#34;02&#34; } {
<span class="comment-line">#         result_debug &#34;rawFrame = $rawFrame&#34;</span>
         set macHdrLen 14
	 set ipHdrLen [expr ([string range $rawFrame 43 43] * 4)]
	 set MLDOffset [expr ($macHdrLen + $ipHdrLen) * 3]
	 set rtnMsg [string range $rawFrame $MLDOffset [string length $rawFrame]]
      }
   }
<span class="comment-line">#   result_debug &#34;MLDMsg: $rtnMsg&#34;</span>
   return $rtnMsg
}


<strong><a name="::::GetMLDType_437">proc <a href="mld.tcl-annot.html#::::GetMLDType">::::GetMLDType</a></a></strong> { MLDMsg } {
   if {[string length $MLDMsg] == 0} { 
      return &#34;NOT_IP_MLD&#34;;
   }
   set type [string range $MLDMsg 0 1]
<span class="comment-line">#   set ip_version [string range $MLDMsg 0 0]</span>
   switch -glob -- $type \
      &#34;11&#34; {
         return &#34;IP_MLDv2_QUERRY&#34;;
   }  &#34;12&#34; {
         return &#34;IP_MLDv1_REPORT&#34;;
   }  &#34;16&#34; {
         return &#34;IP_MLDv2_REPORT&#34;
   }  &#34;17&#34; {
         return &#34;IP_MLDv2_LEAVE&#34;
   }  &#34;22&#34; {
         return &#34;IP_MLDv3_REPORT&#34;
   }  default  {
         <a name="::result_debug(15)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Unknown Type: IP_MLD_$type&#34;
         return &#34;IP_MLD_$type&#34;
   }
}

<strong><a name="::::GetMLDQueryGroup_460">proc <a href="mld.tcl-annot.html#::::GetMLDQueryGroup">::::GetMLDQueryGroup</a></a></strong> { MLDMsg } {
   return [<a name="::GetIPAddressOffset(1)"><a href="./MessageDecoding.tcl.html#::GetIPAddressOffset_885">::GetIPAddressOffset</a></a> $MLDMsg 12];
}

<span class="comment-line">##################################################################</span>
<span class="comment-line"># Procedure Name: GetMLDMessage</span>
<span class="comment-line">#</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     This proc is used either an mld report or an mld done.</span>
<span class="comment-line">#</span>
<span class="comment-line"># Input args: args</span>
<span class="comment-line">#  IMPORTANT!!!!!!</span>
<span class="comment-line">#  Because some of the IXIA adapters only have for UDF fields</span>
<span class="comment-line">#   if is necessary to force the 3rd and 4th word to be all zeros</span>
<span class="comment-line">#</span>
<span class="comment-line"># Output args: None.</span>
<span class="comment-line"># Return value: MLD Messages in ixia raw frame format</span>
<span class="comment-line"># Typical usage:</span>
<span class="comment-line">#     set MLDMsg [GetMLDMessage $frame]</span>
<span class="comment-line">#</span>
<span class="comment-line"># Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,</span>
<span class="comment-line">#     VerifySwitchOutput,VerifyTraffic)</span>
<span class="comment-line"># Category: SendTraffic</span>
<span class="comment-line">##################################################################</span>
<strong><a name="::::SendMLDMessage_484">proc <a href="mld.tcl-annot.html#::::SendMLDMessage">::::SendMLDMessage</a></a></strong> {args} {
   <a name="::parse_args(2)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> SendMLDReport $args {
      txPortId   &#34;1&#34;
      <a name="::protocol(1)"><a href="./ePTClient.tcl.html#::protocol_728">::protocol</a></a>   &#34;ipV6&#34;
      destMac    &#34;33:33:00:00:00:11&#34;
      sourceMac  &#34;default&#34;
      sourceIp   &#34;fe80::02a1:f1ff:fe00:0001&#34;
      destIp     &#34;ff02:0000:0000:0000:0000:0000:0000:0002&#34;
      group      &#34;ff02:0000:0000:0000:0000:0000:0000:0002&#34;
      numFrames  &#34;1&#34;
      nHeader    &#34;icmpV6&#34;
      tag        &#34;none&#34;
      percentage &#34;1&#34;
      mCode      &#34;00&#34;
      mType      &#34;report&#34;
      withRA     &#34;0&#34;
      mldReponseDelay &#34;00 00&#34;
      chkSumError &#34;0&#34;
      underSized &#34;0&#34;
      ipV6HopLimit &#34;1&#34;
      streamType &#34;stopStream&#34;
   }

   global TrafficGen
   switch -exact -- $TrafficGen {
      stc -
      ixia -
      ixvm {
         
   set sIPCSum [<a name="::CookIPv6Addr(1)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$sourceIp&#34; space]
   set dIPCSum [<a name="::CookIPv6Addr(2)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$destIp&#34; space]
   set gCSum [<a name="::CookIPv6Addr(3)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$group&#34; space]

   if {$mType == &#34;report&#34;} {
      set mValue &#34;83&#34;
      set type 131
   } elseif {$mType == &#34;done&#34;} {
      set mValue &#34;84&#34;
      set type 132
   } elseif {$mType == &#34;query&#34;} {
      set mValue &#34;82&#34;
      set type 130
   } else {
      <a name="::result_error(3)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;MLD Function: ONLY report, done or query message types (mType) supported&#34;
      <a name="::close_result_file(1)"><a href="./result.tcl.html#::close_result_file_363">::close_result_file</a></a>
      <a name="::report_end_test(1)"><a href="./report.tcl.html#::report_end_test_122">::report_end_test</a></a>
      return -code return
   }

   <span class="comment-line"># Get the checksum</span>
   set csum [<a name="::GetICMPv6Checksum(1)"><a href="./Checksum.tcl.html#::GetICMPv6Checksum_93">::GetICMPv6Checksum</a></a> -sourceIp &#34;$sIPCSum&#34; \
      -destIp &#34;$dIPCSum&#34; \
      -group &#34;$gCSum&#34; \
      -type $type \
      -code $mCode \
      -mldReponseDelay &#34;$mldReponseDelay&#34;]

   if {$chkSumError} {
      unset csum
      set csum &#34;ab cd&#34;
   }

   <span class="comment-line"># NOTE: Group is required to be a full 16 byte : delimited ipv6 addr</span>

   set newGroup [<a name="::CookIPv6Addr(4)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$group&#34; space]
   <span class="comment-line"># It is necessary to pad the beginning of the datapattern because the udf overwrites it</span>
   
   if {$tag != &#34;none&#34;} {
      <span class="comment-line">#If tagged</span>
      set frameSize 86
   } else {
      set frameSize 82
   }

   if {$underSized} {
      set frameSize 64
   }
   <span class="comment-line">#################################################################</span>
   <span class="comment-line"># Need to overwrite the next header as 3A and also decrement the csum if incr ND</span>
   set udfEnable &#34;true&#34; 
   set udfContinuousCount &#34;false&#34;
   if {$withRA} {
      set udfInitval &#34;00&#34;         
   } else {
      set udfInitval &#34;3A&#34;
   }
   
   if {$tag == &#34;none&#34;} {
      set udfOffset &#34;20&#34;
   } else {
      set udfOffset &#34;24&#34;
   }
   set udfCountertype &#34;c8&#34;
   set udfUpdown &#34;uuuu&#34;
   set udfRepeat &#34;1&#34;
   set udfStep &#34;1&#34;

   if {$withRA} {
      set raValue &#34;3A 00 05 02 00 00 01 00 &#34;
      set frameSize [expr $frameSize + 8]
   } else {
      set raValue &#34;&#34;
   }
         
   set dataPattern &#34;${raValue}$mValue $mCode $csum \
                    00 00 $mldReponseDelay $newGroup&#34;

   set streamSent [<a name="::SendIpv6Frame(1)"><a href="./SendPacketIpv6.tcl.html#::SendIpv6Frame_1">::SendIpv6Frame</a></a> -txPortId $txPortId -sourceIp &#34;$sourceIp&#34; -destIp &#34;$destIp&#34; \
      -destMac &#34;$destMac&#34; -numFrames $numFrames -tag $tag -frameSize $frameSize \
      -percentage &#34;$percentage&#34; -nHeader &#34;ipV6NoNextHeader&#34; -sourceMac $sourceMac \
      -dataPattern &#34;$dataPattern&#34;  -hopLimit $ipV6HopLimit -udfEnable &#34;true&#34; \
      -udfInitval &#34;$udfInitval&#34; -udfOffset &#34;$udfOffset&#34; -streamType &#34;$streamType&#34; \
      -udfCountertype &#34;$udfCountertype&#34; -udfContinuousCount &#34;$udfContinuousCount&#34;]

   <a name="::displayMLDPacketFormat(1)"><a href="./mld.tcl.html#::displayMLDPacketFormat_1119">::displayMLDPacketFormat</a></a> -txPortId $txPortId -destMac $destMac \
      -sourceMac $sourceMac -sourceIp $sourceIp -destIp $destIp -withRA $withRA \
      -group $group -mType $mType -mCode $mCode -tag $tag -mldReponseDelay $mldReponseDelay \
      -percentage $percentage -numFrames $numFrames -frameSent $streamSent
}
   }
}

<span class="comment-line">#############################################################################</span>
<span class="comment-line">#Procedure Name: createMLDv2Record</span>
<span class="comment-line">#</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     This proc is used to construct MLDv2 records.</span>
<span class="comment-line">#</span>
<span class="comment-line"># Input args: args</span>
<span class="comment-line">#      -recordType: IS_IN,IS_EX,TO_IN,TO_EX,ALLOW and BLOCK.</span>
<span class="comment-line">#      -numSources: number of multicast sources</span>
<span class="comment-line">#      -auxDataLen: Auxilary data length if needed to add</span>
<span class="comment-line">#</span>
<span class="comment-line"># Output args: None.</span>
<span class="comment-line"># Return value: List of record fields.</span>
<span class="comment-line">#</span>
<span class="comment-line"># Typical usage:</span>
<span class="comment-line">#    lappend records [createMLDv2Record -group $groupAddr -recordType &#34;IS_IN&#34; </span>
<span class="comment-line">#                -numSources $numSources ]</span>
<span class="comment-line">#</span>
<span class="comment-line">#############################################################################</span>

<strong><a name="::::createMLDv2Record_626">proc <a href="mld.tcl-annot.html#::::createMLDv2Record">::::createMLDv2Record</a></a></strong> {args} {
   <a name="::parse_args(3)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> createMLDv2Record $args {
      group        &#34;ff02:0000:0000:0000:0000:0000:0000:0002&#34;
      recordType   &#34;IS_IN&#34;
      numSources   &#34;0&#34;
      sources      &#34;&#34;
      auxDataLen   &#34;0&#34;
   }

   if {$numSources != [llength $sources]} {
       <a name="::result_error(4)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Number of source addresses is not equal to number provided&#34;
       <a name="::close_result_file(2)"><a href="./result.tcl.html#::close_result_file_363">::close_result_file</a></a>
       <a name="::report_end_test(2)"><a href="./report.tcl.html#::report_end_test_122">::report_end_test</a></a>
       return -code return
   }
   
   set auxData &#34;&#34;
   set record &#34;$group $recordType $numSources $sources $auxDataLen&#34;
   if {$auxDataLen &gt; 0} {
       set actualLength [expr $auxDataLen * 4] 
       for {set i 0} {$i &lt; $actualLength} {incr i} {
          lappend auxData &#34;00&#34;
       }
       set auxData [join $auxData &#34; &#34;]
       lappend record $auxData
       set record [join $record &#34; &#34;]
   }
   return $record
}


<span class="comment-line">##################################################################</span>
<span class="comment-line"># Procedure Name: SendMLDv2Report</span>
<span class="comment-line">#</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     This proc is used to send a valid or invalid MLDv2 Report.</span>
<span class="comment-line">#</span>
<span class="comment-line"># Input args: args</span>
<span class="comment-line">#      -mType: &#34;report&#34; or &#34;invalidReportType&#34; -numRecords: number of records in the report</span>
<span class="comment-line">#      -records: &#34;collection of records&#34;</span>
<span class="comment-line"># NOTE::</span>
<span class="comment-line">#      First construct the MLDv2 record using createMLDv2Record and then use that record in this API.</span>
<span class="comment-line">#</span>
<span class="comment-line"># Output args: None.</span>
<span class="comment-line"># Return value: None.</span>
<span class="comment-line">#</span>
<span class="comment-line"># Typical usage:</span>
<span class="comment-line">#      lappend records [createMLDv2Record -group &#34;$groupAddr&#34;\</span>
<span class="comment-line">#                     -numSources   &#34;2&#34; -recordType   &#34;TO_EX&#34;\</span>
<span class="comment-line">#                     -sources    &#34;2012:0:0:0:0:0:0:0308 2012:0:0:0:0:0:0:0309&#34;]</span>
<span class="comment-line">#      sendmldv2report -txPortId &#34;9&#34; -destMac &#34;$destMac&#34; -sourceMac  &#34;$sourceMac&#34;\</span>
<span class="comment-line">#        -sourceIp &#34;$sourceIp&#34; -destIp &#34;ff02:0000:0000:0000:0000:0000:0000:0016&#34;\</span>
<span class="comment-line">#       -tag  &#34;1401&#34; -mType &#34;report&#34; -withRA &#34;1&#34; -numRecords  &#34;1&#34; -records &#34;$records&#34;</span>
<span class="comment-line">#</span>
<span class="comment-line"># Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,</span>
<span class="comment-line">#     VerifySwitchOutput,VerifyTraffic)</span>
<span class="comment-line"># Category: SendTraffic</span>
<span class="comment-line">##################################################################</span>

<strong><a name="::::SendMLDv2Report_685">proc <a href="mld.tcl-annot.html#::::SendMLDv2Report">::::SendMLDv2Report</a></a></strong> {args} {
   <a name="::parse_args(4)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> SendMLDv2Report $args {
      txPortId     &#34;1&#34;
      <a name="::protocol(2)"><a href="./ePTClient.tcl.html#::protocol_728">::protocol</a></a>     &#34;ipV6&#34;
      destMac      &#34;33:33:00:00:00:16&#34;
      sourceMac    &#34;default&#34;
      sourceIp     &#34;fe80::02a1:f1ff:fe00:0001&#34;
      destIp       &#34;ff02:0000:0000:0000:0000:0000:0000:0016&#34;
      group        &#34;ff02:0000:0000:0000:0000:0000:0000:0002&#34;
      numFrames    &#34;1&#34;
      nHeader      &#34;icmpV6&#34;
      tag          &#34;none&#34;
      percentage   &#34;1&#34;
      mCode        &#34;00&#34;
      mType        &#34;report&#34;
      resField     &#34;00 00&#34;
      withRA       &#34;1&#34;
      chkSumError  &#34;0&#34;
      underSized   &#34;0&#34;
      ipV6HopLimit &#34;1&#34;
      numRecords   &#34;0&#34;
      records      &#34;&#34;      
      streamType &#34;stopStream&#34;
   }

<span class="comment-line">#--- Checking whether numRecords value is equal to number of records provided</span>

   if {$numRecords != [llength $records]} {
       <a name="::result_error(5)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Number of records is not equal to number provided&#34;
       <a name="::close_result_file(3)"><a href="./result.tcl.html#::close_result_file_363">::close_result_file</a></a>
       <a name="::report_end_test(3)"><a href="./report.tcl.html#::report_end_test_122">::report_end_test</a></a>
       return -code return
   }

   set hexnumrecords [<a name="::dectohex(1)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $numRecords]
   if {[string length $hexnumrecords] == 1} {
      set hexnumrecords &#34;00 0$hexnumrecords&#34;
   } else {
      set hexnumrecords &#34;00 $hexnumrecords&#34;
   }

   set nHeaderLen 8
   set checksumoption &#34;$resField $hexnumrecords&#34;
   set initialframeSize 70

   foreach record $records {
      set group [lindex $record 0]
      set recordType [lindex $record 1]
      set numSources [lindex $record 2]
      set sources [lrange $record 3 [expr $numSources + 2]]
      set auxDataLength [lindex $record [expr $numSources + 3]]
      set auxDataLength [expr $auxDataLength * 4]
      set numAuxData [<a name="::dectohex(2)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $auxDataLength]
      if {[string length $numAuxData] == 1} {
         set numAuxData &#34;0$numAuxData&#34;
      }
      set auxData [lrange $record [expr $numSources + 4] end]

<span class="comment-line"># ---- Calculating Record length</span>

      set recLength [expr 20 + $numSources * 16]
      incr nHeaderLen $recLength
      incr initialframeSize $recLength
      if {$auxDataLength &gt; 0} {
         incr nHeaderLen $auxDataLength
         incr initialframeSize $auxDataLength
      }

<span class="comment-line"># --- Mapping values to recordTypes</span>

      switch -nocase $recordType {
        &#34;IS_IN&#34; {
            set recType &#34;01&#34;
        }
        &#34;IS_EX&#34; {
            set recType &#34;02&#34;
        }
        &#34;TO_IN&#34; {
            set recType &#34;03&#34;
        }
        &#34;TO_EX&#34; {
            set recType &#34;04&#34;
        }
        &#34;ALLOW&#34; {
            set recType &#34;05&#34;
        }
        &#34;BLOCK&#34; {
            set recType &#34;06&#34;
        }
        default {
            set recType &#34;07&#34;
        }
     }

<span class="comment-line">#--- Combining the source addresses</span>

     set sourceList &#34;&#34;
     for {set i 0} {$i &lt; $numSources} {incr i} {
       set source [lindex $sources $i]
       set Saddr [<a name="::CookIPv6Addr(5)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$source&#34; space]
       lappend sourceList $Saddr
     }
     set mcSources &#34;[join $sourceList &#34; &#34;]&#34;
     set gCSum  [<a name="::CookIPv6Addr(6)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$group&#34; space]

<span class="comment-line">#--- Calculating number of sources, limited to 255 sources</span>

     set hexnumsources [<a name="::dectohex(3)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $numSources]
     if {[string length $hexnumsources] == 1} {
        set hexnumsources &#34;00 0$hexnumsources&#34;
     }  else {
        set hexnumsources &#34;00 $hexnumsources&#34;
     }

     lappend checksumoption &#34;$recType $numAuxData $hexnumsources $gCSum $mcSources $auxData&#34;
   }

   set checksumoption [join $checksumoption &#34; &#34;]
   set nHeaderLength [<a name="::dectohex(4)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $nHeaderLen]
   set sIPCSum [<a name="::CookIPv6Addr(7)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$sourceIp&#34; space]
   set dIPCSum [<a name="::CookIPv6Addr(8)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$destIp&#34; space]

   if {$mType == &#34;report&#34;} {
      set mValue &#34;8F&#34;
      set type 143
   } elseif {$mType == &#34;invalidReportType&#34;} {
      <span class="comment-line"># ---- just to insert incorrect type number</span>
      set mValue &#34;C7&#34;
      set type 199
   } else {
      <a name="::result_error(6)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;MLD Function: ONLY report, done or query message types (mType) supported&#34;
      <a name="::close_result_file(4)"><a href="./result.tcl.html#::close_result_file_363">::close_result_file</a></a>
      <a name="::report_end_test(4)"><a href="./report.tcl.html#::report_end_test_122">::report_end_test</a></a>
      return -code return
   }

<span class="comment-line">#--- Get the checksum</span>

   set csum [<a name="::GetICMPv6Checksum(2)"><a href="./Checksum.tcl.html#::GetICMPv6Checksum_93">::GetICMPv6Checksum</a></a> -sourceIp &#34;$sIPCSum&#34; \
      -destIp &#34;$dIPCSum&#34;\
      -type $type \
      -code $mCode \
      -nHeaderLength &#34;00 00 00 $nHeaderLength&#34; \
      -options &#34;$checksumoption&#34;]

   if {$chkSumError} {
      unset csum
      set csum &#34;ab cd&#34;
   }

<span class="comment-line">#--- set frame size</span>

   if {$tag != &#34;none&#34;} {
      set frameSize $initialframeSize
   } else {
      set frameSize [expr $initialframeSize - 4 ]
   }

   if {$underSized} {
      set frameSize 64
   }

<span class="comment-line">#############################################################################################################################</span>
<span class="comment-line">#--- Need to overwrite the next header as 3A and also decrement the csum if incr ND</span>

   set udfEnable &#34;true&#34;
   set udfContinuousCount &#34;false&#34;

   if {$withRA} {
      set udfInitval &#34;00&#34;
   } else {
      set udfInitval &#34;3A&#34;
   }

   if {$tag == &#34;none&#34;} {
      set udfOffset &#34;20&#34;
   } else {
      set udfOffset &#34;24&#34;
   }

   set udfCountertype &#34;c8&#34;
   set udfUpdown &#34;uuuu&#34;
   set udfRepeat &#34;1&#34;
   set udfStep &#34;1&#34;

   if {$withRA} {
      set raValue &#34;3A 00 05 02 00 00 01 00 &#34;
      set frameSize [expr $frameSize + 8]
   } else {
      set raValue &#34;&#34;
   }

   set dataPattern &#34;$raValue $mValue $mCode $csum $checksumoption&#34;

   set streamSent [<a name="::SendIpv6Frame(2)"><a href="./SendPacketIpv6.tcl.html#::SendIpv6Frame_1">::SendIpv6Frame</a></a> -txPortId $txPortId -sourceIp &#34;$sourceIp&#34; -destIp &#34;$destIp&#34; \
      -destMac &#34;$destMac&#34; -numFrames $numFrames -tag $tag -frameSize $frameSize \
      -percentage &#34;$percentage&#34; -nHeader &#34;ipV6NoNextHeader&#34; -sourceMac $sourceMac \
      -dataPattern &#34;$dataPattern&#34; -hopLimit $ipV6HopLimit -udfEnable &#34;true&#34; \
      -udfInitval &#34;$udfInitval&#34; -udfOffset &#34;$udfOffset&#34; -streamType &#34;$streamType&#34; \
      -udfCountertype &#34;$udfCountertype&#34; -udfContinuousCount &#34;$udfContinuousCount&#34;]

   <a name="::displayMLDPacketFormat(2)"><a href="./mld.tcl.html#::displayMLDPacketFormat_1119">::displayMLDPacketFormat</a></a> -txPortId $txPortId -destMac $destMac \
      -sourceMac $sourceMac -sourceIp $sourceIp -destIp $destIp -withRA $withRA \
      -group $group -mType $mType -mCode $mCode -tag $tag -version &#34;2&#34; \
      -numRecords $numRecords -records $records\
      -percentage $percentage -numFrames $numFrames -frameSent $streamSent
}

<span class="comment-line">#####################################################################</span>
<span class="comment-line"># ---- Procedure to convert binary to Integer</span>

<strong><a name="::::bin2int_896">proc <a href="mld.tcl-annot.html#::::bin2int">::::bin2int</a></a></strong> {binString} {
        set result 0
        for {set j 0} {$j &lt; [string length $binString]} {incr j} {
            set bit [string range $binString $j $j]
            set result [expr $result &lt;&lt; 1]
            set result [expr $result | $bit]
        }
        return $result
    }


<span class="comment-line">##################################################################</span>
<span class="comment-line"># Procedure Name: SendMLDv2Query</span>
<span class="comment-line">#</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     This proc is used to send a valid or invalid MLDv2 query.</span>
<span class="comment-line">#</span>
<span class="comment-line"># Input args: args</span>
<span class="comment-line">#      -mType: &#34;query&#34; or &#34;invalidQueryType&#34; -numSources: Number of source addresses in Query</span>
<span class="comment-line">#      -sources: Multicast sources</span>
<span class="comment-line">#</span>
<span class="comment-line"># Output args: None.</span>
<span class="comment-line"># Return value: None.</span>
<span class="comment-line"># Typical usage:</span>
<span class="comment-line">#     SendMLDv2Query  -txPortId &#34;9&#34; -destMac &#34;$destMac&#34; -sourceMac &#34;$sourceMac&#34;\</span>
<span class="comment-line">#      -sourceIp &#34;$sourceIp&#34; -destIp &#34;FF02:0:0:0:0:0:0:16&#34;\</span>
<span class="comment-line">#      -group      &#34;$groupAddress&#34; -tag &#34;1401&#34; -mType &#34;query&#34; -numSources &#34;2&#34;\</span>
<span class="comment-line">#      -sources    &#34;2012:0:0:0:0:0:0:222 2012:0:0:0:0:0:0:333&#34;</span>
<span class="comment-line">#</span>
<span class="comment-line"># Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,</span>
<span class="comment-line">#     VerifySwitchOutput,VerifyTraffic)</span>
<span class="comment-line"># Category: SendTraffic</span>
<span class="comment-line">##################################################################</span>

<strong><a name="::::SendMLDv2Query_930">proc <a href="mld.tcl-annot.html#::::SendMLDv2Query">::::SendMLDv2Query</a></a></strong> {args} {
   <a name="::parse_args(5)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> SendMLDv2Query $args {
      txPortId          &#34;1&#34;
      <a name="::protocol(3)"><a href="./ePTClient.tcl.html#::protocol_728">::protocol</a></a>          &#34;ipV6&#34;
      destMac           &#34;33:33:00:00:00:01&#34;
      sourceMac         &#34;default&#34;
      sourceIp          &#34;FE80:0:0:0:0200:07FF:FE00:0&#34;
      destIp            &#34;FF02:0:0:0:0:0:0:01&#34;
      group             &#34;FF05:0:0:0:0:0:0:101&#34;
      numFrames         &#34;1&#34;
      nHeader           &#34;icmpV6&#34;
      tag               &#34;none&#34;
      percentage        &#34;1&#34;
      mCode             &#34;00&#34;
      mType             &#34;query&#34;
      withRA            &#34;0&#34;
      chkSumError       &#34;0&#34;
      underSized        &#34;0&#34;
      ipV6HopLimit      &#34;1&#34;
      mldResponseDelay  &#34;10000&#34;
      resField          &#34;00 00&#34;
      res               &#34;0&#34;
      QRV               &#34;2&#34;
      QQIC              &#34;125&#34;
      SFLAG             &#34;OFF&#34;
      numSources        &#34;0&#34;
      sources           &#34;&#34;
   }

<span class="comment-line"># ----- Checking whether numSource value is equal to number of sources provided</span>

   if {$numSources != [llength $sources]} {
       <a name="::result_error(7)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;Number of source addresses is not equal to number provided&#34;
       <a name="::close_result_file(5)"><a href="./result.tcl.html#::close_result_file_363">::close_result_file</a></a>
       <a name="::report_end_test(5)"><a href="./report.tcl.html#::report_end_test_122">::report_end_test</a></a>
       return -code return
   }

<span class="comment-line"># ---- Calculating frame size</span>

   set initialFrameSize 70
   set nHeaderLen 8
   set queryLength [expr 20 + $numSources * 16]
   incr nHeaderLen $queryLength
   incr initialFrameSize $queryLength
   set nHeaderLength [<a name="::dectohex(5)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $nHeaderLen]

<span class="comment-line"># ----- Combining the source addresses</span>

   set sourceList &#34;&#34;
   for {set i 0} {$i &lt; $numSources} {incr i} {
      set source [lindex $sources $i]
      set Saddr [<a name="::CookIPv6Addr(9)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$source&#34; space]
      lappend sourceList $Saddr
   }
   set mcSources &#34;[join $sourceList &#34; &#34;]&#34;

   set sIPCSum [<a name="::CookIPv6Addr(10)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$sourceIp&#34; space]
   set dIPCSum [<a name="::CookIPv6Addr(11)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$destIp&#34; space]
   set gCSum  [<a name="::CookIPv6Addr(12)"><a href="./SendPacketIpv6.tcl.html#::CookIPv6Addr_138">::CookIPv6Addr</a></a> &#34;$group&#34; space]

   if {![string match -nocase &#34;off&#34; $SFLAG]} {
      set sflg &#34;1000&#34;
   } else {
      set sflg &#34;0000&#34;
   }

<span class="comment-line"># ----- Calculating QRV field along with Reserved field</span>

   set binRep [binary format c $QRV]
   binary scan $binRep B* qrvbin
   set qrvbin [string trimleft $qrvbin &#34;0&#34;]
   set SQRV [expr $sflg + $qrvbin]
   set SQRV [<a name="::bin2int(1)"><a href="./mld.tcl.html#::bin2int_896">::bin2int</a></a> $SQRV]
   set SqrvValue [<a name="::dectohex(6)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $SQRV]

<span class="comment-line"># ----- Calculating other neccessary fields</span>

   set qqicValue [<a name="::dectohex(7)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $QQIC]
   set respDelay [<a name="::dectohex(8)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $mldResponseDelay]
   set spacing [string range $respDelay 0 1]
   lappend spacing [string range $respDelay 2 3]
   set responseDelay [join $spacing &#34; &#34;]

   set hexnumsources [<a name="::dectohex(9)"><a href="./ePTUtils.tcl.html#::dectohex_470">::dectohex</a></a> $numSources]
   if {[string length $hexnumsources] == 1} {
      set hexnumsources &#34;00 0$hexnumsources&#34;
   }

   if {$mType == &#34;query&#34;} {
      set mValue &#34;82&#34;
      set type 130
   } elseif {$mType == &#34;invalidQueryType&#34;} {
      set mValue &#34;99&#34;
      set type 153
   } else {
      <a name="::result_error(8)"><a href="./lconsoles.tcl.html#::result_error_6">::result_error</a></a> &#34;MLD Function: ONLY report, done or query message types (mType) supported&#34;
      <a name="::close_result_file(6)"><a href="./result.tcl.html#::close_result_file_363">::close_result_file</a></a>
      <a name="::report_end_test(6)"><a href="./report.tcl.html#::report_end_test_122">::report_end_test</a></a>
      return -code return
   }

<span class="comment-line"># ---- Get the checksum</span>
   set csum [<a name="::GetICMPv6Checksum(3)"><a href="./Checksum.tcl.html#::GetICMPv6Checksum_93">::GetICMPv6Checksum</a></a> -sourceIp &#34;$sIPCSum&#34; \
      -destIp &#34;$dIPCSum&#34; \
      -group &#34;$gCSum&#34; \
      -type &#34;mldv2query&#34; \
      -code $mCode \
      -nHeaderLength &#34;00 00 00 $nHeaderLength&#34;\
      -options &#34;$responseDelay $resField $gCSum ${res}$SqrvValue $qqicValue $hexnumsources $mcSources&#34;]

      if {$chkSumError} {
         unset csum
         set csum &#34;ab cd&#34;
      }

     if {$tag != &#34;none&#34;} {
       <span class="comment-line">#If tagged</span>
         set frameSize $initialFrameSize
      } else {
         set frameSize [expr $initialFrameSize - 4]
      }
 
      if {$underSized} {
          set frameSize 64
      }

   <span class="comment-line">#################################################################</span>
   <span class="comment-line"># Need to overwrite the next header as 3A and also decrement the csum if incr ND</span>
   set udfEnable &#34;true&#34;
   set udfContinuousCount &#34;false&#34;
   if {$withRA} {
      set udfInitval &#34;00&#34;
   } else {
      set udfInitval &#34;3A&#34;
   }

   if {$tag == &#34;none&#34;} {
      set udfOffset &#34;20&#34;
   } else {
      set udfOffset &#34;24&#34;
   }
   set udfCountertype &#34;c8&#34;
   set udfUpdown &#34;uuuu&#34;
   set udfRepeat &#34;1&#34;
   set udfStep &#34;1&#34;

   if {$withRA} {
      set raValue &#34;3A 00 05 02 00 00 01 00 &#34;
      set frameSize [expr $frameSize + 8]
   } else {
      set raValue &#34;&#34;
   }

   set dataPattern &#34;$raValue $mValue $mCode $csum $responseDelay $resField $gCSum \
                    ${res}$SqrvValue $qqicValue $hexnumsources $mcSources&#34;

   set streamSent [<a name="::SendIpv6Frame(3)"><a href="./SendPacketIpv6.tcl.html#::SendIpv6Frame_1">::SendIpv6Frame</a></a> -txPortId $txPortId -sourceIp &#34;$sourceIp&#34; -destIp &#34;$destIp&#34; \
      -destMac &#34;$destMac&#34; -numFrames $numFrames -tag $tag -frameSize $frameSize \
      -percentage &#34;$percentage&#34; -nHeader &#34;ipV6NoNextHeader&#34; -sourceMac $sourceMac \
      -dataPattern &#34;$dataPattern&#34; -hopLimit $ipV6HopLimit -udfEnable &#34;true&#34; \
      -udfInitval &#34;$udfInitval&#34; -udfOffset &#34;$udfOffset&#34; \
      -udfCountertype &#34;$udfCountertype&#34; -udfContinuousCount &#34;$udfContinuousCount&#34;]

   <a name="::displayMLDPacketFormat(3)"><a href="./mld.tcl.html#::displayMLDPacketFormat_1119">::displayMLDPacketFormat</a></a> -txPortId $txPortId -destMac $destMac \
      -sourceMac $sourceMac -sourceIp $sourceIp -destIp $destIp -withRA $withRA \
      -group $group -mType $mType -mCode $mCode -tag $tag -version &#34;2&#34; -QRV &#34;$QRV&#34; \
      -QQIC &#34;$QQIC&#34; -SFLAG &#34;$SFLAG&#34; -numSources &#34;$numSources&#34; -sources &#34;$sources&#34;\
      -percentage $percentage -numFrames $numFrames -frameSent $streamSent

   return $streamSent
}

<span class="comment-line">##################################################################    </span>
<span class="comment-line"># Procedure Name: displayMLDPacketFormat</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     	Displays the decoded version of a MLD packet sent over</span>
<span class="comment-line">#       the specified port.</span>
<span class="comment-line"># Input args: </span>
<span class="comment-line"># Output args:  None</span>
<span class="comment-line"># Return value: None</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#      displayMLDPacketFormat -txPortId $txPortId -destMac $destMac \</span>
<span class="comment-line">#        -sourceMac $sourceMac -sourceIp $sourceIp -destIp $destIp \</span>
<span class="comment-line">#        -group $group -mType $mType -mCode $mCode -tag $tag \</span>
<span class="comment-line">#        -percentage $percentage -numFrames $numFrames -frameSent $streamSent </span>
<span class="comment-line"># Category: Utility</span>
<span class="comment-line">##################################################################</span>

<strong><a name="::::displayMLDPacketFormat_1119">proc <a href="mld.tcl-annot.html#::::displayMLDPacketFormat">::::displayMLDPacketFormat</a></a></strong> {args} {
  <a name="::parse_args(6)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> displayMLDPacketFormat $args {
      txPortId   &#34;1&#34;
      destMac    &#34;33:33:00:00:00:11&#34;
      sourceMac  &#34;00:A1:f1:00:00:01&#34;
      sourceIp   &#34;fe80::02a1:f1ff:fe00:0001&#34;
      destIp     &#34;ff02:0000:0000:0000:0000:0000:0000:0002&#34;
      group      &#34;ff02:0000:0000:0000:0000:0000:0000:0002&#34;
      numFrames  &#34;1&#34;
      tag        &#34;none&#34;
      percentage &#34;1&#34;
      mCode      &#34;00&#34;
      mType      &#34;report&#34;
      frameSent  &#34;none&#34;
      mldReponseDelay &#34;00 00&#34;
      withRA     &#34;0&#34;
      SFLAG      &#34;OFF&#34;
      QRV        &#34;2&#34;
      QQIC       &#34;125&#34;
      numRecords  &#34;1&#34;
      records     &#34;&#34;
      numSources  &#34;0&#34;
      sources    &#34;&#34;
      <a name="::version(2)"><a href="./ePTClient.tcl.html#::version_470">::version</a></a>    &#34;1&#34;
   }
  set strType &#34;packet&#34;
  set numPacket $numFrames

  <a name="::result_debug(16)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numFrames MLD $mType from portId $txPortId&#34;

  <a name="::result_debug(17)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$frameSent&#34;
  <a name="::result_debug(18)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34; &#34;

  set space1 14
  set space2 39
  set space3 53

  set str [format &#34;%-*s %s&#34; $space1 MLDversion: $version]
  <a name="::result_debug(19)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  set str [format &#34;%-*s %s&#34; $space1 DestMac: $destMac]
  set str [format &#34;%-*s %s&#34; $space2 $str srcMac:]
  set str [format &#34;%-*s %s&#34; $space3 $str $sourceMac]
  <a name="::result_debug(20)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$tag != &#34;none&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 Tag: $tag]
     set str [format &#34;%-*s %s&#34; $space2 $str txPerc:]
     set str [format &#34;%-*s %s&#34; $space3 $str $percentage]
     <a name="::result_debug(21)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  } else {
     set str [format &#34;%-*s %s&#34; $space1 txPerc: $percentage]
     <a name="::result_debug(22)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  set str [format &#34;%-*s %s&#34; $space1 MLD_Type: $mType]
  set str [format &#34;%-*s %s&#34; $space2 $str MLD_Code:]
  set str [format &#34;%-*s %s&#34; $space3 $str $mCode]
  <a name="::result_debug(23)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$withRA} {
     set str [format &#34;%-*s %s&#34; $space1 RouterAlert: True]
     set str [format &#34;%-*s %s&#34; $space2 $str ResponseDelay:]
     set str [format &#34;%-*s %s&#34; $space3 $str $mldReponseDelay]
     <a name="::result_debug(24)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;     
  } else {
     set str [format &#34;%-*s %s&#34; $space1 RouterAlert: False]
     set str [format &#34;%-*s %s&#34; $space2 $str ResponseDelay:]
     set str [format &#34;%-*s %s&#34; $space3 $str $mldReponseDelay]
     <a name="::result_debug(25)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }
 
  set str [format &#34;%-*s %s&#34; $space1 DestIpV6Addr: $destIp]
  <a name="::result_debug(26)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  if {$version == 1 } {
     set str [format &#34;%-*s %s&#34; $space1 GroupIpV6Addr: $group]
     <a name="::result_debug(27)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }
  set str [format &#34;%-*s %s&#34; $space1 SrcIpV6Addr: $sourceIp]
  <a name="::result_debug(28)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$version == 2 &amp;&amp; $mType == &#34;report&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 Number_Records: $numRecords]
     <a name="::result_debug(29)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     set sernum &#34;1&#34;
     foreach record $records {
        set str [format &#34;%-*s %s&#34; $space1 Record: Record$sernum]
        set str [format &#34;%-*s %s&#34; $space2 $str RecordType:]
        set str [format &#34;%-*s %s&#34; $space3 $str [lindex $record 1]]
        <a name="::result_debug(30)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
        set str [format &#34;%-*s %s&#34; $space1 RecordType: [lindex $record 1]]
        set str [format &#34;%-*s %s&#34; $space2 $str Number_Sources:]
        set str [format &#34;%-*s %s&#34; $space3 $str [lindex $record 2]]
        <a name="::result_debug(31)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
        set str [format &#34;%-*s %s&#34; $space1 GroupIpV6Addr: [lindex $record 0]]
        <a name="::result_debug(32)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
        set str [format &#34;%-*s %s&#34; $space1 Sources: [lrange $record 3 [expr [lindex $record 2] + 2]]]
        <a name="::result_debug(33)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     }
  }

  if {$version == 2 &amp;&amp; $mType == &#34;query&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 GroupIpV6Addr: $group]
     <a name="::result_debug(34)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     set str [format &#34;%-*s %s&#34; $space1 SFLAG: $SFLAG]
     set str [format &#34;%-*s %s&#34; $space2 $str QRV:]
     set str [format &#34;%-*s %s&#34; $space3 $str $QRV]
     <a name="::result_debug(35)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     set str [format &#34;%-*s %s&#34; $space1 QQIC: $QQIC]
     <a name="::result_debug(36)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     set str [format &#34;%-*s %s&#34; $space1 Number_Sources: $numSources]
     <a name="::result_debug(37)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     set str [format &#34;%-*s %s&#34; $space1 Sources: $sources]
     <a name="::result_debug(38)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  <a name="::result_debug(39)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34; &#34;

}


</pre>
<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
