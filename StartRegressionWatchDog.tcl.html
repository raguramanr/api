<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>StartRegressionWatchDog.tcl</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#StartRegressionWatchDog.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<p><strong>StartRegressionWatchDog.tcl</strong>&nbsp;&nbsp;<span class="filetype-link">(<a href="StartRegressionWatchDog.tcl-annot.html">annotations</a> | <a href="StartRegressionWatchDog.tcl.txt">original source</a>)</span>
</p>
<pre class="src-code">

while {1} {
  set serverList [list 10.210.1.58 autoweb_db_2 10.210.1.60 autoweb_db]
  foreach {serverIpAddr serverDb} $serverList {
  <span class="comment-line">#puts &#34;BEFORE serverIpAddr $serverIpAddr serverDb $serverDb&#34;</span>

    catch {set output [exec /bin/ps a | grep RegressionWatchDog]}
    if {[info exists output]} {
      <span class="comment-line">#puts &#34;output $output&#34;</span>
      if { ![regexp -nocase &#34;RegressionWatchDog.*$serverIpAddr&#34; $output] } {
        <span class="comment-line">#puts &#34;restart RegressionWatchDog $serverIpAddr&#34;</span>
        exec tclsh /auto/automation/main/RegressionWatchDog.tcl $serverIpAddr $serverDb &amp;
        <span class="comment-line">#exec tclsh RegressionWatchDog.tcl $serverIpAddr $serverDb &amp;</span>
      } else {
        <span class="comment-line">#puts &#34;RegressionWatchDog $serverIpAddr is running&#34;</span>
      }
    }
    <span class="comment-line">#puts &#34; STARTED serverIpAddr $serverIpAddr serverDb $serverDb&#34;</span>
  }
  after 60000
}
</pre>
<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
