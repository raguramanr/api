<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>upgradecheck.tcl annotations</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#upgradecheck.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<h2><a href="upgradecheck.tcl.html">upgradecheck.tcl</a> Annotations</h2>
Created from <strong><code>/root/automation/Lib/upgradecheck.tcl</strong></code>
<hr>

<table class="proc-summary">
<tr>
<!-- -------------------- PROCEDURE SUMMARY -------------------- -->
<th><a name="proc_summary">Procedure Summary</a></th>
</tr>
<tr><td><code><a href="#::::cliCheckDownloadImage">::::cliCheckDownloadImage</a> { tftpServerList filename {active no} {partition {}} }</code><p class="summary">################################################################# 
 Procedure Name: cliCheckDownloadImage
   
 Description: proc that checks the downloaded image success from the lift of tftp servers provided in
              tftpServerList

 Input args: tftpServerList, filename, active or no, primary or secondary
 Output args: none
 Typical usage:
             set status [DownloadImage $TFTPServerIP $filename ]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################</p></td></tr>
<tr><td><code><a href="#::::cliCheckSwitch">::::cliCheckSwitch</a> { priVer secVer imaSel imaBoot cfgSel cfgBoot }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::cliCheckVersion">::::cliCheckVersion</a> { cliVersion }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::cliConfigGatewayNetwork">::::cliConfigGatewayNetwork</a> {  }</code><p class="summary">###############################################################################
 Procedure Name: cliConfigGatewayNetwork   
 Description: proc to config the gateway vlan: commvlan or mgmt and add default route
	       based on the values of global vars: DUTx_IP and defaultRouter etc.</p></td></tr>
<tr><td><code><a href="#::::cliDownloadImage">::::cliDownloadImage</a> { TFTPServerIP filename {active no} {partition {}} }</code><p class="summary">################################################################# 
 Procedure Name: cliDownloadImage
   
 Description: Internal proc that downloads the image provided in filename to the current DUT from tftp server 
              provided in TFTPServerIP.</p></td></tr>
<tr><td><code><a href="#::::cliGetVersion">::::cliGetVersion</a> { {DUTName DUT1} {option 1} }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::cliGetVersion0">::::cliGetVersion0</a> { {DUTName DUT1} {option 1} }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::cliSendAFile">::::cliSendAFile</a> { tftpServer localFile remoteFile {dut 1} }</code><p class="summary">#################################################################
 Procedure Name: cliSendAFile 
 Description: upload the file to tftp server, then download it to
	the DUT
 Input args:   
	tftpServer: the tftp server
	localFile: the file to be sent
	remoteFile: the file to be on the remote
	dut: the DUT# to send the file to 
 Output args:  none
 Typical usage:
       SendAFile
 Category: Utility
#################################################################</p></td></tr>
<tr><td><code><a href="#::::cliUnconfigGatewayNetwork">::::cliUnconfigGatewayNetwork</a> {  }</code><p class="summary">###############################################################################
 Procedure Name: cliUnconfigGatewayNetwork   
 Description: proc to unconfig the gateway vlan: commvlan or mgmt and delete default route
	       based on the values of global vars: DUTx_IP and defaultRouter etc.</p></td></tr>
<tr><td><code><a href="#::::isMgmtPortUp">::::isMgmtPortUp</a> { {dut 1} }</code><p class="summary">################################################################# 
 Procedure Name: isMgmtPortUp
   
 Description: proc that checks whether the management port is up

 Input args: dut#
 Output args: None
 Typical usage:
             set status [isMgmtPortUp 2]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################</p></td></tr>
<tr><td><code><a href="#::::MyWaitForReboot">::::MyWaitForReboot</a> { wait comment {masterCheck 1} }</code><p class="summary">################################################################# 
 Procedure Name: MyWaitForReboot
   
 Description: Internal function that performs a login to the current DUT 
    after waiting for wait time prints the expect_buffer to log file, 
    comment to report file

 Input args: wait, comment
 Output args: none
 Typical usage:
   set status [WaitForReboot $maxWait "after sending reboot command to $DUTName"]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################</p></td></tr>
<tr><td><code><a href="#::::setupDUTs_info">::::setupDUTs_info</a> { {DUTName DUT1} }</code><p class="summary">--- manipulate DUTs_info(DUT1,version), 
 --- so that upgradecheck can call Lib procs</p></td></tr>
<tr><td><code><a href="#::::Start_Session_Parser">::::Start_Session_Parser</a> { CLISessionList lngth }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::UpgradeCheck">::::UpgradeCheck</a> { fileList index nbuild obuild }</code><p class="summary"></p></td></tr>
</table>
<p>
<!-- -------------------- PROCEDURE DETAIL -------------------- -->
<table class="proc-details">
<tr>
  <th><a name="proc_detail">Procedure Detail</a></th>
</tr>
</table>
<h3  class="details-header"><a name="::::cliCheckDownloadImage">::::cliCheckDownloadImage</a></h3>
<pre class="details-procdef">proc  ::::cliCheckDownloadImage { tftpServerList filename {active no} {partition {}} }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: cliCheckDownloadImage
   
 Description: proc that checks the downloaded image success from the lift of tftp servers provided in
              tftpServerList

 Input args: tftpServerList, filename, active or no, primary or secondary
 Output args: none
 Typical usage:
             set status [DownloadImage $TFTPServerIP $filename ]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliCheckDownloadImage_711">upgradecheck.tcl, line 711</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cliCheckSwitch">::::cliCheckSwitch</a></h3>
<pre class="details-procdef">proc  ::::cliCheckSwitch { priVer secVer imaSel imaBoot cfgSel cfgBoot }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliCheckSwitch_805">upgradecheck.tcl, line 805</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cliCheckVersion">::::cliCheckVersion</a></h3>
<pre class="details-procdef">proc  ::::cliCheckVersion { cliVersion }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliCheckVersion_847">upgradecheck.tcl, line 847</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cliConfigGatewayNetwork">::::cliConfigGatewayNetwork</a></h3>
<pre class="details-procdef">proc  ::::cliConfigGatewayNetwork {  }</pre>
<dl  class="details-desc">
<dd>###############################################################################
 Procedure Name: cliConfigGatewayNetwork   
 Description: proc to config the gateway vlan: commvlan or mgmt and add default route
	       based on the values of global vars: DUTx_IP and defaultRouter etc.  The
	       purpose is to dynamically set up the gateway network for tftp service instead
	       to have static setup from config files throughout the regression.
 Input args: n/a
 Output args: n/a
 Typical usage:
             ConfigGatewayNetwork;
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliConfigGatewayNetwork_1000">upgradecheck.tcl, line 1000</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cliDownloadImage">::::cliDownloadImage</a></h3>
<pre class="details-procdef">proc  ::::cliDownloadImage { TFTPServerIP filename {active no} {partition {}} }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: cliDownloadImage
   
 Description: Internal proc that downloads the image provided in filename to the current DUT from tftp server 
              provided in TFTPServerIP.

 Input args: TFTPServerIP, filename, active or not, primary or secondary
 Output args: none
 Typical usage:
             set status [DownloadImage $TFTPServerIP $filename ]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliDownloadImage_648">upgradecheck.tcl, line 648</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cliGetVersion">::::cliGetVersion</a></h3>
<pre class="details-procdef">proc  ::::cliGetVersion { {DUTName DUT1} {option 1} }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliGetVersion_865">upgradecheck.tcl, line 865</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cliGetVersion0">::::cliGetVersion0</a></h3>
<pre class="details-procdef">proc  ::::cliGetVersion0 { {DUTName DUT1} {option 1} }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliGetVersion0_854">upgradecheck.tcl, line 854</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cliSendAFile">::::cliSendAFile</a></h3>
<pre class="details-procdef">proc  ::::cliSendAFile { tftpServer localFile remoteFile {dut 1} }</pre>
<dl  class="details-desc">
<dd>#################################################################
 Procedure Name: cliSendAFile 
 Description: upload the file to tftp server, then download it to
	the DUT
 Input args:   
	tftpServer: the tftp server
	localFile: the file to be sent
	remoteFile: the file to be on the remote
	dut: the DUT# to send the file to 
 Output args:  none
 Typical usage:
       SendAFile
 Category: Utility
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliSendAFile_947">upgradecheck.tcl, line 947</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::cliUnconfigGatewayNetwork">::::cliUnconfigGatewayNetwork</a></h3>
<pre class="details-procdef">proc  ::::cliUnconfigGatewayNetwork {  }</pre>
<dl  class="details-desc">
<dd>###############################################################################
 Procedure Name: cliUnconfigGatewayNetwork   
 Description: proc to unconfig the gateway vlan: commvlan or mgmt and delete default route
	       based on the values of global vars: DUTx_IP and defaultRouter etc.  The
	       purpose is to dynamically remove the commvlan as tftp service is finished
	       instead to have static setup from config files throughout the regression.
 Input args: n/a
 Output args: n/a
 Typical usage:
             UnconfigGatewayNetwork;
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::cliUnconfigGatewayNetwork_1054">upgradecheck.tcl, line 1054</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::isMgmtPortUp">::::isMgmtPortUp</a></h3>
<pre class="details-procdef">proc  ::::isMgmtPortUp { {dut 1} }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: isMgmtPortUp
   
 Description: proc that checks whether the management port is up

 Input args: dut#
 Output args: None
 Typical usage:
             set status [isMgmtPortUp 2]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::isMgmtPortUp_743">upgradecheck.tcl, line 743</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::MyWaitForReboot">::::MyWaitForReboot</a></h3>
<pre class="details-procdef">proc  ::::MyWaitForReboot { wait comment {masterCheck 1} }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: MyWaitForReboot
   
 Description: Internal function that performs a login to the current DUT 
    after waiting for wait time prints the expect_buffer to log file, 
    comment to report file

 Input args: wait, comment
 Output args: none
 Typical usage:
   set status [WaitForReboot $maxWait "after sending reboot command to $DUTName"]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::MyWaitForReboot_774">upgradecheck.tcl, line 774</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::setupDUTs_info">::::setupDUTs_info</a></h3>
<pre class="details-procdef">proc  ::::setupDUTs_info { {DUTName DUT1} }</pre>
<dl  class="details-desc">
<dd>--- manipulate DUTs_info(DUT1,version), 
 --- so that upgradecheck can call Lib procs
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::setupDUTs_info_913">upgradecheck.tcl, line 913</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::Start_Session_Parser">::::Start_Session_Parser</a></h3>
<pre class="details-procdef">proc  ::::Start_Session_Parser { CLISessionList lngth }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::Start_Session_Parser_594">upgradecheck.tcl, line 594</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::UpgradeCheck">::::UpgradeCheck</a></h3>
<pre class="details-procdef">proc  ::::UpgradeCheck { fileList index nbuild obuild }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="upgradecheck.tcl.html#::::UpgradeCheck_2">upgradecheck.tcl, line 2</a></dd>
</dl></dd>
</dl>

<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
