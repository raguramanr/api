<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>vpex.tcl annotations</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#vpex.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<h2><a href="vpex.tcl.html">vpex.tcl</a> Annotations</h2>
Created from <strong><code>/root/automation/Lib/vpex.tcl</strong></code>
<hr>

<table class="proc-summary">
<tr>
<!-- -------------------- PROCEDURE SUMMARY -------------------- -->
<th><a name="proc_summary">Procedure Summary</a></th>
</tr>
<tr><td><code><a href="#::::CascadeSharePort">::::CascadeSharePort</a> { dut inPort }</code><p class="summary">#######################################################################################
 Procedure: CascadeSharePort

 In cases where sharing is being disabled return a 1 if inPort is first index else 0

 We made need to just add a cascade share variable to the config file if more complex
   share scenarios than first cascade port in the cascade list are used

#######################################################################################</p></td></tr>
<tr><td><code><a href="#::::CheckForBpePorts">::::CheckForBpePorts</a> { args }</code><p class="summary">#########################################################################
 Procedure: CheckForBpePorts

 -dut = dut
 -dutPortString = actual dut port number 1:33 35:2 7 etc.</p></td></tr>
<tr><td><code><a href="#::::CheckVpexFeatureSkip">::::CheckVpexFeatureSkip</a> { args }</code><p class="summary">#########################################################################
 Procedure: CheckVpexFeatureSkip

 Intended to go in an init file for cases in which the completetests.lst
      Module Skip option is not detailed enough.

 There are EASY skip args, and more complex if you are looking to verify
      something like trunk 1 and 2 can't be bpe

      Easy args:
        skipIfVpex - true to skip
        requireVpex - true to skip

 Since support for slot 1 controller vs ext slots varies a feature may
      need to be skipped if certain ports are on ext slots when they need
      to be on the controller, or visa versa..
 
 You can use EITHER port numbers with $dut and PortsLists, OR logical
      PortIdList.  Won't let you mix.
        dut            "null"
        bpePortIdList  - must be bpe connected portIds
        bpePortsStr    - must be bpe switch ports
        ctlrPortIdList - must be slot 1 connected portIds
        ctlrPortsStr   - must be slot 1 switch ports
   Examples:

   CheckVpexFeatureSkip -dut "1 2" -skipIfVpex "true" -testNo $testNo -time1 $time1
   CheckVpexFeatureSkip -dut "1" -requireVpex "true" -testNo $testNo -time1 $time1
   CheckVpexFeatureSkip -dut "1" -bpePortsStr "[MapDUTPortId 1,2,3,4]" -ctlrPortsStr "[GetATrunkPort 1 2]" -testNo $testNo -time1 $time1
   CheckVpexFeatureSkip -bpePortIdList "1 3 4" -ctlrPortIdList "2" -testNo $testNo -time1 $time1 -> all bpe except portid2 on slot1
   CheckVpexFeatureSkip -ctlrPortIdList "1 2" -testNo $testNo -time1 $time1 -> portid 1,2 must be on slot1

#########################################################################</p></td></tr>
<tr><td><code><a href="#::::CheckVpexTestCaseSkip">::::CheckVpexTestCaseSkip</a> { args }</code><p class="summary">#########################################################################
 Procedure: CheckVpexTestCaseSkip

 Intended to go at the top of a test case that has port requirements
 related to vpex.</p></td></tr>
<tr><td><code><a href="#::::GetACascadeExtSlot">::::GetACascadeExtSlot</a> { dut {index 1} }</code><p class="summary">###########################################################################
 proc GetACascadeExtSlot




 ###########################################################################</p></td></tr>
<tr><td><code><a href="#::::GetACascadePort">::::GetACascadePort</a> { dut {index 1} }</code><p class="summary">###########################################################################
 proc GetACascadePort




 ###########################################################################</p></td></tr>
<tr><td><code><a href="#::::GetAltCascadeExtSlot">::::GetAltCascadeExtSlot</a> { dut {index 1} }</code><p class="summary">###########################################################################
 proc GetAltCascadeExtSlot




###########################################################################</p></td></tr>
<tr><td><code><a href="#::::GetAltCascadePort">::::GetAltCascadePort</a> { dut {index 1} }</code><p class="summary">###########################################################################
 proc GetAltCascadePort




###########################################################################</p></td></tr>
<tr><td><code><a href="#::::GetCascadePortMapChain">::::GetCascadePortMapChain</a> { dut port }</code><p class="summary">###########################################################################
 Procedure: GetCascadePortMapChain

 Returns a list describing the daisy chain of cascaded BPE slot for a given
 DUT and cascade port.</p></td></tr>
<tr><td><code><a href="#::::GetCascadePortNumber">::::GetCascadePortNumber</a> { args }</code><p class="summary">############################################################################
 Procedure: GetCascadePortNumber

 Get a specific cascade port that connects to the slot of a passed in
 portId or dut portNumber

 Use logical portId for ixia connected ports or dut/port for a trunk port

 Using the "native" option will return the topmost cascade port in the path (on
 the Controlling Bridge) instead only the direct upstream cascade port.</p></td></tr>
<tr><td><code><a href="#::::GetConfiguredBpeSlots">::::GetConfiguredBpeSlots</a> {  }</code><p class="summary">############################################################################
 proc GetConfigureBpeSlots






 set vpexSlotNums [GetConfiguredBpeSlots]


############################################################################</p></td></tr>
<tr><td><code><a href="#::::GetUniqueCfgCascadeSlots">::::GetUniqueCfgCascadeSlots</a> {  }</code><p class="summary">###########################################################################
 proc GetUniqueCfgCascadeSlots 




 ###########################################################################</p></td></tr>
<tr><td><code><a href="#::::VerifyActiveVpexCfg">::::VerifyActiveVpexCfg</a> { args }</code><p class="summary">############################################################################


    Verification assumes cfg follows rules.. 
       - First index is the root of the share group 


############################################################################</p></td></tr>
<tr><td><code><a href="#::::VerifyBpeOperational">::::VerifyBpeOperational</a> {  }</code><p class="summary">#########################################################################
 Procedure: VerifyBpeOperational

 Possible temp procedure to make sure bpes are operational and ports are
    but.</p></td></tr>
<tr><td><code><a href="#::::VerifyBpeSlotsOperational">::::VerifyBpeSlotsOperational</a> { args }</code><p class="summary">###########################################################################
 proc VerifyBpeSlotsOperational




 ###########################################################################</p></td></tr>
</table>
<p>
<!-- -------------------- PROCEDURE DETAIL -------------------- -->
<table class="proc-details">
<tr>
  <th><a name="proc_detail">Procedure Detail</a></th>
</tr>
</table>
<h3  class="details-header"><a name="::::CascadeSharePort">::::CascadeSharePort</a></h3>
<pre class="details-procdef">proc  ::::CascadeSharePort { dut inPort }</pre>
<dl  class="details-desc">
<dd>#######################################################################################
 Procedure: CascadeSharePort

 In cases where sharing is being disabled return a 1 if inPort is first index else 0

 We made need to just add a cascade share variable to the config file if more complex
   share scenarios than first cascade port in the cascade list are used

#######################################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::CascadeSharePort_767">vpex.tcl, line 767</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckForBpePorts">::::CheckForBpePorts</a></h3>
<pre class="details-procdef">proc  ::::CheckForBpePorts { args }</pre>
<dl  class="details-desc">
<dd>#########################################################################
 Procedure: CheckForBpePorts

 -dut = dut
 -dutPortString = actual dut port number 1:33 35:2 7 etc.
 -portIdList = logical port id
 -match = any | all | none

 Examples:
 CheckForBpePorts -dut 1 -dutPortString  "[MapDUTPortId 1,2,3,4],[GetATrunkPort 1 2]"
 returns -> 1

 CheckForBpePorts -dut 1 -match "all"
    -dutPortString  "[MapDUTPortId 1,2,3,4],[GetATrunkPort 1 2]"
 returns -> 0  if one of the ports is not a bpe

 CheckForBpePorts -portIdList "1 3"   returns -> 1  if any are bpe
 CheckForBpePorts -portIdList "1 3" -match "all" returns -> 1 if all are bpe

#########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::CheckForBpePorts_405">vpex.tcl, line 405</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckVpexFeatureSkip">::::CheckVpexFeatureSkip</a></h3>
<pre class="details-procdef">proc  ::::CheckVpexFeatureSkip { args }</pre>
<dl  class="details-desc">
<dd>#########################################################################
 Procedure: CheckVpexFeatureSkip

 Intended to go in an init file for cases in which the completetests.lst
      Module Skip option is not detailed enough.

 There are EASY skip args, and more complex if you are looking to verify
      something like trunk 1 and 2 can't be bpe

      Easy args:
        skipIfVpex - true to skip
        requireVpex - true to skip

 Since support for slot 1 controller vs ext slots varies a feature may
      need to be skipped if certain ports are on ext slots when they need
      to be on the controller, or visa versa..
 
 You can use EITHER port numbers with $dut and PortsLists, OR logical
      PortIdList.  Won't let you mix.
        dut            "null"
        bpePortIdList  - must be bpe connected portIds
        bpePortsStr    - must be bpe switch ports
        ctlrPortIdList - must be slot 1 connected portIds
        ctlrPortsStr   - must be slot 1 switch ports
   Examples:

   CheckVpexFeatureSkip -dut "1 2" -skipIfVpex "true" -testNo $testNo -time1 $time1
   CheckVpexFeatureSkip -dut "1" -requireVpex "true" -testNo $testNo -time1 $time1
   CheckVpexFeatureSkip -dut "1" -bpePortsStr "[MapDUTPortId 1,2,3,4]" -ctlrPortsStr "[GetATrunkPort 1 2]" -testNo $testNo -time1 $time1
   CheckVpexFeatureSkip -bpePortIdList "1 3 4" -ctlrPortIdList "2" -testNo $testNo -time1 $time1 -> all bpe except portid2 on slot1
   CheckVpexFeatureSkip -ctlrPortIdList "1 2" -testNo $testNo -time1 $time1 -> portid 1,2 must be on slot1

#########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::CheckVpexFeatureSkip_485">vpex.tcl, line 485</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckVpexTestCaseSkip">::::CheckVpexTestCaseSkip</a></h3>
<pre class="details-procdef">proc  ::::CheckVpexTestCaseSkip { args }</pre>
<dl  class="details-desc">
<dd>#########################################################################
 Procedure: CheckVpexTestCaseSkip

 Intended to go at the top of a test case that has port requirements
 related to vpex.

 There are EASY skip args, and more complex if you are looking to verify
      something like trunk 1 and 2 can't be bpe

      Easy args:
        skipIfVpex - true to skip
        requireVpex - true to skip

 Since support for slot 1 controller vs ext slots varies a test case may
      need to be skipped if certain ports are on ext slots when they need
      to be on the controller, or visa versa..

 You can use EITHER port numbers with $dut and PortsLists, OR logical
      PortIdList.  Won't let you mix.
        dut            "null"
        bpePortIdList  - must be bpe connected portIds
        bpePortsStr    - must be bpe switch ports
        ctlrPortIdList - must be slot 1 connected portIds
        ctlrPortsStr   - must be slot 1 switch ports

   Examples:

   CheckVpexTestCaseSkip -dut "1 2" -skipIfVpex "true" -testNo $testNo -time1 $time1
   CheckVpexTestCaseSkip -dut "1" -requireVpex "true" -testNo $testNo -time1 $time1
   CheckVpexTestCaseSkip -dut "1" -bpePortsStr "[MapDUTPortId 1,2,3,4]" -ctlrPortsStr "[GetATrunkPort 1 2]" -testNo $testNo -time1 $time1
   CheckVpexTestCaseSkip -ctlrPortIdList "1 2"  -testNo $testNo -time1 $time1 -> skip if portid 1,2 are not on slot1
   CheckVpexTestCaseSkip -bpePortIdList "1 2 3 4" -testNo $testNo -time1 $time1

#########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::CheckVpexTestCaseSkip_625">vpex.tcl, line 625</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetACascadeExtSlot">::::GetACascadeExtSlot</a></h3>
<pre class="details-procdef">proc  ::::GetACascadeExtSlot { dut {index 1} }</pre>
<dl  class="details-desc">
<dd>###########################################################################
 proc GetACascadeExtSlot




 ###########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::GetACascadeExtSlot_173">vpex.tcl, line 173</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetACascadePort">::::GetACascadePort</a></h3>
<pre class="details-procdef">proc  ::::GetACascadePort { dut {index 1} }</pre>
<dl  class="details-desc">
<dd>###########################################################################
 proc GetACascadePort




 ###########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::GetACascadePort_153">vpex.tcl, line 153</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetAltCascadeExtSlot">::::GetAltCascadeExtSlot</a></h3>
<pre class="details-procdef">proc  ::::GetAltCascadeExtSlot { dut {index 1} }</pre>
<dl  class="details-desc">
<dd>###########################################################################
 proc GetAltCascadeExtSlot




###########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::GetAltCascadeExtSlot_211">vpex.tcl, line 211</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetAltCascadePort">::::GetAltCascadePort</a></h3>
<pre class="details-procdef">proc  ::::GetAltCascadePort { dut {index 1} }</pre>
<dl  class="details-desc">
<dd>###########################################################################
 proc GetAltCascadePort




###########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::GetAltCascadePort_192">vpex.tcl, line 192</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetCascadePortMapChain">::::GetCascadePortMapChain</a></h3>
<pre class="details-procdef">proc  ::::GetCascadePortMapChain { dut port }</pre>
<dl  class="details-desc">
<dd>###########################################################################
 Procedure: GetCascadePortMapChain

 Returns a list describing the daisy chain of cascaded BPE slot for a given
 DUT and cascade port.  List is sorted with root parent node at index 0.

 Returned list is in cascadePortList form:  {1 1:47 147} {1 147:51 151}

 ###########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::GetCascadePortMapChain_794">vpex.tcl, line 794</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetCascadePortNumber">::::GetCascadePortNumber</a></h3>
<pre class="details-procdef">proc  ::::GetCascadePortNumber { args }</pre>
<dl  class="details-desc">
<dd>############################################################################
 Procedure: GetCascadePortNumber

 Get a specific cascade port that connects to the slot of a passed in
 portId or dut portNumber

 Use logical portId for ixia connected ports or dut/port for a trunk port

 Using the "native" option will return the topmost cascade port in the path (on
 the Controlling Bridge) instead only the direct upstream cascade port.  This 
 is useful for things like checking ACL resources in a casacaded BPE topology.

 Defined in the cfg file cascadePortList { "1 1:72 33" "1 1:23 34"};



 Examples:
 dev> GetCascadePortNumber -portId 2
 Get cascade port for DUT 1 port 45:2
 1:45
 dev> GetCascadePortNumber -portId 3
 Get cascade port for DUT 1 port 45:3
 1:45
 dev> GetCascadePortNumber -portId 4
 Get cascade port for DUT 1 port 45:4
 1:45
 dev> GetCascadePortNumber -portId 11
 Not a VPEX/BPE port
 dev> GetCascadePortNumber -dut 1 -port 1:3
 Not a VPEX/BPE port
 dev> GetCascadePortNumber -dut 1 -port 45:7
 1:45

 Usage:  Disable/Enable the slot connect to portId 2

         set cascadePort [GetCascadePortNumber -portId 2]
         SendACmd "disable port [GetCascadePortNumber -portId 2]"
         SendACmd "enable port [GetCascadePortNumber -portId 2]"
         VerifyBpeOperational

############################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::GetCascadePortNumber_264">vpex.tcl, line 264</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetConfiguredBpeSlots">::::GetConfiguredBpeSlots</a></h3>
<pre class="details-procdef">proc  ::::GetConfiguredBpeSlots {  }</pre>
<dl  class="details-desc">
<dd>############################################################################
 proc GetConfigureBpeSlots






 set vpexSlotNums [GetConfiguredBpeSlots]


############################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::GetConfiguredBpeSlots_13">vpex.tcl, line 13</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetUniqueCfgCascadeSlots">::::GetUniqueCfgCascadeSlots</a></h3>
<pre class="details-procdef">proc  ::::GetUniqueCfgCascadeSlots {  }</pre>
<dl  class="details-desc">
<dd>###########################################################################
 proc GetUniqueCfgCascadeSlots 




 ###########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::GetUniqueCfgCascadeSlots_353">vpex.tcl, line 353</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::VerifyActiveVpexCfg">::::VerifyActiveVpexCfg</a></h3>
<pre class="details-procdef">proc  ::::VerifyActiveVpexCfg { args }</pre>
<dl  class="details-desc">
<dd>############################################################################


    Verification assumes cfg follows rules.. 
       - First index is the root of the share group 


############################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::VerifyActiveVpexCfg_49">vpex.tcl, line 49</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::VerifyBpeOperational">::::VerifyBpeOperational</a></h3>
<pre class="details-procdef">proc  ::::VerifyBpeOperational {  }</pre>
<dl  class="details-desc">
<dd>#########################################################################
 Procedure: VerifyBpeOperational

 Possible temp procedure to make sure bpes are operational and ports are
    but.  Bug is keeping ports from coming up periodically.


#########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::VerifyBpeOperational_443">vpex.tcl, line 443</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::VerifyBpeSlotsOperational">::::VerifyBpeSlotsOperational</a></h3>
<pre class="details-procdef">proc  ::::VerifyBpeSlotsOperational { args }</pre>
<dl  class="details-desc">
<dd>###########################################################################
 proc VerifyBpeSlotsOperational




 ###########################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="vpex.tcl.html#::::VerifyBpeSlotsOperational_117">vpex.tcl, line 117</a></dd>
</dl></dd>
</dl>

<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
