<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>IpxUtil.tcl annotations</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#IpxUtil.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<h2><a href="IpxUtil.tcl.html">IpxUtil.tcl</a> Annotations</h2>
Created from <strong><code>/root/automation/Lib/IpxUtil.tcl</strong></code>
<hr>

<table class="proc-summary">
<tr>
<!-- -------------------- PROCEDURE SUMMARY -------------------- -->
<th><a name="proc_summary">Procedure Summary</a></th>
</tr>
<tr><td><code><a href="#::::CheckServerTypeInGnsResponse">::::CheckServerTypeInGnsResponse</a> { rawFrame serverType serverName }</code><p class="summary">################################################################# 
 Procedure Name: CheckServerTypeInGnsResponse
   
 Description: This proc verifies the server type in rawPacket's GNS response.</p></td></tr>
<tr><td><code><a href="#::::ConfigIPXServiceNetwork">::::ConfigIPXServiceNetwork</a> {  }</code><p class="summary">###############################################################################
 Procedure Name: ConfigIPXServiceNetwork   
 Description: proc to configuration the IPX gateway vlan enet_server to IPX service.</p></td></tr>
<tr><td><code><a href="#::::ConvertHexToAscii">::::ConvertHexToAscii</a> { server }</code><p class="summary">################################################################# 
 Procedure Name: ConvertHexToAscii
   
 Description: A internal proc that returns the hex packet format to ascii value for 
              a given novell server type

 
 Input args: server

 Output args: none
 Return Values:
      returns the ascii value of server
 Typical usage:
           ConvertHexToAscii "$server"

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifyTraffic
#################################################################</p></td></tr>
<tr><td><code><a href="#::::GetIPXNetworkNumber">::::GetIPXNetworkNumber</a> {  }</code><p class="summary">###############################################################################
 Procedure Name: GetIPXNetworkNumber  
 Description: Use the ixia network number to create the IPX network number

 Input args: n/a
 Output args: IPX network number
 Typical usage:
             GetIPXNetworkNumber
 Category: Utility
################################################################################</p></td></tr>
<tr><td><code><a href="#::::GetIpxOption">::::GetIpxOption</a> { rawFrame optionName }</code><p class="summary">################################################################# 
 Procedure Name: GetIpxOption
   
 Description: This proc is used to get IPXRIP packet options.</p></td></tr>
<tr><td><code><a href="#::::GetPortIdsOnSameBlade">::::GetPortIdsOnSameBlade</a> { numPortsPerVlan numVlans portIdsList args }</code><p class="summary">################################################################# 
 Procedure Name: GetPortIdsOnSameBlade
   
 Description: This proc checks the ports from portMappingList, finds ports on the same
              blade for required number of vlans.</p></td></tr>
<tr><td><code><a href="#::::ixia_SendIpxPackets">::::ixia_SendIpxPackets</a> { args }</code><p class="summary">################################################################# 
 Procedure Name: ixia_SendIpxPackets
   
 Description: This internal proc is used to send ipx packets from test equipment

     IMP: Starts ports' capture (startPortsCapture) on rxPortId by default.</p></td></tr>
<tr><td><code><a href="#::::UnconfigIPXServiceNetwork">::::UnconfigIPXServiceNetwork</a> {  }</code><p class="summary">###############################################################################
 Procedure Name: UnconfigIPXServiceNetwork   
 Description: proc to delete the IPX gateway vlan enet_server to IPX service.</p></td></tr>
<tr><td><code><a href="#::::VerifyIpxRouteInfo">::::VerifyIpxRouteInfo</a> { portInfoList {update_time 70} }</code><p class="summary">################################################################# 
 Procedure Name: VerifyIpxRouteInfo
   
 Description:
     This proc is used to compare IPX route info on a given list of 
     ixia ports and a DUT.</p></td></tr>
<tr><td><code><a href="#::::VerifyProtoUpdateInterval">::::VerifyProtoUpdateInterval</a> { intervalInSec portList packetType {tolerance 20} }</code><p class="summary">################################################################# 
 Procedure Name: VerifyProtoUpdateInterval
   
 Description:
     This proc is used to verify a given IPXRIP/IPXSAP/others update time on a port
     Calls capture function to capture packets on tester and verifies
     their time stamping spaced by intervalInSec secs.</p></td></tr>
</table>
<p>
<!-- -------------------- PROCEDURE DETAIL -------------------- -->
<table class="proc-details">
<tr>
  <th><a name="proc_detail">Procedure Detail</a></th>
</tr>
</table>
<h3  class="details-header"><a name="::::CheckServerTypeInGnsResponse">::::CheckServerTypeInGnsResponse</a></h3>
<pre class="details-procdef">proc  ::::CheckServerTypeInGnsResponse { rawFrame serverType serverName }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: CheckServerTypeInGnsResponse
   
 Description: This proc verifies the server type in rawPacket's GNS response.
              the desired serverType and serverName are supplied in in args along with rawFrame

 
 Input args: rawFrame, serverType, serverName

 Output args: none
 Return Values:
      1 on success or 0 on failure
 Typical usage:
         CheckServerTypeInGnsResponse $rawFrame "00 04" $serverName

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifyTraffic
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::CheckServerTypeInGnsResponse_951">IpxUtil.tcl, line 951</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::ConfigIPXServiceNetwork">::::ConfigIPXServiceNetwork</a></h3>
<pre class="details-procdef">proc  ::::ConfigIPXServiceNetwork {  }</pre>
<dl  class="details-desc">
<dd>###############################################################################
 Procedure Name: ConfigIPXServiceNetwork   
 Description: proc to configuration the IPX gateway vlan enet_server to IPX service.

 Input args: n/a
 Output args: n/a
 Typical usage:
             ConfigIPXServiceNetwork;
 Category: setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::ConfigIPXServiceNetwork_1058">IpxUtil.tcl, line 1058</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::ConvertHexToAscii">::::ConvertHexToAscii</a></h3>
<pre class="details-procdef">proc  ::::ConvertHexToAscii { server }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: ConvertHexToAscii
   
 Description: A internal proc that returns the hex packet format to ascii value for 
              a given novell server type

 
 Input args: server

 Output args: none
 Return Values:
      returns the ascii value of server
 Typical usage:
           ConvertHexToAscii "$server"

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifyTraffic
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::ConvertHexToAscii_916">IpxUtil.tcl, line 916</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetIPXNetworkNumber">::::GetIPXNetworkNumber</a></h3>
<pre class="details-procdef">proc  ::::GetIPXNetworkNumber {  }</pre>
<dl  class="details-desc">
<dd>###############################################################################
 Procedure Name: GetIPXNetworkNumber  
 Description: Use the ixia network number to create the IPX network number

 Input args: n/a
 Output args: IPX network number
 Typical usage:
             GetIPXNetworkNumber
 Category: Utility
################################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::GetIPXNetworkNumber_1125">IpxUtil.tcl, line 1125</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetIpxOption">::::GetIpxOption</a></h3>
<pre class="details-procdef">proc  ::::GetIpxOption { rawFrame optionName }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: GetIpxOption
   
 Description: This proc is used to get IPXRIP packet options. A number of options are returned
              based on optionName value


 Input args: rawFrame, optionName
 Output args: none
 Return value: list of optionName values or 1 as default
 Typical usage:
             set routes [GetIpxOption $frame "RouteInfo"]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifyTraffic
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::GetIpxOption_20">IpxUtil.tcl, line 20</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetPortIdsOnSameBlade">::::GetPortIdsOnSameBlade</a></h3>
<pre class="details-procdef">proc  ::::GetPortIdsOnSameBlade { numPortsPerVlan numVlans portIdsList args }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: GetPortIdsOnSameBlade
   
 Description: This proc checks the ports from portMappingList, finds ports on the same
              blade for required number of vlans. For non-slot platforms like summit
              it returns an error.
              This proc currently only works for any DUT
 
 Input args: numPortsPerVlan: number of ports per vlan
             numVlans: total number of vlans for which ports are desired
             [dut] dut number to scan for, default is 1

 Output args: portsList: List of ports to be returned to caller
 Return Values:
      1 on success, -1 on failure.
 Typical usage:
      set resultOfSameBladePorts [GetPortIdsOnSameBlade $numPortsPerVlan $numVlans portIdsList]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: GetSwitchInfo
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::GetPortIdsOnSameBlade_991">IpxUtil.tcl, line 991</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::ixia_SendIpxPackets">::::ixia_SendIpxPackets</a></h3>
<pre class="details-procdef">proc  ::::ixia_SendIpxPackets { args }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: ixia_SendIpxPackets
   
 Description: This internal proc is used to send ipx packets from test equipment

     IMP: Starts ports' capture (startPortsCapture) on rxPortId by default.

 Input args: args
 Output args: none
 Return value: Stream sent
 Typical usage:
  set frameSent [ixia_SendIpxPackets -direction $direction -txPortId $txPortId -rxPortId $rxPortId \
              -etherType $etherType -sNetwork $sNetwork -sSocket $sSocket \
              -dNetwork $dNetwork -dSocket $dSocket -dNode $dNode -rxProto $rxProto \
              -packetType $packetType -numFrames $numFrames -frameSize $frameSize \
              -frameRate $frameRate -dataPattern $dataPattern -streamType $streamType \
              -fcsError $fcsError -wTag $wTag -tagNo $tag -tagCfi $tagCfi \
              -sourceNodeCounterMode $sourceNodeCounterMode]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: SendTraffic
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::ixia_SendIpxPackets_288">IpxUtil.tcl, line 288</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::UnconfigIPXServiceNetwork">::::UnconfigIPXServiceNetwork</a></h3>
<pre class="details-procdef">proc  ::::UnconfigIPXServiceNetwork {  }</pre>
<dl  class="details-desc">
<dd>###############################################################################
 Procedure Name: UnconfigIPXServiceNetwork   
 Description: proc to delete the IPX gateway vlan enet_server to IPX service.

 Input args: n/a
 Output args: n/a
 Typical usage:
             UnconfigGatewayNetwork;
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::UnconfigIPXServiceNetwork_1106">IpxUtil.tcl, line 1106</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::VerifyIpxRouteInfo">::::VerifyIpxRouteInfo</a></h3>
<pre class="details-procdef">proc  ::::VerifyIpxRouteInfo { portInfoList {update_time 70} }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: VerifyIpxRouteInfo
   
 Description:
     This proc is used to compare IPX route info on a given list of 
     ixia ports and a DUT. Important reference commands include "sh ipxro"
     on DUT (associated proc GetColumnValues).
     Sleeps for 70 secs for IPXRIP update capture. Calculate DUT number 
     associated with a given port automagically.


 Input args:
     portInfoList: It is a list of Ixia port number, vlan's xnetid and
                   IPXRIP type on that port
    update_time: Default param to pass update interval

 Output args:
 Return Values:
     returns true(1) on success (All routes matched)
     returns false (0) on failure (Any of the route remained unmatched)
 Typical usage:
    if {VerifyIpxRouteInfo {{1 809a ENETII_IPXRIP_REPLY} \
                            {4 235e ENETSNAP_IPXRIP_REPLY}}} {
       puts "success"
    } else {
       puts "failure"
    }
 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifyTraffic
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::VerifyIpxRouteInfo_645">IpxUtil.tcl, line 645</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::VerifyProtoUpdateInterval">::::VerifyProtoUpdateInterval</a></h3>
<pre class="details-procdef">proc  ::::VerifyProtoUpdateInterval { intervalInSec portList packetType {tolerance 20} }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: VerifyProtoUpdateInterval
   
 Description:
     This proc is used to verify a given IPXRIP/IPXSAP/others update time on a port
     Calls capture function to capture packets on tester and verifies
     their time stamping spaced by intervalInSec secs.
     It uses a tolerance of +/- .01 percent in intervalInSec (by default)
 
 Input args:
     intervalInSec: Update Interval in seconds
     port: Test equipment port number to verify on. can be a list
     packetType: Ethernet encapsulation packet type expected...
               (Valid values can be ENETII/ENET8022/ENET8023/ENETSNAP_IPXRIP_REPLY
                Valid values can be ENETII/ENET8022/ENET8023/ENETSNAP_IPXSAP_REPLY)
               (pimV2Hello...)

 Output args:
 Return Values:
     returns true(1) on success (Update interval matched)
     returns false (0) on failure (Any of 3 captured not spaced by intervalInSec)
 Typical usage:

 if {VerifyIpxUpdateInterval "60 9 ENETSNAP_IPXRIP_REQUEST"} {
   result_ok "Default IPXRIP update time verified correct, PASS"
 } else {
   result_error "Default IPXRIP update time not correct, FAIL"
 }
 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifyTraffic
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="IpxUtil.tcl.html#::::VerifyProtoUpdateInterval_836">IpxUtil.tcl, line 836</a></dd>
</dl></dd>
</dl>

<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
