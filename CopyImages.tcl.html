<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>CopyImages.tcl</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#CopyImages.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<p><strong>CopyImages.tcl</strong>&nbsp;&nbsp;<span class="filetype-link">(<a href="CopyImages.tcl-annot.html">annotations</a> | <a href="CopyImages.tcl.txt">original source</a>)</span>
</p>
<pre class="src-code">

<span class="comment-line">#!/usr/bin/tclsh</span>

if { $argc != 1 } {

puts &#34;Only one argument need to be inputed&#34;

puts &#34;Usage: tclsh CopyImage.tcl 22.3.4.2&#34;
exit
}

set value [lindex $argv 0]
set build [lindex $argv 0]
puts &#34;The build is $build&#34;

regexp {([0-9]+)\.([0-9]+)} $value major
puts &#34;The major build is $major&#34;

if {$major &gt; 16.2} {
   exec sh -c &#34;cp /data3/release-manager/$build/cougar/cougar/release/* /tftpmount/&#34;
   if { $major != 21.1 } {
      exec sh -c &#34;cp /data3/release-manager/$build/onie_x86/onie_x86/release/* /tftpmount/&#34;
   }
} else {

   foreach x { cougar summitlite aspen_msm summit_sibyte everest_mm } {
       if {[catch &#34;exec sh  -c \&#34; cp /data3/release-manager/$build/$x/$x/release/* /tftpmount/ \&#34; &#34; res]} {
       puts &#34;*** WARNING: Directory not found: ***&#34;;
       puts &#34;$res&#34;;
       return 0 ;
       }

    }
}

}

</pre>
<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
