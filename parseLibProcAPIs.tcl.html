<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>parseLibProcAPIs.tcl</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#parseLibProcAPIs.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<p><strong>parseLibProcAPIs.tcl</strong>&nbsp;&nbsp;<span class="filetype-link">(<a href="parseLibProcAPIs.tcl-annot.html">annotations</a> | <a href="parseLibProcAPIs.tcl.txt">original source</a>)</span>
</p>
<pre class="src-code">


set outFileName &#34;c:/AutoProcApi.txt&#34;
set libDirectory &#34;c:/automation/Lib&#34;

<span class="comment-line">#Should not need to touch anything below HERE</span>


<span class="comment-line">#Open output file</span>
set outfile [open $outFileName &#34;w&#34;]

<span class="comment-line">#Search through each tcl file in the Lib directory</span>
foreach file [glob $libDirectory/*.tcl] {

	<span class="comment-line">#ignore the &#34;parse_args.tcl&#34; file</span>
	if { ! [regexp {parse_args.tcl} $file]} {
		set infile [open $file &#34;r&#34;]
	}

	set arging &#34;0&#34;
	set descriptioning &#34;0&#34;
	puts $outfile &#34;\n\n&#34;
	puts $outfile &#34;================ $file ====================&#34;

	while { ! [eof $infile] } {
		set str [gets $infile]

		<span class="comment-line">#Search for end of Description comments if started</span>
		if {$descriptioning == &#34;1&#34; } {
			if { [regexp {^######} $str] } {
				set descriptioning &#34;0&#34;

				puts $outfile $str
				<span class="comment-line">#puts $outfile &#34;Description DONE!&#34;</span>
				<span class="comment-line">#puts $outfile &#34;\n&#34;</span>
			} else {
				puts $outfile $str
			}
		}

		<span class="comment-line">#Search for end of arguments to proecdure if started</span>
		if {$arging == &#34;1&#34;  } {
			if { [regexp {^ *\}$} $str] } {
				set arging &#34;0&#34;
				puts $outfile $str
				<span class="comment-line">#puts $outfile &#34;Args DONE!&#34;</span>
				puts $outfile &#34;\n&#34;
			} else {
				puts $outfile $str
			}
		}

		<span class="comment-line">#Search through the file for these patterns that</span>
		<span class="comment-line">#start with the &#34;relevant&#34; API information such as</span>
		<span class="comment-line">#the Description comment, the procedure, and its args</span>
		switch -regexp -- $str {
		{^proc} {
			<span class="comment-line">#puts $outfile &#34;\n&#34;</span>
			<span class="comment-line">#puts $outfile &#34;proc START!&#34;</span>
			puts $outfile $str  
			puts $outfile &#34;---------------&#34;
			}
		{Description} {
			puts $outfile &#34;\n&#34;
			<span class="comment-line">#puts $outfile &#34;Desc START!&#34;</span>
			puts $outfile $str 
			set descriptioning &#34;1&#34; 
			}
		{<a name="::parse_args(1)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a>} {
			<span class="comment-line">#puts $outfile &#34;\n&#34;</span>
			<span class="comment-line">#puts $outfile &#34;Args START!&#34;</span>
			puts $outfile $str 
			set arging &#34;1&#34; 
			}
		}
	}
}
</pre>
<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
