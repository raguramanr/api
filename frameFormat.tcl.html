<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>frameFormat.tcl</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#frameFormat.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<p><strong>frameFormat.tcl</strong>&nbsp;&nbsp;<span class="filetype-link">(<a href="frameFormat.tcl-annot.html">annotations</a> | <a href="frameFormat.tcl.txt">original source</a>)</span>
</p>
<pre class="src-code">


<span class="comment-line">##################################################################    </span>
<span class="comment-line"># Procedure Name: displayIpPacketFormat</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     	Displays the decoded version of a ip packet sent over</span>
<span class="comment-line">#       the specified port.</span>
<span class="comment-line"># Input args: </span>
<span class="comment-line"># Output args:  None</span>
<span class="comment-line"># Return value: None</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#        displayIpPacketFormat -txPortId $txPortId -frameSent $streamSent \</span>
<span class="comment-line">#                    -streamType $streamType -destMac $dMacAddr \</span>
<span class="comment-line">#                    -srcMac $sMacAddr -srcIp $sIpAddr -destIp $dIpAddr \</span>
<span class="comment-line">#                    -numFrames $numFrames -protocol $ipProtocol \</span>
<span class="comment-line">#                    -tcpSynFlag $tcpSynFlag -tcpFinFlag $tcpFinFlag \</span>
<span class="comment-line">#                    -tcpRstFlag $tcpRstFlag -tcpAckFlag $tcpAckFlag \</span>
<span class="comment-line">#                    -tcpPushFlag $tcpPushFlag -tcpUrgFlag $tcpUrgFlag \</span>
<span class="comment-line">#                    -tcpSeqNum $tcpSeqNum -tcpPushFlag $tcpPushFlag \</span>
<span class="comment-line">#                    -sourcePort $pSrcPort -destPort $pDstPort -tag $tagNo \</span>
<span class="comment-line">#                    -userPriority $userPriority</span>
<span class="comment-line"># Category: Utility</span>
<span class="comment-line">##################################################################</span>
<strong><a name="::::displayIpPacketFormat_24">proc <a href="frameFormat.tcl-annot.html#::::displayIpPacketFormat">::::displayIpPacketFormat</a></a></strong> {args} {
  <a name="::parse_args(1)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> displayIpPacketFormat $args {
     txPortId   &#34;&#34;
     rxPortId   &#34;&#34;
     direction  &#34;1Way&#34;
     frameSent  &#34;&#34;
     streamType &#34;&#34;
     numFrames &#34;1&#34;
     destMac    &#34;&#34;
     srcMac     &#34;&#34;
     destIp     &#34;&#34;
     srcIp      &#34;&#34;
     <a name="::protocol(1)"><a href="./ePTClient.tcl.html#::protocol_728">::protocol</a></a>  &#34;ip&#34;
     daMode    &#34;idle&#34;
     saMode    &#34;idle&#34;
     daCount   &#34;&#34;
     saCount   &#34;&#34;
     ipSaMode &#34;ipIdle&#34;
     ipDaMode &#34;ipIdle&#34;
     ipSaCount &#34;&#34;
     ipDaCount &#34;&#34;
     tcpSynFlag &#34;&#34;
     tcpFinFlag &#34;&#34;
     tcpRstFlag &#34;&#34;
     tcpAckFlag  &#34;&#34;
     tcpPushFlag &#34;&#34;
     tcpUrgFlag &#34;&#34;
     tcpSeqNum &#34;&#34;
     tcpPushFlag &#34;&#34;
     sourcePort  &#34;&#34;
     destPort    &#34;&#34;
     tag         &#34;&#34;
     userPriority &#34;&#34;
     percentage &#34;100&#34;
  }

  set strType &#34;packets&#34;
  set numPacket $numFrames
  if {$streamType == &#34;contPacket&#34;} {
     set strType &#34;contPacket&#34;
     set numPacket &#34;&#34;
  }

  if {$direction == &#34;1Way&#34;} {
     if {($protocol == &#34;tcp&#34;) || ($protocol == &#34;udp&#34;)} {
        <a name="::result_debug(1)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket $protocol/Ip $strType from portId $txPortId&#34;
     } else {
        <a name="::result_debug(2)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket Ip $strType from portId $txPortId&#34;
     }
  } else {
     if {($protocol == &#34;tcp&#34;) || ($protocol == &#34;udp&#34;)} {
        <a name="::result_debug(3)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket $protocol/Ip $strType in 2 way direction from portId $txPortId and $rxPortId&#34;
     } else {
        <a name="::result_debug(4)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket Ip $strType in 2 way direction from portId $txPortId and $rxPortId&#34;
     }
  }

  <a name="::result_debug(5)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$frameSent&#34;

  set space1 13
  set space2 38
  set space3 50

  set str [format &#34;%-*s %s&#34; $space1 DestMac: $destMac]
  set str [format &#34;%-*s %s&#34; $space2 $str srcMac:]
  set str [format &#34;%-*s %s&#34; $space3 $str $srcMac]
  <a name="::result_debug(6)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$daMode != &#34;idle&#34;} {
     if {($daMode == &#34;increment&#34;) || ($daMode == &#34;decrement&#34;)} {
        set daStr &#34;$daMode $daCount macs&#34;
        set str [format &#34;%-*s %s&#34; $space1 daMode: $daStr]
     } else {
        set str [format &#34;%-*s %s&#34; $space1 daMode: $daMode]
     }

     if {$saMode != &#34;idle&#34;} {
        set str [format &#34;%-*s %s&#34; $space2 $str saMode:]
        if {($saMode == &#34;increment&#34;) || ($saMode == &#34;decrement&#34;)} {
           set saStr &#34;$saMode $saCount macs&#34;
           set str [format &#34;%-*s %s&#34; $space3 $str $saStr]
        } else {
           set str [format &#34;%-*s %s&#34; $space3 $str $saMode]
        }
     }
     <a name="::result_debug(7)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  } elseif {$saMode != &#34;idle&#34;} {
        if {($saMode == &#34;increment&#34;) || ($saMode == &#34;decrement&#34;)} {
           set saStr &#34;$saMode $saCount macs&#34;
           set str [format &#34;%-*s %s&#34; $space1 saMode: $saStr]
        } else {
           set str [format &#34;%-*s %s&#34; $space1 saMode: $saMode]
        }
     <a name="::result_debug(8)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  set str [format &#34;%-*s %s&#34; $space1 DestIpAddr: $destIp]
  set str [format &#34;%-*s %s&#34; $space2 $str SrcIpAddr:]
  set str [format &#34;%-*s %s&#34; $space3 $str $srcIp]

  <a name="::result_debug(9)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$ipDaMode != &#34;ipIdle&#34;} {
     if {($ipDaMode == &#34;increment&#34;) || ($ipDaMode == &#34;decrement&#34;)} {
        set daStr &#34;$ipDaMode $daCount Ips&#34;
        set str [format &#34;%-*s %s&#34; $space1 ipDaMode: $daStr]
     } else {
        set str [format &#34;%-*s %s&#34; $space1 ipDaMode: $ipDaMode]
     }

     if {$ipSaMode != &#34;ipIdle&#34;} {
        set str [format &#34;%-*s %s&#34; $space2 $str ipSaMode:]
        if {($ipSaMode == &#34;increment&#34;) || ($ipSaMode == &#34;decrement&#34;)} {
           set saStr &#34;$ipSaMode $ipSaCount Ips&#34;
           set str [format &#34;%-*s %s&#34; $space3 $str $saStr]
        } else {
           set str [format &#34;%-*s %s&#34; $space3 $str $ipSaMode]
        }
     }
     <a name="::result_debug(10)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  } elseif {$ipSaMode != &#34;ipIdle&#34;} {
        if {($ipSaMode == &#34;increment&#34;) || ($ipSaMode == &#34;decrement&#34;)} {
           set saStr &#34;$ipSaMode $ipSaCount Ips&#34;
           set str [format &#34;%-*s %s&#34; $space1 ipSaMode: $saStr]
        } else {
           set str [format &#34;%-*s %s&#34; $space1 ipSaMode: $ipSaMode]
        }
     <a name="::result_debug(11)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  if {$tag != &#34;none&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 VLANTag: $tag]
     set str [format &#34;%-*s %s&#34; $space2 $str userPriority:]
     set str [format &#34;%-*s %s&#34; $space3 $str $userPriority]
     <a name="::result_debug(12)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  if {$protocol == &#34;tcp&#34;} {
     if {$tcpSynFlag != &#34;&#34;} {
        set str [format &#34;%-*s %s&#34; $space1 tcpSynFlag: $tcpSynFlag]
        set str [format &#34;%-*s %s&#34; $space2 $str tcpFinFlag:]
        set str [format &#34;%-*s %s&#34; $space3 $str $tcpFinFlag]
        <a name="::result_debug(13)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     }

     if {$tcpRstFlag != &#34;&#34;} {
        set str [format &#34;%-*s %s&#34; $space1 tcpRstFlag: $tcpRstFlag]
        set str [format &#34;%-*s %s&#34; $space2 $str tcpAckFlag:]
        set str [format &#34;%-*s %s&#34; $space3 $str $tcpAckFlag]
        <a name="::result_debug(14)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     }

     if {$tcpPushFlag != &#34;&#34;} {
        set str [format &#34;%-*s %s&#34; $space1 tcpPushFlag: $tcpPushFlag]
        set str [format &#34;%-*s %s&#34; $space2 $str tcpUrgFlag:]
        set str [format &#34;%-*s %s&#34; $space3 $str $tcpUrgFlag]
        <a name="::result_debug(15)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     }

     if {$tcpSeqNum != &#34;&#34;} {
        set str [format &#34;%-*s %s&#34; $space1 tcpSeqNum: $tcpSeqNum]
        <a name="::result_debug(16)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     }

     if {($sourcePort != &#34;&#34;) || ($destPort != &#34;&#34;) } {
        set str [format &#34;%-*s %s&#34; $space1 sourcePort: $sourcePort]
        set str [format &#34;%-*s %s&#34; $space2 $str destPort:]
        set str [format &#34;%-*s %s&#34; $space3 $str $destPort]
        <a name="::result_debug(17)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     }
  }
  if {$protocol == &#34;udp&#34;} {
     if {($sourcePort != &#34;&#34;) || ($destPort != &#34;&#34;) } {
        set str [format &#34;%-*s %s&#34; $space1 sourcePort: $sourcePort]
        set str [format &#34;%-*s %s&#34; $space2 $str destPort:]
        set str [format &#34;%-*s %s&#34; $space3 $str $destPort]
        <a name="::result_debug(18)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
     }
  }
  if {$percentage != &#34;100&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 TxPerc: $percentage]
     <a name="::result_debug(19)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }
}

<span class="comment-line">##################################################################    </span>
<span class="comment-line"># Procedure Name: displayMacPacketFormat</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     	Displays the decoded version of a L2 packet sent over</span>
<span class="comment-line">#       the specified port.</span>
<span class="comment-line"># Input args: </span>
<span class="comment-line"># Output args:  None</span>
<span class="comment-line"># Return value: None</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#        displayMacPacketFormat -txPortId $txPortId -frameSent $streamSent \</span>
<span class="comment-line">#                    -streamType $streamType -destMac $dMacAddr \</span>
<span class="comment-line">#                    -srcMac $sMacAddr -numFrames $numFrames</span>
<span class="comment-line"># Category: Utility</span>
<span class="comment-line">##################################################################</span>
<strong><a name="::::displayMacPacketFormat_223">proc <a href="frameFormat.tcl-annot.html#::::displayMacPacketFormat">::::displayMacPacketFormat</a></a></strong> {args} {
  <a name="::parse_args(2)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> displayMacPacketFormat $args {
     txPortId   &#34;&#34;
     rxPortId   &#34;&#34;
     direction  &#34;1Way&#34;
     frameSent  &#34;&#34;
     streamType &#34;&#34;
     numFrames  &#34;1&#34;
     destMac    &#34;&#34;
     srcMac     &#34;&#34;
     <a name="::protocol(2)"><a href="./ePTClient.tcl.html#::protocol_728">::protocol</a></a>   &#34;mac&#34;
     daMode     &#34;idle&#34;
     saMode     &#34;idle&#34;
     daCount    &#34;&#34;
     saCount    &#34;&#34;
     wTag       &#34;false&#34;
     tag        &#34;&#34;
     ethernetType &#34;noType&#34;
     frameType &#34;08 00&#34;
     userPriority &#34;&#34;
     percentage &#34;100&#34;
  }

  set strType &#34;&#34;
  set numPacket $numFrames

  set strType &#34;packet&#34;
  if {$streamType == &#34;contPacket&#34;} {
     set strType &#34;continuous&#34;
     set numPacket &#34;&#34;
  }

  if {$direction == &#34;1Way&#34;} {
     <a name="::result_debug(20)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket L2 $strType from portId $txPortId&#34;
  } else {
     <a name="::result_debug(21)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket L2 $strType in 2Way direction from portId $txPortId and $rxPortId&#34;
  }

  <a name="::result_debug(22)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$frameSent&#34;

  set space1 10
  set space2 35
  set space3 49

  set str [format &#34;%-*s %s&#34; $space1 DestMac: $destMac]
  set str [format &#34;%-*s %s&#34; $space2 $str SrcMac:]
  set str [format &#34;%-*s %s&#34; $space3 $str $srcMac]
  <a name="::result_debug(23)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$daMode != &#34;idle&#34;} {
     if {($daMode == &#34;increment&#34;) || ($daMode == &#34;decrement&#34;)} {
        set daStr &#34;$daMode $daCount macs&#34;
        set str [format &#34;%-*s %s&#34; $space1 daMode: $daStr]
     } else {
        set str [format &#34;%-*s %s&#34; $space1 daMode: $daMode]
     }

     if {$saMode != &#34;idle&#34;} {
        set str [format &#34;%-*s %s&#34; $space2 $str saMode:]
        if {($saMode == &#34;increment&#34;) || ($saMode == &#34;decrement&#34;)} {
           set saStr &#34;$saMode $saCount macs&#34;
           set str [format &#34;%-*s %s&#34; $space3 $str $saStr]
        } else {
           set str [format &#34;%-*s %s&#34; $space3 $str $saMode]
        }
     }
     <a name="::result_debug(24)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  } elseif {$saMode != &#34;idle&#34;} {
        if {($saMode == &#34;increment&#34;) || ($saMode == &#34;decrement&#34;)} {
           set saStr &#34;$saMode $saCount macs&#34;
           set str [format &#34;%-*s %s&#34; $space1 saMode: $saStr]
        } else {
           set str [format &#34;%-*s %s&#34; $space1 saMode: $saMode]
        }
     <a name="::result_debug(25)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  if {$wTag != &#34;false&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 VLANTag: $tag]
     set str [format &#34;%-*s %s&#34; $space2 $str userPriority:]
     set str [format &#34;%-*s %s&#34; $space3 $str $userPriority]
  }

  <a name="::result_debug(26)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  set str [format &#34;%-*s %s&#34; $space1 FrameType: $frameType]
  if {$ethernetType != &#34;noType&#34;} {
     set str [format &#34;%-*s %s&#34; $space2 $str EtherType:]
     set str [format &#34;%-*s %s&#34; $space3 $str $ethernetType]
  }

  <a name="::result_debug(27)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$percentage != &#34;100&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 TxPerc: $percentage]
     <a name="::result_debug(28)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }
}

<span class="comment-line">##################################################################    </span>
<span class="comment-line"># Procedure Name: displayDhcpPacketFormat</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     	Displays the decoded version of a dhcp packet sent over</span>
<span class="comment-line">#       the specified port.</span>
<span class="comment-line"># Input args: </span>
<span class="comment-line"># Output args:  None</span>
<span class="comment-line"># Return value: None</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#      displayDhcpPacketFormat -txPortId $txPortId -destMac $dMacAddr \</span>
<span class="comment-line">#        -srcMac $sMacAddr -srcIp $sIpAddr -destIp $dIpAddr -saMode $saMode \</span>
<span class="comment-line">#        -daMode $daMode -chid $chid -clientHwAddr $clientHwAddr -clientIpAddr \</span>
<span class="comment-line">#        $clientIpAddr -opCode $opCode -optionCodeList $optionCodeList \</span>
<span class="comment-line">#        -wTag $wTag -tagNo $tagNo -frameSent $streamSent</span>
<span class="comment-line"># Category: Utility</span>
<span class="comment-line">##################################################################</span>

<strong><a name="::::displayDhcpPacketFormat_339">proc <a href="frameFormat.tcl-annot.html#::::displayDhcpPacketFormat">::::displayDhcpPacketFormat</a></a></strong> {args} {
  <a name="::parse_args(3)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> displayDhcpPacketFormat $args {
      txPortId   &#34;&#34;
      rxPortId   &#34;&#34;
      direction  &#34;1Way&#34;
      frameSent  &#34;&#34;
      numFrames &#34;1&#34;
      streamType &#34;stopStream&#34;
      srcMac &#34;00 00 86 52 55 CB&#34;
      destMac &#34;ff ff ff ff ff ff&#34;
      srcIp &#34;127.0.0.1&#34;
      destIp &#34;127.0.0.1&#34;
      saMode &#34;idle&#34;
      daMode &#34;idle&#34;
      chid &#34;1&#34;
      clientHwAddr &#34;00 00 86 52 55 CB&#34;
      clientIpAddr &#34;0.0.0.0&#34;
      opCode &#34;dhcpBootRequest&#34;
      optionCodeList &#34;{dhcpMessageType dhcpDiscover}&#34;
      wTag &#34;false&#34;
      tagNo &#34;002&#34;
   }
  set strType &#34;&#34;
  set numPacket $numFrames
  set strType &#34;packet&#34;
  if {$streamType == &#34;contPacket&#34;} {
     set strType &#34;continuous&#34;
     set numPacket &#34;&#34;
  }

  if {$direction == &#34;1Way&#34;} {
     <a name="::result_debug(29)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket Dhcp $strType from portId $txPortId&#34;
  } else {
     <a name="::result_debug(30)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket Dhcp $strType in 2Way direction from portId $txPortId and $rxPortId&#34;
  }
  <a name="::result_debug(31)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$frameSent&#34;
  <a name="::result_debug(32)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34; &#34;

  set space1 16
  set space2 38
  set space3 52

  set str [format &#34;%-*s %s&#34; $space1 DestMac: $destMac]
  set str [format &#34;%-*s %s&#34; $space2 $str srcMac:]
  set str [format &#34;%-*s %s&#34; $space3 $str $srcMac]
  <a name="::result_debug(33)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$daMode != &#34;idle&#34;} {
     if {($daMode == &#34;increment&#34;) || ($daMode == &#34;decrement&#34;)} {
        set daStr &#34;$daMode $daCount macs&#34;
        set str [format &#34;%-*s %s&#34; $space1 daMode: $daStr]
     } else {
        set str [format &#34;%-*s %s&#34; $space1 daMode: $daMode]
     }

     if {$saMode != &#34;idle&#34;} {
        set str [format &#34;%-*s %s&#34; $space2 $str saMode:]
        if {($saMode == &#34;increment&#34;) || ($saMode == &#34;decrement&#34;)} {
           set saStr &#34;$saMode $saCount macs&#34;
           set str [format &#34;%-*s %s&#34; $space3 $str $saStr]
        } else {
           set str [format &#34;%-*s %s&#34; $space3 $str $saMode]
        }
     }
     <a name="::result_debug(34)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  } elseif {$saMode != &#34;idle&#34;} {
        if {($saMode == &#34;increment&#34;) || ($saMode == &#34;decrement&#34;)} {
           set saStr &#34;$saMode $saCount macs&#34;
           set str [format &#34;%-*s %s&#34; $space1 saMode: $saStr]
        } else {
           set str [format &#34;%-*s %s&#34; $space1 saMode: $saMode]
        }
     <a name="::result_debug(35)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  set str [format &#34;%-*s %s&#34; $space1 DestIpAddr: $destIp]
  set str [format &#34;%-*s %s&#34; $space2 $str SrcIpAddr:]
  set str [format &#34;%-*s %s&#34; $space3 $str $srcIp]
  <a name="::result_debug(36)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  set str [format &#34;%-*s %s&#34; $space1 clientHwAddr: $clientHwAddr]
  set str [format &#34;%-*s %s&#34; $space2 $str clientIpAddr:]
  set str [format &#34;%-*s %s&#34; $space3 $str $clientIpAddr]
  <a name="::result_debug(37)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$wTag != &#34;false&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 Tag: $tagNo]
     <a name="::result_debug(38)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  set str [format &#34;%-*s %s&#34; $space1 opCode: $opCode]
<span class="comment-line">#  set str [format &#34;%-*s %s&#34; $space2 $str chid:]</span>
<span class="comment-line">#  set str [format &#34;%-*s %s&#34; $space3 $str $chid]</span>
  <a name="::result_debug(39)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

<span class="comment-line"># TBD</span>
  foreach optionCode $optionCodeList {
     set i [lsearch -exact $optionCodeList $optionCode]
     if {[regexp -nocase &#34;dhcpMessageType&#34; [<a name="::GetPlatform(1)"><a href="./misc.tcl.html#::GetPlatform_478">::GetPlatform</a></a>]]!=1} {
        regexp &#34;(.*dhcpMessageType )(.*)&#34; $optionCode var1 var2 dhcpMessage
        if {[info exist dhcpMessage]} {
           set str [format &#34;%-*s %s&#34; $space1 dhcpMessageType: $dhcpMessage]
           <a name="::result_debug(40)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
           break
        }
     }
<span class="comment-line">#     result_debug &#34;List is $optionCodeList&#34; </span>
<span class="comment-line">#     result_debug &#34; linex is $i&#34;</span>
<span class="comment-line">#     set str [format &#34;%-*s %s&#34; $space1 optionCode: $optionCode]</span>
<span class="comment-line">#     result_debug &#34;$str&#34;</span>
  }

}

<span class="comment-line">##################################################################    </span>
<span class="comment-line"># Procedure Name: displayArpPacketFormat</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     	Displays the decoded version of a Arp packet sent over</span>
<span class="comment-line">#       the specified port.</span>
<span class="comment-line"># Input args: </span>
<span class="comment-line"># Output args:  None</span>
<span class="comment-line"># Return value: None</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#      displayArpPacketFormat -txPortId $txPortId -destMac $dMacAddr \</span>
<span class="comment-line">#        -srcMac $sMacAddr -srcIp $sIpAddr -destIp $dIpAddr \</span>
<span class="comment-line">#        -operation $operation -wTag $wTag -tagNo $tagNo -frameSent $streamSent</span>
<span class="comment-line"># Category: Utility</span>
<span class="comment-line">##################################################################</span>

<strong><a name="::::displayArpPacketFormat_468">proc <a href="frameFormat.tcl-annot.html#::::displayArpPacketFormat">::::displayArpPacketFormat</a></a></strong> {args} {
  <a name="::parse_args(4)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> displayArpPacketFormat $args {
      txPortId   &#34;&#34;
      rxPortId   &#34;&#34;
      direction  &#34;1Way&#34;
      daMode    &#34;idle&#34;
      saMode    &#34;idle&#34;
      arpDaMode &#34;arpIdle&#34;
      arpSaMode &#34;arpIdle&#34;
      frameSent  &#34;&#34;
      numFrames &#34;1&#34;
      streamType &#34;stopStream&#34;
      srcMac &#34;00 00 86 52 55 CB&#34;
      destMac &#34;ff ff ff ff ff ff&#34;
      srcIp &#34;127.0.0.1&#34;
      destIp &#34;127.0.0.1&#34;
      operation &#34;arpRequest&#34;
      wTag &#34;false&#34;
      tagNo &#34;002&#34;
   }
  set strType &#34;packet&#34;
  set numPacket $numFrames
  if {$streamType == &#34;contPacket&#34;} {
     set strType &#34;continuous&#34;
     set numPacket &#34;&#34;
  }

  if {$direction == &#34;1Way&#34;} {
     <a name="::result_debug(41)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket $operation $strType from portId $txPortId&#34;
  } else {
     <a name="::result_debug(42)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit $numPacket $operation %strType in 2Way direction from portId $txPortId and $rxPortId&#34;
  }

  <a name="::result_debug(43)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$frameSent&#34;
  <a name="::result_debug(44)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34; &#34;

  set space1 13
  set space2 38
  set space3 52

  set str [format &#34;%-*s %s&#34; $space1 DestMac: $destMac]
  set str [format &#34;%-*s %s&#34; $space2 $str srcMac:]
  set str [format &#34;%-*s %s&#34; $space3 $str $srcMac]
  <a name="::result_debug(45)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$daMode != &#34;idle&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 daMode: $daMode]

     if {$saMode != &#34;idle&#34;} {
        set str [format &#34;%-*s %s&#34; $space2 $str saMode:]
        set str [format &#34;%-*s %s&#34; $space3 $str $saMode]
     }
     <a name="::result_debug(46)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  } elseif {$saMode != &#34;idle&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 saMode: $saMode]
     <a name="::result_debug(47)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  set str [format &#34;%-*s %s&#34; $space1 DestIpAddr: $destIp]
  set str [format &#34;%-*s %s&#34; $space2 $str SrcIpAddr:]
  set str [format &#34;%-*s %s&#34; $space3 $str $srcIp]
  <a name="::result_debug(48)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$arpDaMode != &#34;arpIdle&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 arpDaMode: $arpDaMode]
     if {$arpSaMode != &#34;arpIdle&#34;} {
        set str [format &#34;%-*s %s&#34; $space2 $str arpSaMode:]
        set str [format &#34;%-*s %s&#34; $space3 $str $arpSaMode]
     }
     <a name="::result_debug(49)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  } elseif {$arpSaMode != &#34;arpIdle&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 arpSaMode: $arpSaMode]
     <a name="::result_debug(50)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  if {$wTag != &#34;false&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 Tag: $tagNo]
     <a name="::result_debug(51)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }
  <a name="::result_debug(52)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34; &#34;
}
<span class="comment-line">##################################################################    </span>
<span class="comment-line"># Procedure Name: displayIGMPv3PacketFormat</span>
<span class="comment-line"># Description:</span>
<span class="comment-line">#     	Displays the decoded version of a IGMPv3 packet sent over</span>
<span class="comment-line">#       the specified port.</span>
<span class="comment-line"># Input args: </span>
<span class="comment-line"># Output args:  None</span>
<span class="comment-line"># Return value: None</span>
<span class="comment-line"># Typical usage: </span>
<span class="comment-line">#      displayIGMPv3PacketFormat -txPortId $txPortId -destMac $dMacAddr \</span>
<span class="comment-line">#        -srcMac $sMacAddr -srcIp $sIpAddr -destIp $dIpAddr \</span>
<span class="comment-line">#        -operation $operation -wTag $wTag -tagNo $tagNo -frameSent $streamSent</span>
<span class="comment-line"># Category: Utility</span>
<span class="comment-line">##################################################################</span>

<strong><a name="::::displayIGMPv3PacketFormat_564">proc <a href="frameFormat.tcl-annot.html#::::displayIGMPv3PacketFormat">::::displayIGMPv3PacketFormat</a></a></strong> {args} {
  <a name="::parse_args(5)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> displayIGMPv3PacketFormat $args {
     txPortId &#34;1&#34;
     sourceMac &#34;00 A1 F1 00 00 01&#34;
     destMac &#34;01 00 5E 00 00 16&#34;
     hostIp &#34;127.0.0.1&#34;
     destIp &#34;224.0.0.22&#34;
     streamType &#34;stopStream&#34;
     numFrames &#34;10&#34;
     tag &#34;none&#34;
     tagMode &#34;vIdle&#34;
     tagRepeat &#34;1&#34;
     percentage &#34;1&#34;
     saMode &#34;idle&#34;
     daMode &#34;idle&#34;
     ipSaMode &#34;ipIdle&#34;
     ipDaMode &#34;ipIdle&#34;
     reportType &#34;1&#34;
     groupAddr &#34;224.0.0.22&#34;
     srcIpAddr &#34;{}&#34;
     igmpType  &#34;report&#34;
     maxResponseTime &#34;100&#34;
     qqic &#34;127&#34;
     qrv  &#34;0&#34;
   }
  set strType &#34;packet&#34;
  set numPacket $numFrames
  if {$streamType == &#34;contPacket&#34;} {
     set strType &#34;continuous&#34;
     set numPacket &#34;&#34;
  }

  <a name="::result_debug(53)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;Transmit IGMPv3 Report from portId $txPortId&#34;

  <a name="::result_debug(54)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34; &#34;

  set space1 13
  set space2 38
  set space3 52

  set str [format &#34;%-*s %s&#34; $space1 DestMac: $destMac]
  set str [format &#34;%-*s %s&#34; $space2 $str srcMac:]
  set str [format &#34;%-*s %s&#34; $space3 $str sourceMac]
  <a name="::result_debug(55)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$daMode != &#34;idle&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 daMode: $daMode]

     if {$saMode != &#34;idle&#34;} {
        set str [format &#34;%-*s %s&#34; $space2 $str saMode:]
        set str [format &#34;%-*s %s&#34; $space3 $str $saMode]
     }
     <a name="::result_debug(56)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  } elseif {$saMode != &#34;idle&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 saMode: $saMode]
     <a name="::result_debug(57)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  set str [format &#34;%-*s %s&#34; $space1 DestIpAddr: $destIp]
  set str [format &#34;%-*s %s&#34; $space2 $str SrcIpAddr:]
  set str [format &#34;%-*s %s&#34; $space3 $str $hostIp]
  <a name="::result_debug(58)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  set str [format &#34;%-*s %s&#34; $space1 Percentage: $percentage]
  set str [format &#34;%-*s %s&#34; $space2 $str StreamType:]
  set str [format &#34;%-*s %s&#34; $space3 $str $streamType]
  <a name="::result_debug(59)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  if {$tag != &#34;none&#34;} {
     set str [format &#34;%-*s %s&#34; $space1 Tag: $tag]
     <a name="::result_debug(60)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  }

  switch -- $reportType {
      &#34;1&#34; {set rTypeText &#34;1-Include&#34;;}
      &#34;2&#34; {set rTypeText &#34;2-Exclude&#34;;}
      &#34;3&#34; {set rTypeText &#34;3-ToInclude&#34;;}
      &#34;4&#34; {set rTypeText &#34;4-ToExcludeMode&#34;;}
      &#34;5&#34; {set rTypeText &#34;5-AllowNewSources&#34;;}
      &#34;6&#34; {set rTypeText &#34;6-BlockOldSources&#34;;}
  }
  set str [format &#34;%-*s %s&#34; $space1 ReportType: $rTypeText]
  set str [format &#34;%-*s %s&#34; $space2 $str GroupAddr:]
  set str [format &#34;%-*s %s&#34; $space3 $str $groupAddr]
  <a name="::result_debug(61)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;

  set str [format &#34;%-*s %s&#34; $space1 AllowedSrcs: $srcIpAddr]
  <a name="::result_debug(62)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34;$str&#34;
  <a name="::result_debug(63)"><a href="./lconsoles.tcl.html#::result_debug_3">::result_debug</a></a> &#34; &#34;
}
</pre>
<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
