<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>get_modules.tcl</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#get_modules.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<p><strong>get_modules.tcl</strong>&nbsp;&nbsp;<span class="filetype-link">(<a href="get_modules.tcl-annot.html">annotations</a> | <a href="get_modules.tcl.txt">original source</a>)</span>
</p>
<pre class="src-code">
<span class="comment-line">#!/usr/bin/tclsh</span>

package require Tclx
set DEBUGON 0
set DEBUGONREGRESSIONAREAS 0
set DEBUGONDIRFEATURES 0
set DEBUGONRUNREG 0
<span class="comment-line"># ----------------------------------------------------------</span>
<span class="comment-line"># Start MAIN</span>
<span class="comment-line"># ----------------------------------------------------------</span>
<strong><a name="::::print_usage_11">proc <a href="get_modules.tcl-annot.html#::::print_usage">::::print_usage</a></a></strong> {} {
    puts &#34;\r&#34;
    puts {Usage: get_modules.tcl -release &lt;release&gt; -svntag}
    puts {      [&lt;release&gt;]: &#34;12.6.1&#34;}
    puts {      [&lt;svntag&gt;]: &#34;EXOS_12.5.3&#34;}
    puts {               &#34;EXOS_Automation&#34;}
    puts {               &#34;SWDev_12.5.2&#34;}
    puts {         (Typical Usage:) }
    puts {      (./get_modules.tcl -release 12.6.1 -svntag EXOS_12.6.1 }
    puts &#34;\r&#34;
}

global DBNAME1
global DBHANDLE1
global DEBUGON
global SKIPAREALIST
global SKIPFEATUREDIRSLIST
global EXISTINGFEATURENAMESByAreaLists
global EXISTINGFEATUREDIRSByName
global EXISTINGFEATUREDIRSByAreaLists
global EXISTINGFEATUREOTPSModule
global EXISTINGINVBYAREADIRTC
global SUBTYPESBYAREAFEATUREDIR
global ACTIVEBYAREAFEATUREDIR
global ENDRELEASEBYAREAFEATUREDIR
global DBTypesByAutoDirs
global INRELEASE
global INSVNTAG
global FILEDIR
global ISIO

set FILEDIR [pwd]
set DBNAME2 autoweb_db_7 ;<span class="comment-line"># Automation code repository target for these scripts</span>
set DBUSERNAME2 regression_user ;<span class="comment-line"># </span>
set DBPASSWORD2 extreme ;<span class="comment-line"># </span>
set DBIPADDRESS2 10.69.6.211 ;<span class="comment-line"># Automation code repository target for these scripts</span>
set DBHANDLE2 &#34;&#34;
set AREAMAPARRAY &#34;&#34; 
set SKIPAREALIST {Autoweb Benchmarktest Doc EPICenter EPICenter-test Lib iTest main Tools users Util PerformanceTest XML_API cli-ew CLItest Stresstest Scalabilitytest}
set SKIPFEATUREDIRSLIST(functionaltest) {ACL_24e3 ARM cleanup CLI DF EXOS_MPLS IPv6_LPM ipx mpls-ldp \
         MPLS-TLS NAT newmpls PXM QOS-ISQ QOS-PRI utils WAN-MLP WAN-PHY WAN-PPP}
set SKIPFEATUREDIRSLIST(performancetest) {NAT}
set SKIPFEATUREDIRSLIST(xml-api) {Lib}
set SKIPFEATUREDIRSLIST(cli-ew) {&#34;dvmrp&#34; &#34;flow&#34; &#34;ipx&#34; &#34;nat&#34; &#34;slb&#34; &#34;wan-common&#34; &#34;wan-e1&#34; &#34;wan-t1&#34; &#34;wan-t3&#34;}
<span class="comment-line"># -------- MAP DB Feature Types to auto tree directories ----------</span>
set AutoAreasByDBTypes(benchmark) Benchmarktest
set AutoAreasByDBTypes(cli) cli-ew
set AutoAreasByDBTypes(diagnostics) DiagnosticsTest
set AutoAreasByDBTypes(epicenter) EPICenter-test
set AutoAreasByDBTypes(functional) Functionaltest
set AutoAreasByDBTypes(ixscriptmate) ixScriptMate
set AutoAreasByDBTypes(performance) PerformanceTest
set AutoAreasByDBTypes(scalability) Scalabilitytest
set AutoAreasByDBTypes(snmp) SnmpFunctionaltest
set AutoAreasByDBTypes(stress) Stresstest
set AutoAreasByDBTypes(systems) SystemTest
set AutoAreasByDBTypes(xml) XML_API
set AutoAreasByDBTypes(fit) FeatureInteraction

set DBTypesByAutoArea(Benchmarktest) benchmark
set DBTypesByAutoArea(CLItest) cli
set DBTypesByAutoArea(cli-ew) cli
set DBTypesByAutoArea(uploadanddownload) cli
set DBTypesByAutoArea(DiagnosticsTest) diagnostics
set DBTypesByAutoArea(EPICenter) epicenter
set DBTypesByAutoArea(EPICenter-test) epicenter 
set DBTypesByAutoArea(Functionaltest) functional
set DBTypesByAutoArea(ixScriptMate) ixscriptmate
set DBTypesByAutoArea(PerformanceTest) performance
set DBTypesByAutoArea(Scalabilitytest) scalability
set DBTypesByAutoArea(SnmpFunctionaltest) snmp
set DBTypesByAutoArea(Stresstest) stress
set DBTypesByAutoArea(SystemTest) systems
set DBTypesByAutoArea(XML_API) xml
set DBTypesByAutoArea(FeatureInteraction) fit
<span class="comment-line"># -----------------------------------------------------------------</span>
set counter 1

    <span class="comment-line"># checking command parameters</span>
    if {$argc&lt;2} {
        puts &#34;Not enough parameters&#34;
        <a name="::::print_usage(1)"><a href="./summarize.tcl.html#::::print_usage_2">::::print_usage</a></a>
        exit
    }

set LIB_PATH &#34;../Lib&#34;
lappend auto_path $LIB_PATH

source ../Lib/parse_args.tcl
source ../Lib/mainLib.tcl
source ../Lib/mysqlLib.tcl
source ../Lib/mgmt_reporting.tcl
<span class="comment-line">##################################################################################</span>
<span class="comment-line">#  Parse Args</span>
<span class="comment-line">##################################################################################</span>
<a name="::parse_args(1)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> gather_testcase_info $argv {
    release     &#34;NULL&#34;
    svntag      &#34;NULL&#34;
    io          &#34;no&#34;
}
<a name="::::gen_index(1)"><a href="./summarize.tcl.html#::::gen_index_76">::::gen_index</a></a> &#34;../Lib&#34;
<span class="comment-line">##################################################################################</span>
<span class="comment-line">#  Source the config files</span>
<span class="comment-line">##################################################################################</span>
set sourceFile &#34;&#34;
if [catch {source &#34;../main/cfg/common.cfg&#34;} rea] {
    puts &#34;*** WARNING: Unable to source common.cfg:$rea............... ***&#34;
    puts &#34;*** WARNING: Application level variables may not be defined. ***&#34;
    exit -1
}
<span class="comment-line">#if [catch {source &#34;../Util/runReg.cfg&#34;} rea] {</span>
<span class="comment-line">#    puts &#34;*** WARNING: Unable to source queuing system runReg.cfg:$rea..... ***&#34;</span>
<span class="comment-line">#    puts &#34;*** WARNING: Application level variables may not be defined. ***&#34;</span>
<span class="comment-line">#    exit -1</span>
<span class="comment-line">#}</span>

if {$release == &#34;NULL&#34;} {
    puts &#34;*** ERROR:  You must pass in a release  12.5.1 or 12.6.1 or 12.6.3 etc ***&#34;
    exit -1
}
set INRELEASE $release

if {$svntag == &#34;NULL&#34;} {
    puts &#34;*** ERROR:  You must pass in an svntag  EXOS_12.5.1 or EXOS_Automation etc ***&#34;
    exit -1
}
set INSVNTAG $svntag
set ISIO $io
<span class="comment-line">############################################################</span>
set auto_path [linsert $auto_path 0 . ]

<a name="::::gen_index(2)"><a href="./summarize.tcl.html#::::gen_index_76">::::gen_index</a></a> .

<span class="comment-line"># ----------------------------------------------------------</span>
<span class="comment-line">#  Connect to the databases</span>
<span class="comment-line"># ----------------------------------------------------------</span>
set dbconnectstatus [<a name="::_conn_to_db2(1)"><a href="./mgmt_reporting.tcl.html#::_conn_to_db2_186">::_conn_to_db2</a></a> -host $DBIPADDRESS2 \
                                 -db $DBNAME2 \
                                 -user $DBUSERNAME2 \
                                 -password $DBPASSWORD2 \
                                 -status  &#34;&#34; \
                                 -handler $DBHANDLE2]
set DBHANDLE2 [lindex $dbconnectstatus 0]
set connectStatus [lindex $dbconnectstatus 1]
puts &#34;\n\n=== Connected to $DBIPADDRESS2 $DBNAME2 Handle $DBHANDLE2 Status $connectStatus ===&#34;
<span class="comment-line">############################################################</span>
cd /${svntag}/automation/
<span class="comment-line"># ==========================================================</span>
<span class="comment-line"># Get All Feature Info from autoweb_db</span>
<span class="comment-line"># ==========================================================</span>
<a name="::_GetAllFeatureInfoByAreaFromDb(1)"><a href="./mgmt_reporting.tcl.html#::_GetAllFeatureInfoByAreaFromDb_223">::_GetAllFeatureInfoByAreaFromDb</a></a>;
<a name="::_CreateBranchModList(1)"><a href="./mgmt_reporting.tcl.html#::_CreateBranchModList_818">::_CreateBranchModList</a></a>
</pre>
<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
