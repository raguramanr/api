<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>runReg.tcl</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#runReg.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<p><strong>runReg.tcl</strong>&nbsp;&nbsp;<span class="filetype-link">(<a href="runReg.tcl-annot.html">annotations</a> | <a href="runReg.tcl.txt">original source</a>)</span>
</p>
<pre class="src-code">
<span class="comment-line">#!/usr/bin/expect --</span>

source ../Lib/parse_args.tcl
source ./runRegAllLocal.tcl


<strong><a name="::::print_usage_7">proc <a href="runReg.tcl-annot.html#::::print_usage">::::print_usage</a></a></strong> {} {

    global regpc

    puts &#34;usage:&#34;
    puts &#34;runReg.tcl -targetpc &lt;Regression PC&gt; \[-cfg &lt;user config&gt;\]\
	    \[-image &lt;DUT image&gt;\]&#34;
    puts &#34;\r&#34;
    puts &#34;     -targetpc: Name of regression PC as defined in given config file&#34;
    puts &#34;                Values: [array names regpc]&#34;
    puts &#34;     -cfg:      User defined cfg file to use in place of default&#34;
    puts &#34;                runReg.cfg.  See runReg.cfg for format.&#34;
    puts &#34;     -image:    DUT image to download. i.e. 710b34, 601b31, etc.&#34;
}



<a name="::parse_args(1)"><a href="./parse_args.tcl.html#::parse_args_29">::parse_args</a></a> runRegAll.tcl $argv {
    targetpc &#34;&#34;
    cfg &#34;&#34;
    display &#34;&#34;
    image &#34;&#34;
}

<span class="comment-line"># Default Config file</span>
set cfgFile &#34;./runReg.cfg&#34;

if { $cfg != &#34;&#34; } {
    set cfgFile $cfg
}

if [file exists $cfgFile] {
    source $cfgFile
} else {
    puts &#34;!!! Cfg file $$cfgFile NOT FOUND !!!&#34;
    <a name="::::print_usage(1)"><a href="./summarize.tcl.html#::::print_usage_2">::::print_usage</a></a>
    exit
}


if {$image == &#34;&#34;} {
    set image 0
}

if { [lsearch [array names regpc] &#34;$targetpc&#34;] == -1} {
    puts &#34;!!! Invalid targetpc !!!&#34;
    puts &#34;Choose from [array names regpc]&#34;
    puts &#34;As defined in $cfgFile.&#34;
    <a name="::::print_usage(2)"><a href="./summarize.tcl.html#::::print_usage_2">::::print_usage</a></a>
    exit
} 

<span class="comment-line"># We assume targetpc valid from last check</span>
set display [lindex $regpc($targetpc) 2]

cd $autoScriptPath

puts &#34;DEBUG: targetpc:$targetpc display:$display image:$image&#34;

<a name="::runRegAllLocal(1)"><a href="./runRegAllLocal.tcl.html#::runRegAllLocal_3">::runRegAllLocal</a></a> $targetpc $display $image
</pre>
<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
