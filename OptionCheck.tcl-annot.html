<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                       "http://www.w3.org/TR/html4/transitional.dtd">
<!-- Generated by TclDoc @@VERSION@@ -->
<html>
<head>
  <title>OptionCheck.tcl annotations</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="default.css">
</head>
<body class="src-html">
<div class="index-selector">
<!-- index for tcl source files -->
	Index by: 
	<a href="index_main.html#OptionCheck.tcl">file name</a> | 
	<a href="index_main.html#byprocname">procedure name</a> | 
	<a href="index_main.html#bycall">procedure call</a> | 
	<a href="index_annot_full.html">annotation</a>

</div>
<hr>

<h2><a href="OptionCheck.tcl.html">OptionCheck.tcl</a> Annotations</h2>
Created from <strong><code>/root/automation/Lib/OptionCheck.tcl</strong></code>
<hr>

<table class="proc-summary">
<tr>
<!-- -------------------- PROCEDURE SUMMARY -------------------- -->
<th><a name="proc_summary">Procedure Summary</a></th>
</tr>
<tr><td><code><a href="#::::_EnhancePioneerParameterList">::::_EnhancePioneerParameterList</a> { parameter }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::_EnhanceStackingParameterList">::::_EnhanceStackingParameterList</a> { parameter }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::AllZeros">::::AllZeros</a> { valueList }</code><p class="summary">################################################################</p></td></tr>
<tr><td><code><a href="#::::CheckKeyValue">::::CheckKeyValue</a> { command parameterList args }</code><p class="summary">###############################################################
  [CheckKeyValue]
 
  Execute a CLI command/take log from the file, checks the key/value pair (combination described below)
  for existance in the output.</p></td></tr>
<tr><td><code><a href="#::::CheckPortStat">::::CheckPortStat</a> { command checkList args }</code><p class="summary">################################################################# 
 Procedure Name: CheckPortStat
   
 Description: Get ports statistic - check the packets sent or received
              from the ports 

 Input args:
              command - ex "sh port 4 util"
              check list 
              comment
              factor 
                
 Output args: none

 Typical usage: 
              [CheckPortStat $command $checklist]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################</p></td></tr>
<tr><td><code><a href="#::::CheckPortStatAvg">::::CheckPortStatAvg</a> { command checkList args }</code><p class="summary">################################################################# 
 Procedure Name: CheckPortStatAvg
   
 Description: Get ports statistic - check the packets sent or received
              from the ports average by sampling intervals

 Input args:
              command - ex "sh port 4 statistics"
              check list 
              - [comment] - text for comment for reference purposes to be 
			put in report.txt
              - [factor] - tolerance, default 0.1
              - [interval] - sampling period, default 5 secs
                
 Output args: none

 Typical usage: 
              [CheckPortStat $command $checklist]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifyTraffic
#################################################################</p></td></tr>
<tr><td><code><a href="#::::CheckTopStats">::::CheckTopStats</a> { checkList {comment {}} }</code><p class="summary">################################################################# 
 Procedure Name: CheckTopStats
   
 Description: Check tasks information - task name, task id, CPU or etc  

 Input args:
              check list 
              comment
                
 Output args: none

 Typical usage: 
              [CheckTopStats $checklist]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################</p></td></tr>
<tr><td><code><a href="#::::GetColumnValues">::::GetColumnValues</a> { command ColumnList startkey {endkey { # }} }</code><p class="summary">###############################################################
  [GetColumnValues]
 
  Execute a CLI command.</p></td></tr>
<tr><td><code><a href="#::::GetKeyValue">::::GetKeyValue</a> { command parameterList {flag 0} {needWholeLine 0} }</code><p class="summary"></p></td></tr>
<tr><td><code><a href="#::::GetTableValues">::::GetTableValues</a> { command queryList args }</code><p class="summary">################################################################</p></td></tr>
<tr><td><code><a href="#::::WaitForValues">::::WaitForValues</a> { cmd searchList args }</code><p class="summary">################################################################

 WaitForValues

 Retrieve a value from a command's output using a key-value search pair, and
 polls the output until that value stabilizes or a timer expires.</p></td></tr>
</table>
<p>
<!-- -------------------- PROCEDURE DETAIL -------------------- -->
<table class="proc-details">
<tr>
  <th><a name="proc_detail">Procedure Detail</a></th>
</tr>
</table>
<h3  class="details-header"><a name="::::_EnhancePioneerParameterList">::::_EnhancePioneerParameterList</a></h3>
<pre class="details-procdef">proc  ::::_EnhancePioneerParameterList { parameter }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::_EnhancePioneerParameterList_1375">OptionCheck.tcl, line 1375</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::_EnhanceStackingParameterList">::::_EnhanceStackingParameterList</a></h3>
<pre class="details-procdef">proc  ::::_EnhanceStackingParameterList { parameter }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::_EnhanceStackingParameterList_1345">OptionCheck.tcl, line 1345</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::AllZeros">::::AllZeros</a></h3>
<pre class="details-procdef">proc  ::::AllZeros { valueList }</pre>
<dl  class="details-desc">
<dd>################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::AllZeros_1334">OptionCheck.tcl, line 1334</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckKeyValue">::::CheckKeyValue</a></h3>
<pre class="details-procdef">proc  ::::CheckKeyValue { command parameterList args }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [CheckKeyValue]
 
  Execute a CLI command/take log from the file, checks the key/value pair (combination described below)
  for existance in the output. This proc takes 2 required args "command" and "parameterList"
  and other optional args as described below.
   
  Input Variables:
      - <command> - CLI command to execute
      - <parameterList> - a list of keys to look for values
                          Note: only support one key right now (Combination described in usage)
      - [testNo] - test number to be printed for reference in report.txt
      - [comment] - text for comment for reference purposes to be put in report.txt
      - [dut] - dut number (1,2,3,4..) on the command output is to be tested
      - [time] - time sensitive checkKeyValue 
                sTime seconds denotes wait time initially before starting the checks
                iTime seconds denotes interval time to wait in between checks
                dTime seconds denotes expected time that should be passed
                fTime seconds denotes the max time limit before the check fails
      - [nofeep] - runs the command in nofeep mode. (0 as default, 1 for nofeep)
      - [reportResults] - report error if failure, otherwise just return ok or error.
  Output Variables:
      - [time]
                rTime seconds denotes the time taken by the check for pass/fail.

  Return Value:
      - returns "ok" if success "error" if failure
      
Usage:
   lappend parameterList "Key1 value" ;value right after key
   lappend parameterList "Key2" ;key exists
   lappend parameterList "Key2 notExist"
   lappend parameterList "Key3 value inLine" ;value somewhere in the line
   lappend parameterList "Key3 value inLine exist 3" ;value somewhere in the 3th line after key, subject to limitations
   lappend parameterList "Key3 value inLine notExist"
   For key with spaces
   lappend parameterList "{Last Member Query:} 2"
   CheckKeyValue "show ipconfig" $parameterList
   lappend parameterList "{AreaId : 0.0.0.0} {Summary Network *10001} inLine exist 6"
   set result [CheckKeyValue "show ospf ls sta " $parameterList -dut 1 -time {s: 200 i: 8 d: 252 f: 260 r}]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifySwitchOutput
###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::CheckKeyValue_47">OptionCheck.tcl, line 47</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckPortStat">::::CheckPortStat</a></h3>
<pre class="details-procdef">proc  ::::CheckPortStat { command checkList args }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: CheckPortStat
   
 Description: Get ports statistic - check the packets sent or received
              from the ports 

 Input args:
              command - ex "sh port 4 util"
              check list 
              comment
              factor 
                
 Output args: none

 Typical usage: 
              [CheckPortStat $command $checklist]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::CheckPortStat_698">OptionCheck.tcl, line 698</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckPortStatAvg">::::CheckPortStatAvg</a></h3>
<pre class="details-procdef">proc  ::::CheckPortStatAvg { command checkList args }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: CheckPortStatAvg
   
 Description: Get ports statistic - check the packets sent or received
              from the ports average by sampling intervals

 Input args:
              command - ex "sh port 4 statistics"
              check list 
              - [comment] - text for comment for reference purposes to be 
			put in report.txt
              - [factor] - tolerance, default 0.1
              - [interval] - sampling period, default 5 secs
                
 Output args: none

 Typical usage: 
              [CheckPortStat $command $checklist]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifyTraffic
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::CheckPortStatAvg_816">OptionCheck.tcl, line 816</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::CheckTopStats">::::CheckTopStats</a></h3>
<pre class="details-procdef">proc  ::::CheckTopStats { checkList {comment {}} }</pre>
<dl  class="details-desc">
<dd>################################################################# 
 Procedure Name: CheckTopStats
   
 Description: Check tasks information - task name, task id, CPU or etc  

 Input args:
              check list 
              comment
                
 Output args: none

 Typical usage: 
              [CheckTopStats $checklist]

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: Setup
#################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::CheckTopStats_965">OptionCheck.tcl, line 965</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetColumnValues">::::GetColumnValues</a></h3>
<pre class="details-procdef">proc  ::::GetColumnValues { command ColumnList startkey {endkey { # }} }</pre>
<dl  class="details-desc">
<dd>###############################################################
  [GetColumnValues]
 
  Execute a CLI command. The function will return a value specified by a
  lilst of start & end indexes found in the output. Mainly meant for table. 
  parses the table for given indexes and return in a list.
  It starts parsing from the next line after startKey and ends at the line 
  where stop key is encountered

  Input Variables:
      - <command> - CLI command to execute
      - <parameterList> - a list of start & end indexes
                         (This way it supports multiple columns too)
      - <startkey> - Next line after key is the start of the table. Case sensitive.
      - <endkey>   - the key before which table parsing ends. Case Sensitive.
  Output Variables:
      - none

  Return Value:
      - returns a list of values found for each index pair,
      
  [Examples]
     set foundOneColumnValues [GetColumnValues "show fdb" {{2 4}} $startKey $endKey]
     -> returns a List of values found in 2nd to 4th loc of each line after
        key is encountered

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: GetSwitchInfo

###############################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::GetColumnValues_593">OptionCheck.tcl, line 593</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetKeyValue">::::GetKeyValue</a></h3>
<pre class="details-procdef">proc  ::::GetKeyValue { command parameterList {flag 0} {needWholeLine 0} }</pre>
<dl  class="details-desc">
<dd>
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::GetKeyValue_438">OptionCheck.tcl, line 438</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::GetTableValues">::::GetTableValues</a></h3>
<pre class="details-procdef">proc  ::::GetTableValues { command queryList args }</pre>
<dl  class="details-desc">
<dd>################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::GetTableValues_1180">OptionCheck.tcl, line 1180</a></dd>
</dl></dd>
</dl>


<h3  class="details-header"><a name="::::WaitForValues">::::WaitForValues</a></h3>
<pre class="details-procdef">proc  ::::WaitForValues { cmd searchList args }</pre>
<dl  class="details-desc">
<dd>################################################################

 WaitForValues

 Retrieve a value from a command's output using a key-value search pair, and
 polls the output until that value stabilizes or a timer expires.

 Input variables: Variables in []'s are optional.
     cmd
       Command to be executed on the DUT.

     searchList
       A list of key-value pairs to search for.  See the description for the
       GetKeyValue function for details on the format of key-value pairs.

     [-comment <text>]
       Descriptive text to be included in the test transcript.  Default is
       blank.

     [-dut <num>]
       DUT on which command should be executed.  Default is DUT 1.

     [-reportResults <bool>]
       Indicates whether to report results as an official sub-test.  Default
       is true.

     [-timer <time_struct>]
       Parameters for controlling initial delay, interval, and time-out.
       The structure is a TCL list or string with the following format:

           start: <sec> interval: <sec> fail: <sec>

       Where <sec> is a positive integer value measuring seconds.  The fail
       time must be longer than the start time.


 Output variables: None.

 Return value:
       A list containing the values returned by GetKeyValue.

 Category Types (Setup,GetSwitchInfo,SendTraffic,CaptureTraffic,VerifySwitchOutput
                          VerifyTraffic)
 Category: VerifySwitchOutput
################################################################
  <dl  class="props" id="proc-props">
<dt>Defined in:</dt>
<dd><a href="OptionCheck.tcl.html#::::WaitForValues_1457">OptionCheck.tcl, line 1457</a></dd>
</dl></dd>
</dl>

<hr>
<div class="index-selector">
	<a href="index_main.html#byfilename">file name</a> 
 | 
	<a href="index_main.html#byprocname">procedure name</a> 
 | 
	<a href="index_main.html#bycall">procedure call</a> 
 | 
	<a href="index_annot_full.html">annotation</a> 

<br>
<cite>File generated 2018-06-14 at 17:09.</cite>
</div>

</body>
</html>
